<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head id="Head">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="x-ua-compatible" content="IE=8" />
    <meta name="robots" content="index, follow" />
    <!--<script src="jquery-1.5.2.js" type="text/javascript"></script>-->
    <!--  <script src="jquery-ui-1.8.11.js" type="text/javascript"></script>-->
    <script src="js/view.js" type="text/javascript"></script>
    <!--    <script src="jquery-ui-1.8.11.js" type="text/javascript"></script>-->
    <script src="jquery-ui-1.8.13.custom.js" type="text/javascript"></script>
    <!-- <script src="js/admin.js" type="text/javascript"></script>-->
    <style type="text/css">
        .ui-resizable
        {
            position: relative;
        }
        .ui-resizable-handle
        {
            position: absolute;
            font-size: 0.1px;
            z-index: 99999;
            display: block;
        }
        .ui-resizable-disabled .ui-resizable-handle, .ui-resizable-autohide .ui-resizable-handle
        {
            display: none;
        }
        .ui-resizable-n
        {
            cursor: n-resize;
            height: 7px;
            width: 100%;
            top: -5px;
            left: 0;
        }
        .ui-resizable-s
        {
            cursor: s-resize;
            height: 7px;
            width: 100%;
            bottom: -5px;
            left: 0;
        }
        .ui-resizable-e
        {
            cursor: e-resize;
            width: 7px;
            right: -5px;
            top: 0;
            height: 100%;
        }
        .ui-resizable-w
        {
            cursor: w-resize;
            width: 7px;
            left: -5px;
            top: 0;
            height: 100%;
        }
        .ui-resizable-se
        {
            cursor: se-resize;
            width: 12px;
            height: 12px;
            right: 1px;
            bottom: 1px;
        }
        .ui-resizable-sw
        {
            cursor: sw-resize;
            width: 9px;
            height: 9px;
            left: -5px;
            bottom: -5px;
        }
        .ui-resizable-nw
        {
            cursor: nw-resize;
            width: 9px;
            height: 9px;
            left: -5px;
            top: -5px;
        }
        .ui-resizable-ne
        {
            cursor: ne-resize;
            width: 9px;
            height: 9px;
            right: -5px;
            top: -5px;
        }
        .ui-selectable-helper
        {
            position: absolute;
            z-index: 100;
            border: 1px dotted black;
        }
        #table1
        {
            width: 760px;
            height: 400px;
        }
        #table1 tr td
        {
            width: 100px;
            height: 100px;
            border: solid 1px #a1a1a1;
        }
        #table1 tr td:hover
        {
            cursor: pointer;
            background-color: #FECA40;
        }
        #table1 .ui-selecting
        {
            background: #FECA40;
        }
        #table1 .ui-selected
        {
            background: #F39814;
            color: white;
        }
        /* Generic context menu styles */
        .contextMenu
        {
            position: absolute;
            width: 120px;
            z-index: 99999;
            border: solid 1px #CCC;
            background: #EEE;
            padding: 0px;
            margin: 0px;
            display: none;
        }
        .contextMenu LI
        {
            list-style: none;
            padding: 0px;
            margin: 0px;
        }
        .contextMenu A
        {
            color: #333;
            text-decoration: none;
            display: block;
            line-height: 20px;
            height: 20px;
            background-position: 6px center;
            background-repeat: no-repeat;
            outline: none;
            padding: 1px 5px;
            padding-left: 28px;
        }
        .contextMenu LI.hover A
        {
            color: #FFF;
            background-color: #3399FF;
        }
        .contextMenu LI.disabled A
        {
            color: #AAA;
            cursor: default;
        }
        .contextMenu LI.hover.disabled A
        {
            background-color: transparent;
        }
        .contextMenu LI.separator
        {
            border-top: solid 1px #CCC;
        }
        /*
	Adding Icons
	You can add icons to the context menu by adding
	classes to the respective LI element(s)
*/
        .contextMenu LI.edit A
        {
            background-image: url(images/page_white_edit.png);
        }
        .contextMenu LI.cut A
        {
            background-image: url(images/cut.png);
        }
        .contextMenu LI.copy A
        {
            background-image: url(images/page_white_copy.png);
        }
        .contextMenu LI.paste A
        {
            background-image: url(images/page_white_paste.png);
        }
        .contextMenu LI.delete A
        {
            background-image: url(images/page_white_delete.png);
        }
        .contextMenu LI.quit A
        {
            background-image: url(images/door.png);
        }
    </style>
    <script type="text/javascript">
        var AdminLanguage = 'en-US';
        if (jQuery) (function () { $.extend($.fn, { contextMenu1: function (a, b) { if (a.menu == undefined) return false; if (a.inSpeed == undefined) a.inSpeed = 150; if (a.outSpeed == undefined) a.outSpeed = 75; if (a.inSpeed == 0) a.inSpeed = -1; if (a.outSpeed == 0) a.outSpeed = -1; $(this).each(function () { var c = $(this); var d = $(c).offset(); $("#" + a.menu).addClass("contextMenu"); $(this).mousedown(function (e) { var f = e; f.stopPropagation(); $(this).mouseup(function (e) { e.stopPropagation(); var g = $(this); $(this).unbind("mouseup"); if (f.button == 2) { $(".contextMenu").hide(); var h = $("#" + a.menu); if ($(c).hasClass("disabled")) return false; var i = {}, j, k; if (self.innerHeight) { i.pageYOffset = self.pageYOffset; i.pageXOffset = self.pageXOffset; i.innerHeight = self.innerHeight; i.innerWidth = self.innerWidth } else if (document.documentElement && document.documentElement.clientHeight) { i.pageYOffset = document.documentElement.scrollTop; i.pageXOffset = document.documentElement.scrollLeft; i.innerHeight = document.documentElement.clientHeight; i.innerWidth = document.documentElement.clientWidth } else if (document.body) { i.pageYOffset = document.body.scrollTop; i.pageXOffset = document.body.scrollLeft; i.innerHeight = document.body.clientHeight; i.innerWidth = document.body.clientWidth } e.pageX ? j = e.pageX : j = e.clientX + i.scrollLeft; e.pageY ? k = e.pageY : k = e.clientY + i.scrollTop; $(document).unbind("click"); $(h).css({ top: k, left: j }).fadeIn(a.inSpeed); $(h).find("A").mouseover(function () { $(h).find("LI.hover").removeClass("hover"); $(this).parent().addClass("hover") }).mouseout(function () { $(h).find("LI.hover").removeClass("hover") }); $(document).keypress(function (a) { switch (a.keyCode) { case 38: if ($(h).find("LI.hover").size() == 0) { $(h).find("LI:last").addClass("hover") } else { $(h).find("LI.hover").removeClass("hover").prevAll("LI:not(.disabled)").eq(0).addClass("hover"); if ($(h).find("LI.hover").size() == 0) $(h).find("LI:last").addClass("hover") } break; case 40: if ($(h).find("LI.hover").size() == 0) { $(h).find("LI:first").addClass("hover") } else { $(h).find("LI.hover").removeClass("hover").nextAll("LI:not(.disabled)").eq(0).addClass("hover"); if ($(h).find("LI.hover").size() == 0) $(h).find("LI:first").addClass("hover") } break; case 13: $(h).find("LI.hover A").trigger("click"); break; case 27: $(document).trigger("click"); break } }); $("#" + a.menu).find("A").unbind("click"); $("#" + a.menu).find("LI:not(.disabled) A").click(function () { $(document).unbind("click").unbind("keypress"); $(".contextMenu").hide(); if (b) b($(this).attr("href").substr(1), $(g), { x: j - d.left, y: k - d.top, docX: j, docY: k }); return false }); setTimeout(function () { $(document).click(function () { $(document).unbind("click").unbind("keypress"); $(h).fadeOut(a.outSpeed); return false }) }, 0) } }) }); if ($.browser.mozilla) { $("#" + a.menu).each(function () { $(this).css({ MozUserSelect: "none" }) }) } else if ($.browser.msie) { $("#" + a.menu).each(function () { $(this).bind("selectstart.disableTextSelect", function () { return false }) }) } else { $("#" + a.menu).each(function () { $(this).bind("mousedown.disableTextSelect", function () { return false }) }) } $(c).add($("UL.contextMenu")).bind("contextmenu", function () { return false }) }); return $(this) }, disableContextMenuItems: function (a) { if (a == undefined) { $(this).find("LI").addClass("disabled"); return $(this) } $(this).each(function () { if (a != undefined) { var b = a.split(","); for (var c = 0; c < b.length; c++) { $(this).find('A[href="' + b[c] + '"]').parent().addClass("disabled") } } }); return $(this) }, enableContextMenuItems: function (a) { if (a == undefined) { $(this).find("LI.disabled").removeClass("disabled"); return $(this) } $(this).each(function () { if (a != undefined) { var b = a.split(","); for (var c = 0; c < b.length; c++) { $(this).find('A[href="' + b[c] + '"]').parent().removeClass("disabled") } } }); return $(this) }, disableContextMenu: function () { $(this).each(function () { $(this).addClass("disabled") }); return $(this) }, enableContextMenu: function () { $(this).each(function () { $(this).removeClass("disabled") }); return $(this) }, destroyContextMenu: function () { $(this).each(function () { $(this).unbind("mousedown").unbind("mouseup") }); return $(this) } }) })(jQuery)
        $(document).ready(function () {
            //begin selectable
            $("#table1").selectable({ autoRefresh: true, filter: 'td', start: function (event, ui) {
                $("#table1").selectable("refresh");
            }, unselecting: function (event, ui) { }, stop: function () {
                $("#table1 tr td").each(function () {
                    $(this).attr('selected', 'false');
                });
                $(".ui-selected", this).each(function () {
                    $(this).attr('selected', 'true');
                });
            }
            });
            //end selectable
            //begin function Add row for table
            function addTableRow(jQtable) {
                // Number of td's in the last table row
                var n = $('tr:last td', jQtable).length;
                var tds = '<tr>';
                for (var i = 0; i < n; i++) {
                    tds += '<td id=xx' + i.toString() + '>&nbsp;</td>';
                }
                tds += '</tr>';
                if ($('tbody', jQtable).length > 0) {
                    $('tbody', jQtable).append(tds);
                } else {
                    $(jQtable).append(tds);
                }
                $("#table1 tr td").resizable({});
                loadMenuContext();
            }
            //end function add row for table
            //begin function Load menu context
            function loadMenuContext() {
                $("#table1").contextMenu1({ menu: 'myMenu' }, function ActionMenu(action, el, pos) {
                    if (action == "merge") {
                        var SumCol = 0;
                        var firstRowSelected = -1;
                        var lastRowSelected = -1;
                        $('#table1 tr').each(function () {
                            var tr = this;
                            var counter = 0;
                            $('td', tr).each(function (index, value) {
                                var td = $(this);
                                if (td.attr('selected') == "true") {
                                    if (firstRowSelected == -1) {
                                        firstRowSelected = $(this).parent('tr').prevAll().length;
                                    }
                                    lastRowSelected = $(this).parent('tr').prevAll().length;
                                    counter += td.attr('colspan');
                                }
                            });
                            if (counter !== 0) {
                                if (SumCol < counter) {
                                    SumCol = counter;
                                }
                            }
                            counter = 0;
                        });
                        SumRow = lastRowSelected - firstRowSelected + 1;
                        var temp = "";
                        var arr = [];
                        $("#table1 tr td").each(function () {
                            var idSelected = $(this).attr('id');
                            var idTest = $(this).attr('selected');
                            if (idTest == "true") {
                                arr.push(new selectedItem(idSelected));
                            }
                        });
                        for (var i = 1; i < arr.length; i++) {
                            $('#' + arr[i].idSelected).remove();
                        }
                        $('#' + arr[0].idSelected).attr('colspan', SumCol);
                        $('#' + arr[0].idSelected).attr('rowspan', SumRow);
                        $('#' + arr[0].idSelected).attr('selected', 'false');
                    }
                    else if (action == "addrow") {
                        addTableRow('#table1');
                    }
                    else if (action == "delete") {
                        var arr = [];
                        $("#table1 tr td").each(function () {
                            var idSelected = $(this).attr('id');
                            var idTest = $(this).attr('selected');
                            if (idTest == "true") {
                                arr.push(new selectedItem(idSelected));
                            }
                        });
                        for (var i = 0; i < arr.length; i++) {
                            $('#' + arr[i].idSelected).remove();
                        }
                    }
                });
            }
            //end function Load menu context
            loadMenuContext();
        });      //end ready
        function selectedItem(id) {
            this.idSelected = id;
        }
    </script>
    <title></title>
</head>
<body id="Body" class="ABBody">
    <form method="post" action="/Destinet.Presentation.Admin.LayoutDesign" id="Form"
    enctype="multipart/form-data" style="height: 100%;">
    <div class="aspNetHidden">
        <input type="hidden" name="__EVENTTARGET" id="__EVENTTARGET" value="" />
        <input type="hidden" name="__EVENTARGUMENT" id="__EVENTARGUMENT" value="" />
        <input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwUBMGRk2fnjAVoSwPzLHj6qk0Un/BESqDs=" />
    </div>
    <script type="text/javascript">
//<![CDATA[
        var theForm = document.forms['Form'];
        if (!theForm) {
            theForm = document.Form;
        }
        function __doPostBack(eventTarget, eventArgument) {
            if (!theForm.onsubmit || (theForm.onsubmit() != false)) {
                theForm.__EVENTTARGET.value = eventTarget;
                theForm.__EVENTARGUMENT.value = eventArgument;
                theForm.submit();
            }
        }
//]]>
    </script>
    <div class="aspNetHidden">
        <input type="hidden" name="__EVENTVALIDATION" id="__EVENTVALIDATION" value="/wEWBAKlhZ/HDwL7xMHTCAKd6quiBwKf29HuCkxVOrdl6pn/cSzc24d1MY6SYTFI" />
    </div>
    <h2 class="ab_title">
        XPress editor</h2>
    <h1 class="ab_title">
        Layout Desgin</h1>
    <input name="pagesessionid" type="hidden" id="pagesessionid" value="pagesessionid139452896" /><input
        id="TabsID" name="TabsID" type="hidden" value="__page_layout_design" /><table cellpadding="0"
            cellspacing="0" style="width: 100%; height: 100%;">
            <tr id="trTabsPanes">
                <td>
                    <div id="TabsPanes">
                        <div id="__Page_Layout_design">
                            <table cellpadding="0" cellspacing="0" style="width: 100%;">
                                <tr>
                                    <td valign="top">
                                        <fieldset>
                                            <ul id="myMenu" class="contextMenu">
                                                <li><a href="#merge">Merge</a></li>
                                                <li class="separator"><a href="#addrow">Add row</a></li>
                                                <li><a href="#addcolumn">Add column</a></li>
                                                <li><a href="#delete">Delete</a></li>
                                            </ul>
                                            <table id="table1">
                                                <tr>
                                                    <td id="Td1">
                                                    </td>
                                                    <td id="Td2">
                                                    </td>
                                                    <td id="Td3">
                                                    </td>
                                                    <td id="Td4">
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td id="Td5">
                                                    </td>
                                                    <td id="Td6">
                                                    </td>
                                                    <td id="Td7">
                                                    </td>
                                                    <td id="Td8">
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td id="Td9">
                                                    </td>
                                                    <td id="Td10">
                                                    </td>
                                                    <td id="Td11">
                                                    </td>
                                                    <td id="Td12">
                                                    </td>
                                                </tr>
                                            </table>
                                        </fieldset>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </td>
            </tr>
            <tr style="height: 35px;">
                <td>
                </td>
            </tr>
        </table>
    <div class="ab_buttons">
        <div class="ab_button_l img_ab_button">
            <div class="ab_button_r img_ab_button">
                <a id="Refesh" class="ab_button" href="javascript:__doPostBack(&#39;Refesh&#39;,&#39;&#39;)">
                    Refesh</a></div>
        </div>
        <div class="ab_button_l img_ab_button">
            <div class="ab_button_r img_ab_button">
                <a id="AdminSave" class="ab_button" href="javascript:__doPostBack(&#39;AdminSave&#39;,&#39;&#39;)">
                    Save</a></div>
        </div>
        <div class="ab_button_l img_ab_button">
            <div class="ab_button_r img_ab_button">
                <a class="ab_button" href="#" onclick="top.window.DWindow.Close(); return false;">Close</a></div>
        </div>
    </div>
    </form>
</body>
</html>