(function(d,C){function M(){this.debug=false;this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._inDialog=this._datepickerShowing=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false};d.extend(this._defaults,this.regional[""]);this.dpDiv=N(d('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function N(a){return a.bind("mouseout",function(b){b=d(b.target).closest("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a");b.length&&b.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(b){b=d(b.target).closest("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a");if(!(d.datepicker._isDisabledDatepicker(J.inline?a.parent()[0]:J.input[0])||!b.length)){b.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");b.addClass("ui-state-hover");b.hasClass("ui-datepicker-prev")&&b.addClass("ui-datepicker-prev-hover");b.hasClass("ui-datepicker-next")&&b.addClass("ui-datepicker-next-hover")}})}function H(a,b){d.extend(a,b);for(var c in b){if(b[c]==null||b[c]==C){a[c]=b[c]}}return a}d.extend(d.ui,{datepicker:{version:"1.8.14"}});var A=(new Date).getTime(),J;d.extend(M.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){H(this._defaults,a||{});return this},_attachDatepicker:function(a,b){var c=null;for(var e in this._defaults){var f=a.getAttribute("date:"+e);if(f){c=c||{};try{c[e]=eval(f)}catch(h){c[e]=f}}}e=a.nodeName.toLowerCase();f=e=="div"||e=="span";if(!a.id){this.uuid+=1;a.id="dp"+this.uuid}var i=this._newInst(d(a),f);i.settings=d.extend({},b||{},c||{});if(e=="input"){this._connectDatepicker(a,i)}else{f&&this._inlineDatepicker(a,i)}},_newInst:function(a,b){return{id:a[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:!b?this.dpDiv:N(d('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}},_connectDatepicker:function(a,b){var c=d(a);b.append=d([]);b.trigger=d([]);if(!c.hasClass(this.markerClassName)){this._attachments(c,b);c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,f,h){b.settings[f]=h}).bind("getData.datepicker",function(e,f){return this._get(b,f)});this._autoSize(b);d.data(a,"datepicker",b)}},_attachments:function(a,b){var c=this._get(b,"appendText"),e=this._get(b,"isRTL");b.append&&b.append.remove();if(c){b.append=d('<span class="'+this._appendClass+'">'+c+"</span>");a[e?"before":"after"](b.append)}a.unbind("focus",this._showDatepicker);b.trigger&&b.trigger.remove();c=this._get(b,"showOn");if(c=="focus"||c=="both"){a.focus(this._showDatepicker)}if(c=="button"||c=="both"){c=this._get(b,"buttonText");var f=this._get(b,"buttonImage");b.trigger=d(this._get(b,"buttonImageOnly")?d("<img/>").addClass(this._triggerClass).attr({src:f,alt:c,title:c}):d('<button type="button"></button>').addClass(this._triggerClass).html(f==""?c:d("<img/>").attr({src:f,alt:c,title:c})));a[e?"before":"after"](b.trigger);b.trigger.click(function(){d.datepicker._datepickerShowing&&d.datepicker._lastInput==a[0]?d.datepicker._hideDatepicker():d.datepicker._showDatepicker(a[0]);return false})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,"dateFormat");if(c.match(/[DM]/)){var e=function(f){for(var h=0,i=0,g=0;g<f.length;g++){if(f[g].length>h){h=f[g].length;i=g}}return i};b.setMonth(e(this._get(a,c.match(/MM/)?"monthNames":"monthNamesShort")));b.setDate(e(this._get(a,c.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay())}a.input.attr("size",this._formatDate(a,b).length)}},_inlineDatepicker:function(a,b){var c=d(a);if(!c.hasClass(this.markerClassName)){c.addClass(this.markerClassName).append(b.dpDiv).bind("setData.datepicker",function(e,f,h){b.settings[f]=h}).bind("getData.datepicker",function(e,f){return this._get(b,f)});d.data(a,"datepicker",b);this._setDate(b,this._getDefaultDate(b),true);this._updateDatepicker(b);this._updateAlternate(b);b.dpDiv.show()}},_dialogDatepicker:function(a,b,c,e,f){a=this._dialogInst;if(!a){this.uuid+=1;this._dialogInput=d('<input type="text" id="'+("dp"+this.uuid)+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>');this._dialogInput.keydown(this._doKeyDown);d("body").append(this._dialogInput);a=this._dialogInst=this._newInst(this._dialogInput,false);a.settings={};d.data(this._dialogInput[0],"datepicker",a)}H(a.settings,e||{});b=b&&b.constructor==Date?this._formatDate(a,b):b;this._dialogInput.val(b);this._pos=f?f.length?f:[f.pageX,f.pageY]:null;if(!this._pos){this._pos=[document.documentElement.clientWidth/2-100+(document.documentElement.scrollLeft||document.body.scrollLeft),document.documentElement.clientHeight/2-150+(document.documentElement.scrollTop||document.body.scrollTop)]}this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");a.settings.onSelect=c;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);d.blockUI&&d.blockUI(this.dpDiv);d.data(this._dialogInput[0],"datepicker",a);return this},_destroyDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();d.removeData(a,"datepicker");if(e=="input"){c.append.remove();c.trigger.remove();b.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)}else{if(e=="div"||e=="span"){b.removeClass(this.markerClassName).empty()}}}},_enableDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();if(e=="input"){a.disabled=false;c.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else{if(e=="div"||e=="span"){b=b.children("."+this._inlineClass);b.children().removeClass("ui-state-disabled");b.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")}}this._disabledInputs=d.map(this._disabledInputs,function(f){return f==a?null:f})}},_disableDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();if(e=="input"){a.disabled=true;c.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else{if(e=="div"||e=="span"){b=b.children("."+this._inlineClass);b.children().addClass("ui-state-disabled");b.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")}}this._disabledInputs=d.map(this._disabledInputs,function(f){return f==a?null:f});this._disabledInputs[this._disabledInputs.length]=a}},_isDisabledDatepicker:function(a){if(!a){return false}for(var b=0;b<this._disabledInputs.length;b++){if(this._disabledInputs[b]==a){return true}}return false},_getInst:function(a){try{return d.data(a,"datepicker")}catch(b){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(a,b,c){var e=this._getInst(a);if(arguments.length==2&&typeof b=="string"){return b=="defaults"?d.extend({},d.datepicker._defaults):e?b=="all"?d.extend({},e.settings):this._get(e,b):null}var f=b||{};if(typeof b=="string"){f={};f[b]=c}if(e){this._curInst==e&&this._hideDatepicker();var h=this._getDateDatepicker(a,true),i=this._getMinMaxDate(e,"min"),g=this._getMinMaxDate(e,"max");H(e.settings,f);if(i!==null&&f.dateFormat!==C&&f.minDate===C){e.settings.minDate=this._formatDate(e,i)}if(g!==null&&f.dateFormat!==C&&f.maxDate===C){e.settings.maxDate=this._formatDate(e,g)}this._attachments(d(a),e);this._autoSize(e);this._setDate(e,h);this._updateAlternate(e);this._updateDatepicker(e)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){if(a=this._getInst(a)){this._setDate(a,b);this._updateDatepicker(a);this._updateAlternate(a)}},_getDateDatepicker:function(a,b){(a=this._getInst(a))&&!a.inline&&this._setDateFromField(a,b);return a?this._getDate(a):null},_doKeyDown:function(a){var b=d.datepicker._getInst(a.target),c=true,e=b.dpDiv.is(".ui-datepicker-rtl");b._keyEvent=true;if(d.datepicker._datepickerShowing){switch(a.keyCode){case 9:d.datepicker._hideDatepicker();c=false;break;case 13:c=d("td."+d.datepicker._dayOverClass+":not(."+d.datepicker._currentClass+")",b.dpDiv);c[0]?d.datepicker._selectDay(a.target,b.selectedMonth,b.selectedYear,c[0]):d.datepicker._hideDatepicker();return false;case 27:d.datepicker._hideDatepicker();break;case 33:d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(b,"stepBigMonths"):-d.datepicker._get(b,"stepMonths"),"M");break;case 34:d.datepicker._adjustDate(a.target,a.ctrlKey?+d.datepicker._get(b,"stepBigMonths"):+d.datepicker._get(b,"stepMonths"),"M");break;case 35:if(a.ctrlKey||a.metaKey){d.datepicker._clearDate(a.target)}c=a.ctrlKey||a.metaKey;break;case 36:if(a.ctrlKey||a.metaKey){d.datepicker._gotoToday(a.target)}c=a.ctrlKey||a.metaKey;break;case 37:if(a.ctrlKey||a.metaKey){d.datepicker._adjustDate(a.target,e?+1:-1,"D")}c=a.ctrlKey||a.metaKey;if(a.originalEvent.altKey){d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(b,"stepBigMonths"):-d.datepicker._get(b,"stepMonths"),"M")}break;case 38:if(a.ctrlKey||a.metaKey){d.datepicker._adjustDate(a.target,-7,"D")}c=a.ctrlKey||a.metaKey;break;case 39:if(a.ctrlKey||a.metaKey){d.datepicker._adjustDate(a.target,e?-1:+1,"D")}c=a.ctrlKey||a.metaKey;if(a.originalEvent.altKey){d.datepicker._adjustDate(a.target,a.ctrlKey?+d.datepicker._get(b,"stepBigMonths"):+d.datepicker._get(b,"stepMonths"),"M")}break;case 40:if(a.ctrlKey||a.metaKey){d.datepicker._adjustDate(a.target,+7,"D")}c=a.ctrlKey||a.metaKey;break;default:c=false}}else{if(a.keyCode==36&&a.ctrlKey){d.datepicker._showDatepicker(this)}else{c=false}}if(c){a.preventDefault();a.stopPropagation()}},_doKeyPress:function(a){var b=d.datepicker._getInst(a.target);if(d.datepicker._get(b,"constrainInput")){b=d.datepicker._possibleChars(d.datepicker._get(b,"dateFormat"));var c=String.fromCharCode(a.charCode==C?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||c<" "||!b||b.indexOf(c)>-1}},_doKeyUp:function(a){a=d.datepicker._getInst(a.target);if(a.input.val()!=a.lastVal){try{if(d.datepicker.parseDate(d.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,d.datepicker._getFormatConfig(a))){d.datepicker._setDateFromField(a);d.datepicker._updateAlternate(a);d.datepicker._updateDatepicker(a)}}catch(b){d.datepicker.log(b)}}return true},_showDatepicker:function(a){a=a.target||a;if(a.nodeName.toLowerCase()!="input"){a=d("input",a.parentNode)[0]}if(!(d.datepicker._isDisabledDatepicker(a)||d.datepicker._lastInput==a)){var b=d.datepicker._getInst(a);if(d.datepicker._curInst&&d.datepicker._curInst!=b){d.datepicker._datepickerShowing&&d.datepicker._triggerOnClose(d.datepicker._curInst);d.datepicker._curInst.dpDiv.stop(true,true)}var c=d.datepicker._get(b,"beforeShow");H(b.settings,c?c.apply(a,[a,b]):{});b.lastVal=null;d.datepicker._lastInput=a;d.datepicker._setDateFromField(b);if(d.datepicker._inDialog){a.value=""}if(!d.datepicker._pos){d.datepicker._pos=d.datepicker._findPos(a);d.datepicker._pos[1]+=a.offsetHeight}var e=false;d(a).parents().each(function(){e|=d(this).css("position")=="fixed";return !e});if(e&&d.browser.opera){d.datepicker._pos[0]-=document.documentElement.scrollLeft;d.datepicker._pos[1]-=document.documentElement.scrollTop}c={left:d.datepicker._pos[0],top:d.datepicker._pos[1]};d.datepicker._pos=null;b.dpDiv.empty();b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});d.datepicker._updateDatepicker(b);c=d.datepicker._checkOffset(b,c,e);b.dpDiv.css({position:d.datepicker._inDialog&&d.blockUI?"static":e?"fixed":"absolute",display:"none",left:c.left+"px",top:c.top+"px"});if(!b.inline){c=d.datepicker._get(b,"showAnim");var f=d.datepicker._get(b,"duration"),h=function(){var i=b.dpDiv.find("iframe.ui-datepicker-cover");if(i.length){var g=d.datepicker._getBorders(b.dpDiv);i.css({left:-g[0],top:-g[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()})}};b.dpDiv.zIndex(d(a).zIndex()+1);d.datepicker._datepickerShowing=true;d.effects&&d.effects[c]?b.dpDiv.show(c,d.datepicker._get(b,"showOptions"),f,h):b.dpDiv[c||"show"](c?f:null,h);if(!c||!f){h()}b.input.is(":visible")&&!b.input.is(":disabled")&&b.input.focus();d.datepicker._curInst=b}}},_updateDatepicker:function(a){this.maxRows=4;var b=d.datepicker._getBorders(a.dpDiv);J=a;a.dpDiv.empty().append(this._generateHTML(a));var c=a.dpDiv.find("iframe.ui-datepicker-cover");c.length&&c.css({left:-b[0],top:-b[1],width:a.dpDiv.outerWidth(),height:a.dpDiv.outerHeight()});a.dpDiv.find("."+this._dayOverClass+" a").mouseover();b=this._getNumberOfMonths(a);c=b[1];a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");c>1&&a.dpDiv.addClass("ui-datepicker-multi-"+c).css("width",17*c+"em");a.dpDiv[(b[0]!=1||b[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi");a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");a==d.datepicker._curInst&&d.datepicker._datepickerShowing&&a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input[0]!=document.activeElement&&a.input.focus();if(a.yearshtml){var e=a.yearshtml;setTimeout(function(){e===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml);e=a.yearshtml=null},0)}},_getBorders:function(a){var b=function(c){return{thin:1,medium:2,thick:3}[c]||c};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(a,b,c){var e=a.dpDiv.outerWidth(),f=a.dpDiv.outerHeight(),h=a.input?a.input.outerWidth():0,i=a.input?a.input.outerHeight():0,g=document.documentElement.clientWidth+d(document).scrollLeft(),j=document.documentElement.clientHeight+d(document).scrollTop();b.left-=this._get(a,"isRTL")?e-h:0;b.left-=c&&b.left==a.input.offset().left?d(document).scrollLeft():0;b.top-=c&&b.top==a.input.offset().top+i?d(document).scrollTop():0;b.left-=Math.min(b.left,b.left+e>g&&g>e?Math.abs(b.left+e-g):0);b.top-=Math.min(b.top,b.top+f>j&&j>f?Math.abs(f+i):0);return b},_findPos:function(a){for(var b=this._get(this._getInst(a),"isRTL");a&&(a.type=="hidden"||a.nodeType!=1||d.expr.filters.hidden(a));){a=a[b?"previousSibling":"nextSibling"]}a=d(a).offset();return[a.left,a.top]},_triggerOnClose:function(a){var b=this._get(a,"onClose");if(b){b.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a])}},_hideDatepicker:function(a){var b=this._curInst;if(!(!b||a&&b!=d.data(a,"datepicker"))){if(this._datepickerShowing){a=this._get(b,"showAnim");var c=this._get(b,"duration"),e=function(){d.datepicker._tidyDialog(b);this._curInst=null};d.effects&&d.effects[a]?b.dpDiv.hide(a,d.datepicker._get(b,"showOptions"),c,e):b.dpDiv[a=="slideDown"?"slideUp":a=="fadeIn"?"fadeOut":"hide"](a?c:null,e);a||e();d.datepicker._triggerOnClose(b);this._datepickerShowing=false;this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if(d.blockUI){d.unblockUI();d("body").append(this.dpDiv)}}this._inDialog=false}}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if(d.datepicker._curInst){a=d(a.target);a[0].id!=d.datepicker._mainDivId&&a.parents("#"+d.datepicker._mainDivId).length==0&&!a.hasClass(d.datepicker.markerClassName)&&!a.hasClass(d.datepicker._triggerClass)&&d.datepicker._datepickerShowing&&!(d.datepicker._inDialog&&d.blockUI)&&d.datepicker._hideDatepicker()}},_adjustDate:function(a,b,c){a=d(a);var e=this._getInst(a[0]);if(!this._isDisabledDatepicker(a[0])){this._adjustInstDate(e,b+(c=="M"?this._get(e,"showCurrentAtPos"):0),c);this._updateDatepicker(e)}},_gotoToday:function(a){a=d(a);var b=this._getInst(a[0]);if(this._get(b,"gotoCurrent")&&b.currentDay){b.selectedDay=b.currentDay;b.drawMonth=b.selectedMonth=b.currentMonth;b.drawYear=b.selectedYear=b.currentYear}else{var c=new Date;b.selectedDay=c.getDate();b.drawMonth=b.selectedMonth=c.getMonth();b.drawYear=b.selectedYear=c.getFullYear()}this._notifyChange(b);this._adjustDate(a)},_selectMonthYear:function(a,b,c){a=d(a);var e=this._getInst(a[0]);e._selectingMonthYear=false;e["selected"+(c=="M"?"Month":"Year")]=e["draw"+(c=="M"?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10);this._notifyChange(e);this._adjustDate(a)},_clickMonthYear:function(a){var b=this._getInst(d(a)[0]);b.input&&b._selectingMonthYear&&setTimeout(function(){b.input.focus()},0);b._selectingMonthYear=!b._selectingMonthYear},_selectDay:function(a,b,c,e){var f=d(a);if(!(d(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(f[0]))){f=this._getInst(f[0]);f.selectedDay=f.currentDay=d("a",e).html();f.selectedMonth=f.currentMonth=b;f.selectedYear=f.currentYear=c;this._selectDate(a,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear))}},_clearDate:function(a){a=d(a);this._getInst(a[0]);this._selectDate(a,"")},_selectDate:function(a,b){a=this._getInst(d(a)[0]);b=b!=null?b:this._formatDate(a);a.input&&a.input.val(b);this._updateAlternate(a);var c=this._get(a,"onSelect");if(c){c.apply(a.input?a.input[0]:null,[b,a])}else{a.input&&a.input.trigger("change")}if(a.inline){this._updateDatepicker(a)}else{this._hideDatepicker();this._lastInput=a.input[0];typeof a.input[0]!="object"&&a.input.focus();this._lastInput=null}},_updateAlternate:function(a){var b=this._get(a,"altField");if(b){var c=this._get(a,"altFormat")||this._get(a,"dateFormat"),e=this._getDate(a),f=this.formatDate(c,e,this._getFormatConfig(a));d(b).each(function(){d(this).val(f)})}},noWeekends:function(a){a=a.getDay();return[a>0&&a<6,""]},iso8601Week:function(a){a=new Date(a.getTime());a.setDate(a.getDate()+4-(a.getDay()||7));var b=a.getTime();a.setMonth(0);a.setDate(1);return Math.floor(Math.round((b-a)/86400000)/7)+1},parseDate:function(a,b,c){if(a==null||b==null){throw"Invalid arguments"}b=typeof b=="object"?b.toString():b+"";if(b==""){return null}var e=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff;e=typeof e!="string"?e:(new Date).getFullYear()%100+parseInt(e,10);for(var f=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,h=(c?c.dayNames:null)||this._defaults.dayNames,i=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,g=(c?c.monthNames:null)||this._defaults.monthNames,j=c=-1,l=-1,u=-1,k=false,o=function(p){(p=B+1<a.length&&a.charAt(B+1)==p)&&B++;return p},m=function(p){var D=o(p);p=new RegExp("^\\d{1,"+(p=="@"?14:p=="!"?20:p=="y"&&D?4:p=="o"?3:2)+"}");p=b.substring(q).match(p);if(!p){throw"Missing number at position "+q}q+=p[0].length;return parseInt(p[0],10)},n=function(p,D,K){p=d.map(o(p)?K:D,function(w,x){return[[x,w]]}).sort(function(w,x){return -(w[1].length-x[1].length)});var E=-1;d.each(p,function(w,x){w=x[1];if(b.substr(q,w.length).toLowerCase()==w.toLowerCase()){E=x[0];q+=w.length;return false}});if(E!=-1){return E+1}else{throw"Unknown name at position "+q}},s=function(){if(b.charAt(q)!=a.charAt(B)){throw"Unexpected literal at position "+q}q++},q=0,B=0;B<a.length;B++){if(k){if(a.charAt(B)=="'"&&!o("'")){k=false}else{s()}}else{switch(a.charAt(B)){case"d":l=m("d");break;case"D":n("D",f,h);break;case"o":u=m("o");break;case"m":j=m("m");break;case"M":j=n("M",i,g);break;case"y":c=m("y");break;case"@":var v=new Date(m("@"));c=v.getFullYear();j=v.getMonth()+1;l=v.getDate();break;case"!":v=new Date((m("!")-this._ticksTo1970)/10000);c=v.getFullYear();j=v.getMonth()+1;l=v.getDate();break;case"'":if(o("'")){s()}else{k=true}break;default:s()}}}if(q<b.length){throw"Extra/unparsed characters found in date: "+b.substring(q)}if(c==-1){c=(new Date).getFullYear()}else{if(c<100){c+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c<=e?0:-100)}}if(u>-1){j=1;l=u;do{e=this._getDaysInMonth(c,j-1);if(l<=e){break}j++;l-=e}while(1)}v=this._daylightSavingAdjust(new Date(c,j-1,l));if(v.getFullYear()!=c||v.getMonth()+1!=j||v.getDate()!=l){throw"Invalid date"}return v},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*10000000,formatDate:function(a,b,c){if(!b){return""}var e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,h=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort;c=(c?c.monthNames:null)||this._defaults.monthNames;var i=function(o){(o=k+1<a.length&&a.charAt(k+1)==o)&&k++;return o},g=function(o,m,n){m=""+m;if(i(o)){for(;m.length<n;){m="0"+m}}return m},j=function(o,m,n,s){return i(o)?s[m]:n[m]},l="",u=false;if(b){for(var k=0;k<a.length;k++){if(u){if(a.charAt(k)=="'"&&!i("'")){u=false}else{l+=a.charAt(k)}}else{switch(a.charAt(k)){case"d":l+=g("d",b.getDate(),2);break;case"D":l+=j("D",b.getDay(),e,f);break;case"o":l+=g("o",Math.round(((new Date(b.getFullYear(),b.getMonth(),b.getDate())).getTime()-(new Date(b.getFullYear(),0,0)).getTime())/86400000),3);break;case"m":l+=g("m",b.getMonth()+1,2);break;case"M":l+=j("M",b.getMonth(),h,c);break;case"y":l+=i("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case"@":l+=b.getTime();break;case"!":l+=b.getTime()*10000+this._ticksTo1970;break;case"'":if(i("'")){l+="'"}else{u=true}break;default:l+=a.charAt(k)}}}}return l},_possibleChars:function(a){for(var b="",c=false,e=function(h){(h=f+1<a.length&&a.charAt(f+1)==h)&&f++;return h},f=0;f<a.length;f++){if(c){if(a.charAt(f)=="'"&&!e("'")){c=false}else{b+=a.charAt(f)}}else{switch(a.charAt(f)){case"d":case"m":case"y":case"@":b+="0123456789";break;case"D":case"M":return null;case"'":if(e("'")){b+="'"}else{c=true}break;default:b+=a.charAt(f)}}}return b},_get:function(a,b){return a.settings[b]!==C?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!=a.lastVal){var c=this._get(a,"dateFormat"),e=a.lastVal=a.input?a.input.val():null,f,h;f=h=this._getDefaultDate(a);var i=this._getFormatConfig(a);try{f=this.parseDate(c,e,i)||h}catch(g){this.log(g);e=b?"":e}a.selectedDay=f.getDate();a.drawMonth=a.selectedMonth=f.getMonth();a.drawYear=a.selectedYear=f.getFullYear();a.currentDay=e?f.getDate():0;a.currentMonth=e?f.getMonth():0;a.currentYear=e?f.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,c){var e=function(h){var i=new Date;i.setDate(i.getDate()+h);return i},f=function(h){try{return d.datepicker.parseDate(d.datepicker._get(a,"dateFormat"),h,d.datepicker._getFormatConfig(a))}catch(i){}var g=(h.toLowerCase().match(/^c/)?d.datepicker._getDate(a):null)||new Date,j=g.getFullYear(),l=g.getMonth();g=g.getDate();for(var u=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,k=u.exec(h);k;){switch(k[2]||"d"){case"d":case"D":g+=parseInt(k[1],10);break;case"w":case"W":g+=parseInt(k[1],10)*7;break;case"m":case"M":l+=parseInt(k[1],10);g=Math.min(g,d.datepicker._getDaysInMonth(j,l));break;case"y":case"Y":j+=parseInt(k[1],10);g=Math.min(g,d.datepicker._getDaysInMonth(j,l));break}k=u.exec(h)}return new Date(j,l,g)};if(b=(b=b==null||b===""?c:typeof b=="string"?f(b):typeof b=="number"?isNaN(b)?c:e(b):new Date(b.getTime()))&&b.toString()=="Invalid Date"?c:b){b.setHours(0);b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0)}return this._daylightSavingAdjust(b)},_daylightSavingAdjust:function(a){if(!a){return null}a.setHours(a.getHours()>12?a.getHours()+2:0);return a},_setDate:function(a,b,c){var e=!b,f=a.selectedMonth,h=a.selectedYear;b=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=b.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth();a.drawYear=a.selectedYear=a.currentYear=b.getFullYear();if((f!=a.selectedMonth||h!=a.selectedYear)&&!c){this._notifyChange(a)}this._adjustInstDate(a);if(a.input){a.input.val(e?"":this._formatDate(a))}},_getDate:function(a){return !a.currentYear||a.input&&a.input.val()==""?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_generateHTML:function(a){var b=new Date;b=this._daylightSavingAdjust(new Date(b.getFullYear(),b.getMonth(),b.getDate()));var c=this._get(a,"isRTL"),e=this._get(a,"showButtonPanel"),f=this._get(a,"hideIfNoPrevNext"),h=this._get(a,"navigationAsDateFormat"),i=this._getNumberOfMonths(a),g=this._get(a,"showCurrentAtPos"),j=this._get(a,"stepMonths"),l=i[0]!=1||i[1]!=1,u=this._daylightSavingAdjust(!a.currentDay?new Date(9999,9,9):new Date(a.currentYear,a.currentMonth,a.currentDay)),k=this._getMinMaxDate(a,"min"),o=this._getMinMaxDate(a,"max");g=a.drawMonth-g;var m=a.drawYear;if(g<0){g+=12;m--}if(o){var n=this._daylightSavingAdjust(new Date(o.getFullYear(),o.getMonth()-i[0]*i[1]+1,o.getDate()));for(n=k&&n<k?k:n;this._daylightSavingAdjust(new Date(m,g,1))>n;){g--;if(g<0){g=11;m--}}}a.drawMonth=g;a.drawYear=m;n=this._get(a,"prevText");n=!h?n:this.formatDate(n,this._daylightSavingAdjust(new Date(m,g-j,1)),this._getFormatConfig(a));n=this._canAdjustMonth(a,-1,m,g)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+A+".datepicker._adjustDate('#"+a.id+"', -"+j+", 'M');\" title=\""+n+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+n+"</span></a>":f?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+n+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+n+"</span></a>";var s=this._get(a,"nextText");s=!h?s:this.formatDate(s,this._daylightSavingAdjust(new Date(m,g+j,1)),this._getFormatConfig(a));f=this._canAdjustMonth(a,+1,m,g)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+A+".datepicker._adjustDate('#"+a.id+"', +"+j+", 'M');\" title=\""+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>":f?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>";j=this._get(a,"currentText");s=this._get(a,"gotoCurrent")&&a.currentDay?u:b;j=!h?j:this.formatDate(j,s,this._getFormatConfig(a));h=!a.inline?'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+A+'.datepicker._hideDatepicker();">'+this._get(a,"closeText")+"</button>":"";e=e?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(c?h:"")+(this._isInRange(a,s)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+A+".datepicker._gotoToday('#"+a.id+"');\">"+j+"</button>":"")+(c?"":h)+"</div>":"";h=parseInt(this._get(a,"firstDay"),10);h=isNaN(h)?0:h;j=this._get(a,"showWeek");s=this._get(a,"dayNames");this._get(a,"dayNamesShort");var q=this._get(a,"dayNamesMin"),B=this._get(a,"monthNames"),v=this._get(a,"monthNamesShort"),p=this._get(a,"beforeShowDay"),D=this._get(a,"showOtherMonths"),K=this._get(a,"selectOtherMonths");this._get(a,"calculateWeek");for(var E=this._getDefaultDate(a),w="",x=0;x<i[0];x++){var O="";this.maxRows=4;for(var G=0;G<i[1];G++){var P=this._daylightSavingAdjust(new Date(m,g,a.selectedDay)),t=" ui-corner-all",y="";if(l){y+='<div class="ui-datepicker-group';if(i[1]>1){switch(G){case 0:y+=" ui-datepicker-group-first";t=" ui-corner-"+(c?"right":"left");break;case i[1]-1:y+=" ui-datepicker-group-last";t=" ui-corner-"+(c?"left":"right");break;default:y+=" ui-datepicker-group-middle";t="";break}}y+='">'}y+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+t+'">'+(/all|left/.test(t)&&x==0?c?f:n:"")+(/all|right/.test(t)&&x==0?c?n:f:"")+this._generateMonthYearHeader(a,g,m,k,o,x>0||G>0,B,v)+'</div><table class="ui-datepicker-calendar"><thead><tr>';var z=j?'<th class="ui-datepicker-week-col">'+this._get(a,"weekHeader")+"</th>":"";for(t=0;t<7;t++){var r=(t+h)%7;z+="<th"+((t+h+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+s[r]+'">'+q[r]+"</span></th>"}y+=z+"</tr></thead><tbody>";z=this._getDaysInMonth(m,g);if(m==a.selectedYear&&g==a.selectedMonth){a.selectedDay=Math.min(a.selectedDay,z)}t=(this._getFirstDayOfMonth(m,g)-h+7)%7;z=Math.ceil((t+z)/7);this.maxRows=z=l?this.maxRows>z?this.maxRows:z:z;r=this._daylightSavingAdjust(new Date(m,g,1-t));for(var Q=0;Q<z;Q++){y+="<tr>";var R=!j?"":'<td class="ui-datepicker-week-col">'+this._get(a,"calculateWeek")(r)+"</td>";for(t=0;t<7;t++){var I=p?p.apply(a.input?a.input[0]:null,[r]):[true,""],F=r.getMonth()!=g,L=F&&!K||!I[0]||k&&r<k||o&&r>o;R+='<td class="'+((t+h+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(r.getTime()==P.getTime()&&g==a.selectedMonth&&a._keyEvent||E.getTime()==r.getTime()&&E.getTime()==P.getTime()?" "+this._dayOverClass:"")+(L?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!D?"":" "+I[1]+(r.getTime()==u.getTime()?" "+this._currentClass:"")+(r.getTime()==b.getTime()?" ui-datepicker-today":""))+'"'+((!F||D)&&I[2]?' title="'+I[2]+'"':"")+(L?"":' onclick="DP_jQuery_'+A+".datepicker._selectDay('#"+a.id+"',"+r.getMonth()+","+r.getFullYear()+', this);return false;"')+">"+(F&&!D?"&#xa0;":L?'<span class="ui-state-default">'+r.getDate()+"</span>":'<a class="ui-state-default'+(r.getTime()==b.getTime()?" ui-state-highlight":"")+(r.getTime()==u.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+'" href="#">'+r.getDate()+"</a>")+"</td>";r.setDate(r.getDate()+1);r=this._daylightSavingAdjust(r)}y+=R+"</tr>"}g++;if(g>11){g=0;m++}y+="</tbody></table>"+(l?"</div>"+(i[0]>0&&G==i[1]-1?'<div class="ui-datepicker-row-break"></div>':""):"");O+=y}w+=O}w+=e+(d.browser.msie&&parseInt(d.browser.version,10)<7&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':"");a._keyEvent=false;return w},_generateMonthYearHeader:function(a,b,c,e,f,h,i,g){var j=this._get(a,"changeMonth"),l=this._get(a,"changeYear"),u=this._get(a,"showMonthAfterYear"),k='<div class="ui-datepicker-title">',o="";if(h||!j){o+='<span class="ui-datepicker-month">'+i[b]+"</span>"}else{i=e&&e.getFullYear()==c;var m=f&&f.getFullYear()==c;o+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+A+".datepicker._selectMonthYear('#"+a.id+"', this, 'M');\" onclick=\"DP_jQuery_"+A+".datepicker._clickMonthYear('#"+a.id+"');\">";for(var n=0;n<12;n++){if((!i||n>=e.getMonth())&&(!m||n<=f.getMonth())){o+='<option value="'+n+'"'+(n==b?' selected="selected"':"")+">"+g[n]+"</option>"}}o+="</select>"}u||(k+=o+(h||!(j&&l)?"&#xa0;":""));if(!a.yearshtml){a.yearshtml="";if(h||!l){k+='<span class="ui-datepicker-year">'+c+"</span>"}else{g=this._get(a,"yearRange").split(":");var s=(new Date).getFullYear();i=function(q){q=q.match(/c[+-].*/)?c+parseInt(q.substring(1),10):q.match(/[+-].*/)?s+parseInt(q,10):parseInt(q,10);return isNaN(q)?s:q};b=i(g[0]);g=Math.max(b,i(g[1]||""));b=e?Math.max(b,e.getFullYear()):b;g=f?Math.min(g,f.getFullYear()):g;for(a.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+A+".datepicker._selectMonthYear('#"+a.id+"', this, 'Y');\" onclick=\"DP_jQuery_"+A+".datepicker._clickMonthYear('#"+a.id+"');\">";b<=g;b++){a.yearshtml+='<option value="'+b+'"'+(b==c?' selected="selected"':"")+">"+b+"</option>"}a.yearshtml+="</select>";k+=a.yearshtml;a.yearshtml=null}}k+=this._get(a,"yearSuffix");if(u){k+=(h||!(j&&l)?"&#xa0;":"")+o}k+="</div>";return k},_adjustInstDate:function(a,b,c){var e=a.drawYear+(c=="Y"?b:0),f=a.drawMonth+(c=="M"?b:0);b=Math.min(a.selectedDay,this._getDaysInMonth(e,f))+(c=="D"?b:0);e=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(e,f,b)));a.selectedDay=e.getDate();a.drawMonth=a.selectedMonth=e.getMonth();a.drawYear=a.selectedYear=e.getFullYear();if(c=="M"||c=="Y"){this._notifyChange(a)}},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min");a=this._getMinMaxDate(a,"max");b=c&&b<c?c:b;return b=a&&b>a?a:b},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");if(b){b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])}},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return a==null?[1,1]:typeof a=="number"?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,e){var f=this._getNumberOfMonths(a);c=this._daylightSavingAdjust(new Date(c,e+(b<0?b:f[0]*f[1]),1));b<0&&c.setDate(this._getDaysInMonth(c.getFullYear(),c.getMonth()));return this._isInRange(a,c)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min");a=this._getMinMaxDate(a,"max");return(!c||b.getTime()>=c.getTime())&&(!a||b.getTime()<=a.getTime())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");b=typeof b!="string"?b:(new Date).getFullYear()%100+parseInt(b,10);return{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,e){if(!b){a.currentDay=a.selectedDay;a.currentMonth=a.selectedMonth;a.currentYear=a.selectedYear}b=b?typeof b=="object"?b:this._daylightSavingAdjust(new Date(e,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}});d.fn.datepicker=function(a){if(!this.length){return this}if(!d.datepicker.initialized){d(document).mousedown(d.datepicker._checkExternalClick).find("body").append(d.datepicker.dpDiv);d.datepicker.initialized=true}var b=Array.prototype.slice.call(arguments,1);if(typeof a=="string"&&(a=="isDisabled"||a=="getDate"||a=="widget")){return d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this[0]].concat(b))}if(a=="option"&&arguments.length==2&&typeof arguments[1]=="string"){return d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this[0]].concat(b))}return this.each(function(){typeof a=="string"?d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this].concat(b)):d.datepicker._attachDatepicker(this,a)})};d.datepicker=new M;d.datepicker.initialized=false;d.datepicker.uuid=(new Date).getTime();d.datepicker.version="1.8.14";window["DP_jQuery_"+A]=d})(jQuery);(function(d,a){function b(g,f){var c=g.nodeName.toLowerCase();if("area"===c){f=g.parentNode;c=f.name;if(!g.href||!c||f.nodeName.toLowerCase()!=="map"){return false}g=d("img[usemap=#"+c+"]")[0];return !!g&&e(g)}return(/input|select|textarea|button|object/.test(c)?!g.disabled:"a"==c?g.href||f:f)&&e(g)}function e(c){return !d(c).parents().andSelf().filter(function(){return d.curCSS(this,"visibility")==="hidden"||d.expr.filters.hidden(this)}).length}d.ui=d.ui||{};if(!d.ui.version){d.extend(d.ui,{version:"1.8.13",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});d.fn.extend({_focus:d.fn.focus,focus:function(f,c){return typeof f==="number"?this.each(function(){var g=this;setTimeout(function(){d(g).focus();c&&c.call(g)},f)}):this._focus.apply(this,arguments)},scrollParent:function(){var c;c=d.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(d.curCSS(this,"position",1))&&/(auto|scroll)/.test(d.curCSS(this,"overflow",1)+d.curCSS(this,"overflow-y",1)+d.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(d.curCSS(this,"overflow",1)+d.curCSS(this,"overflow-y",1)+d.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!c.length?d(document):c},zIndex:function(f){if(f!==a){return this.css("zIndex",f)}if(this.length){f=d(this[0]);for(var c;f.length&&f[0]!==document;){c=f.css("position");if(c==="absolute"||c==="relative"||c==="fixed"){c=parseInt(f.css("zIndex"),10);if(!isNaN(c)&&c!==0){return c}}f=f.parent()}}return 0},disableSelection:function(){return this.bind((d.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(c){c.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});d.each(["Width","Height"],function(f,c){function g(p,q,h,o){d.each(j,function(){q-=parseFloat(d.curCSS(p,"padding"+this,true))||0;if(h){q-=parseFloat(d.curCSS(p,"border"+this+"Width",true))||0}if(o){q-=parseFloat(d.curCSS(p,"margin"+this,true))||0}});return q}var j=c==="Width"?["Left","Right"]:["Top","Bottom"],k=c.toLowerCase(),l={innerWidth:d.fn.innerWidth,innerHeight:d.fn.innerHeight,outerWidth:d.fn.outerWidth,outerHeight:d.fn.outerHeight};d.fn["inner"+c]=function(h){if(h===a){return l["inner"+c].call(this)}return this.each(function(){d(this).css(k,g(this,h)+"px")})};d.fn["outer"+c]=function(h,m){if(typeof h!=="number"){return l["outer"+c].call(this,h)}return this.each(function(){d(this).css(k,g(this,h,true,m)+"px")})}});d.extend(d.expr[":"],{data:function(g,f,c){return !!d.data(g,c[3])},focusable:function(c){return b(c,!isNaN(d.attr(c,"tabindex")))},tabbable:function(g){var f=d.attr(g,"tabindex"),c=isNaN(f);return(c||f>=0)&&b(g,!c)}});d(function(){var f=document.body,c=f.appendChild(c=document.createElement("div"));d.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});d.support.minHeight=c.offsetHeight===100;d.support.selectstart="onselectstart" in c;f.removeChild(c).style.display="none"});d.extend(d.ui,{plugin:{add:function(g,f,c){g=d.ui[g].prototype;for(var h in c){g.plugins[h]=g.plugins[h]||[];g.plugins[h].push([f,c[h]])}},call:function(g,f,c){if((f=g.plugins[f])&&g.element[0].parentNode){for(var h=0;h<f.length;h++){g.options[f[h][0]]&&f[h][1].apply(g.element,c)}}}},contains:function(f,c){return document.compareDocumentPosition?f.compareDocumentPosition(c)&16:f!==c&&f.contains(c)},hasScroll:function(g,f){if(d(g).css("overflow")==="hidden"){return false}f=f&&f==="left"?"scrollLeft":"scrollTop";var c=false;if(g[f]>0){return true}g[f]=1;c=g[f]>0;g[f]=0;return c},isOverAxis:function(g,f,c){return g>f&&g<f+c},isOver:function(f,c,g,j,k,l){return d.ui.isOverAxis(f,g,k)&&d.ui.isOverAxis(c,j,l)}})}})(jQuery);
/*
 * jQuery UI Widget 1.8.13
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(c,a){if(c.cleanData){var e=c.cleanData;c.cleanData=function(g){for(var f=0,b;(b=g[f])!=null;f++){c(b).triggerHandler("remove")}e(g)}}else{var d=c.fn.remove;c.fn.remove=function(f,b){return this.each(function(){if(!b){if(!f||c.filter(f,[this]).length){c("*",this).add([this]).each(function(){c(this).triggerHandler("remove")})}}return d.call(c(this),f,b)})}}c.widget=function(j,h,b){var g=j.split(".")[0],k;j=j.split(".")[1];k=g+"-"+j;if(!b){b=h;h=c.Widget}c.expr[":"][k]=function(f){return !!c.data(f,j)};c[g]=c[g]||{};c[g][j]=function(l,f){arguments.length&&this._createWidget(l,f)};h=new h;h.options=c.extend(true,{},h.options);c[g][j].prototype=c.extend(true,h,{namespace:g,widgetName:j,widgetEventPrefix:c[g][j].prototype.widgetEventPrefix||j,widgetBaseClass:k},b);c.widget.bridge(j,c[g][j])};c.widget.bridge=function(f,b){c.fn[f]=function(g){var j=typeof g==="string",l=Array.prototype.slice.call(arguments,1),k=this;g=!j&&l.length?c.extend.apply(null,[true,g].concat(l)):g;if(j&&g.charAt(0)==="_"){return k}j?this.each(function(){var m=c.data(this,f),h=m&&c.isFunction(m[g])?m[g].apply(m,l):m;if(h!==m&&h!==a){k=h;return false}}):this.each(function(){var h=c.data(this,f);h?h.option(g||{})._init():c.data(this,f,new b(g,this))});return k}};c.Widget=function(f,b){arguments.length&&this._createWidget(f,b)};c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(g,f){c.data(f,this.widgetName,this);this.element=c(f);this.options=c.extend(true,{},this.options,this._getCreateOptions(),g);var b=this;this.element.bind("remove."+this.widgetName,function(){b.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return c.metadata&&c.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(g,f){var b=g;if(arguments.length===0){return c.extend({},this.options)}if(typeof g==="string"){if(f===a){return this.options[g]}b={};b[g]=f}this._setOptions(b);return this},_setOptions:function(f){var b=this;c.each(f,function(h,g){b._setOption(h,g)});return this},_setOption:function(f,b){this.options[f]=b;if(f==="disabled"){this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",b)}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(j,h,b){var g=this.options[j];h=c.Event(h);h.type=(j===this.widgetEventPrefix?j:this.widgetEventPrefix+j).toLowerCase();b=b||{};if(h.originalEvent){j=c.event.props.length;for(var k;j;){k=c.event.props[--j];h[k]=h.originalEvent[k]}}this.element.trigger(h,b);return !(c.isFunction(g)&&g.call(this.element[0],h,b)===false||h.isDefaultPrevented())}}})(jQuery);
/*
 * jQuery UI Mouse 1.8.13
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function(c){var a=false;c(document).mousedown(function(){a=false});c.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(d){return b._mouseDown(d)}).bind("click."+this.widgetName,function(d){if(true===c.data(d.target,b.widgetName+".preventClickEvent")){c.removeData(d.target,b.widgetName+".preventClickEvent");d.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(d){if(!a){this._mouseStarted&&this._mouseUp(d);this._mouseDownEvent=d;var b=this,e=d.which==1,h=typeof this.options.cancel=="string"?c(d.target).parents().add(d.target).filter(this.options.cancel).length:false;if(!e||h||!this._mouseCapture(d)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){b.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(d)&&this._mouseDelayMet(d)){this._mouseStarted=this._mouseStart(d)!==false;if(!this._mouseStarted){d.preventDefault();return true}}true===c.data(d.target,this.widgetName+".preventClickEvent")&&c.removeData(d.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(f){return b._mouseMove(f)};this._mouseUpDelegate=function(f){return b._mouseUp(f)};c(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);d.preventDefault();return a=true}},_mouseMove:function(b){if(c.browser.msie&&!(document.documentMode>=9)&&!b.button){return this._mouseUp(b)}if(this._mouseStarted){this._mouseDrag(b);return b.preventDefault()}if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)){(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==false)?this._mouseDrag(b):this._mouseUp(b)}return !this._mouseStarted},_mouseUp:function(b){c(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;b.target==this._mouseDownEvent.target&&c.data(b.target,this.widgetName+".preventClickEvent",true);this._mouseStop(b)}return false},_mouseDistanceMet:function(b){return Math.max(Math.abs(this._mouseDownEvent.pageX-b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);(function(a){a.ui=a.ui||{};var d=/left|center|right/,e=/top|center|bottom/,b=a.fn.position,f=a.fn.offset;a.fn.position=function(c){if(!c||!c.of){return b.apply(this,arguments)}c=a.extend({},c);var l=a(c.of),n=l[0],m=(c.collision||"flip").split(" "),o=c.offset?c.offset.split(" "):[0,0],r,q,p;if(n.nodeType===9){r=l.width();q=l.height();p={top:0,left:0}}else{if(n.setTimeout){r=l.width();q=l.height();p={top:l.scrollTop(),left:l.scrollLeft()}}else{if(n.preventDefault){c.at="left top";r=q=0;p={top:c.of.pageY,left:c.of.pageX}}else{r=l.outerWidth();q=l.outerHeight();p=l.offset()}}}a.each(["my","at"],function(){var g=(c[this]||"").split(" ");if(g.length===1){g=d.test(g[0])?g.concat(["center"]):e.test(g[0])?["center"].concat(g):["center","center"]}g[0]=d.test(g[0])?g[0]:"center";g[1]=e.test(g[1])?g[1]:"center";c[this]=g});if(m.length===1){m[1]=m[0]}o[0]=parseInt(o[0],10)||0;if(o.length===1){o[1]=o[0]}o[1]=parseInt(o[1],10)||0;if(c.at[0]==="right"){p.left+=r}else{if(c.at[0]==="center"){p.left+=r/2}}if(c.at[1]==="bottom"){p.top+=q}else{if(c.at[1]==="center"){p.top+=q/2}}p.left+=o[0];p.top+=o[1];return this.each(function(){var j=a(this),y=j.outerWidth(),z=j.outerHeight(),h=parseInt(a.curCSS(this,"marginLeft",true))||0,k=parseInt(a.curCSS(this,"marginTop",true))||0,s=y+h+(parseInt(a.curCSS(this,"marginRight",true))||0),t=z+k+(parseInt(a.curCSS(this,"marginBottom",true))||0),u=a.extend({},p),g;if(c.my[0]==="right"){u.left-=y}else{if(c.my[0]==="center"){u.left-=y/2}}if(c.my[1]==="bottom"){u.top-=z}else{if(c.my[1]==="center"){u.top-=z/2}}u.left=Math.round(u.left);u.top=Math.round(u.top);g={left:u.left-h,top:u.top-k};a.each(["left","top"],function(w,v){a.ui.position[m[w]]&&a.ui.position[m[w]][v](u,{targetWidth:r,targetHeight:q,elemWidth:y,elemHeight:z,collisionPosition:g,collisionWidth:s,collisionHeight:t,offset:o,my:c.my,at:c.at})});a.fn.bgiframe&&j.bgiframe();j.offset(a.extend(u,{using:c.using}))})};a.ui.position={fit:{left:function(g,h){var c=a(window);c=h.collisionPosition.left+h.collisionWidth-c.width()-c.scrollLeft();g.left=c>0?g.left-c:Math.max(g.left-h.collisionPosition.left,g.left)},top:function(g,h){var c=a(window);c=h.collisionPosition.top+h.collisionHeight-c.height()-c.scrollTop();g.top=c>0?g.top-c:Math.max(g.top-h.collisionPosition.top,g.top)}},flip:{left:function(c,j){if(j.at[0]!=="center"){var l=a(window);l=j.collisionPosition.left+j.collisionWidth-l.width()-l.scrollLeft();var k=j.my[0]==="left"?-j.elemWidth:j.my[0]==="right"?j.elemWidth:0,m=j.at[0]==="left"?j.targetWidth:-j.targetWidth,n=-2*j.offset[0];c.left+=j.collisionPosition.left<0?k+m+n:l>0?k+m+n:0}},top:function(c,j){if(j.at[1]!=="center"){var l=a(window);l=j.collisionPosition.top+j.collisionHeight-l.height()-l.scrollTop();var k=j.my[1]==="top"?-j.elemHeight:j.my[1]==="bottom"?j.elemHeight:0,m=j.at[1]==="top"?j.targetHeight:-j.targetHeight,n=-2*j.offset[1];c.top+=j.collisionPosition.top<0?k+m+n:l>0?k+m+n:0}}}};if(!a.offset.setOffset){a.offset.setOffset=function(c,j){if(/static/.test(a.curCSS(c,"position"))){c.style.position="relative"}var l=a(c),k=l.offset(),m=parseInt(a.curCSS(c,"top",true),10)||0,n=parseInt(a.curCSS(c,"left",true),10)||0;k={top:j.top-k.top+m,left:j.left-k.left+n};"using" in j?j.using.call(c,k):l.css(k)};a.fn.offset=function(g){var c=this[0];if(!c||!c.ownerDocument){return null}if(g){return this.each(function(){a.offset.setOffset(this,g)})}return f.call(this)}}})(jQuery);(function(a,b){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper=="original"&&!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative"}(this.options.addClasses&&this.element.addClass("ui-draggable"));(this.options.disabled&&this.element.addClass("ui-draggable-disabled"));this._mouseInit()},destroy:function(){if(!this.element.data("draggable")){return}this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this},_mouseCapture:function(c){var d=this.options;if(this.helper||d.disabled||a(c.target).is(".ui-resizable-handle")){return false}this.handle=this._getHandle(c);if(!this.handle){return false}a(d.iframeFix===true?"iframe":d.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body")});return true},_mouseStart:function(c){var d=this.options;this.helper=this._createHelper(c);this._cacheHelperProportions();if(a.ui.ddmanager){a.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(c);this.originalPageX=c.pageX;this.originalPageY=c.pageY;(d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt));if(d.containment){this._setContainment()}if(this._trigger("start",c)===false){this._clear();return false}this._cacheHelperProportions();if(a.ui.ddmanager&&!d.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,c)}this.helper.addClass("ui-draggable-dragging");this._mouseDrag(c,true);return true},_mouseDrag:function(c,e){this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");if(!e){var d=this._uiHash();if(this._trigger("drag",c,d)===false){this._mouseUp({});return false}this.position=d.position}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}if(a.ui.ddmanager){a.ui.ddmanager.drag(this,c)}return false},_mouseStop:function(c){var e=false;if(a.ui.ddmanager&&!this.options.dropBehaviour){e=a.ui.ddmanager.drop(this,c)}if(this.dropped){e=this.dropped;this.dropped=false}if(!this.element[0]||!this.element[0].parentNode){return false}if((this.options.revert=="invalid"&&!e)||(this.options.revert=="valid"&&e)||this.options.revert===true||(a.isFunction(this.options.revert)&&this.options.revert.call(this.element,e))){var d=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(d._trigger("stop",c)!==false){d._clear()}})}else{if(this._trigger("stop",c)!==false){this._clear()}}return false},_mouseUp:function(c){if(this.options.iframeFix===true){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}return a.ui.mouse.prototype._mouseUp.call(this,c)},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({})}else{this._clear()}return this},_getHandle:function(c){var d=!this.options.handle||!a(this.options.handle,this.element).length?true:false;a(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==c.target){d=true}});return d},_createHelper:function(d){var e=this.options;var c=a.isFunction(e.helper)?a(e.helper.apply(this.element[0],[d])):(e.helper=="clone"?this.element.clone():this.element);if(!c.parents("body").length){c.appendTo((e.appendTo=="parent"?this.element[0].parentNode:e.appendTo))}if(c[0]!=this.element[0]&&!(/(fixed|absolute)/).test(c.css("position"))){c.css("position","absolute")}return c},_adjustOffsetFromHelper:function(c){if(typeof c=="string"){c=c.split(" ")}if(a.isArray(c)){c={left:+c[0],top:+c[1]||0}}if("left" in c){this.offset.click.left=c.left+this.margins.left}if("right" in c){this.offset.click.left=this.helperProportions.width-c.right+this.margins.left}if("top" in c){this.offset.click.top=c.top+this.margins.top}if("bottom" in c){this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])){c.left+=this.scrollParent.scrollLeft();c.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)){c={top:0,left:0}}return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var c=this.element.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var h=this.options;if(h.containment=="parent"){h.containment=this.helper[0].parentNode}if(h.containment=="document"||h.containment=="window"){this.containment=[h.containment=="document"?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,h.containment=="document"?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(h.containment=="document"?0:a(window).scrollLeft())+a(h.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(h.containment=="document"?0:a(window).scrollTop())+(a(h.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(h.containment)&&h.containment.constructor!=Array){var f=a(h.containment);var g=f[0];if(!g){return}var d=f.offset();var e=(a(g).css("overflow")!="hidden");this.containment=[(parseInt(a(g).css("borderLeftWidth"),10)||0)+(parseInt(a(g).css("paddingLeft"),10)||0),(parseInt(a(g).css("borderTopWidth"),10)||0)+(parseInt(a(g).css("paddingTop"),10)||0),(e?Math.max(g.scrollWidth,g.offsetWidth):g.offsetWidth)-(parseInt(a(g).css("borderLeftWidth"),10)||0)-(parseInt(a(g).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(g.scrollHeight,g.offsetHeight):g.offsetHeight)-(parseInt(a(g).css("borderTopWidth"),10)||0)-(parseInt(a(g).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=f}else{if(h.containment.constructor==Array){this.containment=h.containment}}},_convertPositionTo:function(f,j){if(!j){j=this.position}var e=f=="absolute"?1:-1;var h=this.options,c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=(/(html|body)/i).test(c[0].tagName);return{top:(j.top+this.offset.relative.top*e+this.offset.parent.top*e-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(g?0:c.scrollTop()))*e)),left:(j.left+this.offset.relative.left*e+this.offset.parent.left*e-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:c.scrollLeft())*e))}},_generatePosition:function(c){var m=this.options,d=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,j=(/(html|body)/i).test(d[0].tagName);var f=c.pageX;var e=c.pageY;if(this.originalPosition){var h;if(this.containment){if(this.relative_container){var k=this.relative_container.offset();h=[this.containment[0]+k.left,this.containment[1]+k.top,this.containment[2]+k.left,this.containment[3]+k.top]}else{h=this.containment}if(c.pageX-this.offset.click.left<h[0]){f=h[0]+this.offset.click.left}if(c.pageY-this.offset.click.top<h[1]){e=h[1]+this.offset.click.top}if(c.pageX-this.offset.click.left>h[2]){f=h[2]+this.offset.click.left}if(c.pageY-this.offset.click.top>h[3]){e=h[3]+this.offset.click.top}}if(m.grid){var l=m.grid[1]?this.originalPageY+Math.round((e-this.originalPageY)/m.grid[1])*m.grid[1]:this.originalPageY;e=h?(!(l-this.offset.click.top<h[1]||l-this.offset.click.top>h[3])?l:(!(l-this.offset.click.top<h[1])?l-m.grid[1]:l+m.grid[1])):l;var g=m.grid[0]?this.originalPageX+Math.round((f-this.originalPageX)/m.grid[0])*m.grid[0]:this.originalPageX;f=h?(!(g-this.offset.click.left<h[0]||g-this.offset.click.left>h[2])?g:(!(g-this.offset.click.left<h[0])?g-m.grid[0]:g+m.grid[0])):g}}return{top:(e-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(j?0:d.scrollTop())))),left:(f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():j?0:d.scrollLeft())))}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false},_trigger:function(d,c,e){e=e||this._uiHash();a.ui.plugin.call(this,d,[c,e]);if(d=="drag"){this.positionAbs=this._convertPositionTo("absolute")}return a.Widget.prototype._trigger.call(this,d,c,e)},plugins:{},_uiHash:function(c){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.extend(a.ui.draggable,{version:"@VERSION"});a.ui.plugin.add("draggable","connectToSortable",{start:function(d,e){var c=a(this).data("draggable"),f=c.options,g=a.extend({},e,{item:c.element});c.sortables=[];a(f.connectToSortable).each(function(){var h=a.data(this,"sortable");if(h&&!h.options.disabled){c.sortables.push({instance:h,shouldRevert:h.options.revert});h.refreshPositions();h._trigger("activate",d,g)}})},stop:function(d,e){var c=a(this).data("draggable"),f=a.extend({},e,{item:c.element});a.each(c.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;c.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=true}this.instance._mouseStop(d);this.instance.options.helper=this.instance.options._helper;if(c.options.helper=="original"){this.instance.currentItem.css({top:"auto",left:"auto"})}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",d,f)}})},drag:function(e,f){var d=a(this).data("draggable"),c=this;var g=function(q){var m=this.offset.click.top,k=this.offset.click.left;var n=this.positionAbs.top,j=this.positionAbs.left;var h=q.height,p=q.width;var r=q.top,l=q.left;return a.ui.isOver(n+m,j+k,r,l,h,p)};a.each(d.sortables,function(h){this.instance.positionAbs=d.positionAbs;this.instance.helperProportions=d.helperProportions;this.instance.offset.click=d.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=a(c).clone().appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return f.helper[0]};e.target=this.instance.currentItem[0];this.instance._mouseCapture(e,true);this.instance._mouseStart(e,true,true);this.instance.offset.click.top=d.offset.click.top;this.instance.offset.click.left=d.offset.click.left;this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top;d._trigger("toSortable",e);d.dropped=this.instance.element;d.currentItem=d.element;this.instance.fromOutside=d}if(this.instance.currentItem){this.instance._mouseDrag(e)}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",e,this.instance._uiHash(this.instance));this.instance._mouseStop(e,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove()}d._trigger("fromSortable",e);d.dropped=false}}})}});a.ui.plugin.add("draggable","cursor",{start:function(d,e){var f=a("body"),c=a(this).data("draggable").options;if(f.css("cursor")){c._cursor=f.css("cursor")}f.css("cursor",c.cursor)},stop:function(c,d){var e=a(this).data("draggable").options;if(e._cursor){a("body").css("cursor",e._cursor)}}});a.ui.plugin.add("draggable","opacity",{start:function(d,e){var f=a(e.helper),c=a(this).data("draggable").options;if(f.css("opacity")){c._opacity=f.css("opacity")}f.css("opacity",c.opacity)},stop:function(c,d){var e=a(this).data("draggable").options;if(e._opacity){a(d.helper).css("opacity",e._opacity)}}});a.ui.plugin.add("draggable","scroll",{start:function(d,e){var c=a(this).data("draggable");if(c.scrollParent[0]!=document&&c.scrollParent[0].tagName!="HTML"){c.overflowOffset=c.scrollParent.offset()}},drag:function(d,e){var c=a(this).data("draggable"),f=c.options,g=false;if(c.scrollParent[0]!=document&&c.scrollParent[0].tagName!="HTML"){if(!f.axis||f.axis!="x"){if((c.overflowOffset.top+c.scrollParent[0].offsetHeight)-d.pageY<f.scrollSensitivity){c.scrollParent[0].scrollTop=g=c.scrollParent[0].scrollTop+f.scrollSpeed}else{if(d.pageY-c.overflowOffset.top<f.scrollSensitivity){c.scrollParent[0].scrollTop=g=c.scrollParent[0].scrollTop-f.scrollSpeed}}}if(!f.axis||f.axis!="y"){if((c.overflowOffset.left+c.scrollParent[0].offsetWidth)-d.pageX<f.scrollSensitivity){c.scrollParent[0].scrollLeft=g=c.scrollParent[0].scrollLeft+f.scrollSpeed}else{if(d.pageX-c.overflowOffset.left<f.scrollSensitivity){c.scrollParent[0].scrollLeft=g=c.scrollParent[0].scrollLeft-f.scrollSpeed}}}}else{if(!f.axis||f.axis!="x"){if(d.pageY-a(document).scrollTop()<f.scrollSensitivity){g=a(document).scrollTop(a(document).scrollTop()-f.scrollSpeed)}else{if(a(window).height()-(d.pageY-a(document).scrollTop())<f.scrollSensitivity){g=a(document).scrollTop(a(document).scrollTop()+f.scrollSpeed)}}}if(!f.axis||f.axis!="y"){if(d.pageX-a(document).scrollLeft()<f.scrollSensitivity){g=a(document).scrollLeft(a(document).scrollLeft()-f.scrollSpeed)}else{if(a(window).width()-(d.pageX-a(document).scrollLeft())<f.scrollSensitivity){g=a(document).scrollLeft(a(document).scrollLeft()+f.scrollSpeed)}}}}if(g!==false&&a.ui.ddmanager&&!f.dropBehaviour){a.ui.ddmanager.prepareOffsets(c,d)}}});a.ui.plugin.add("draggable","snap",{start:function(d,e){var c=a(this).data("draggable"),f=c.options;c.snapElements=[];a(f.snap.constructor!=String?(f.snap.items||":data(draggable)"):f.snap).each(function(){var h=a(this);var g=h.offset();if(this!=c.element[0]){c.snapElements.push({item:this,width:h.outerWidth(),height:h.outerHeight(),top:g.top,left:g.left})}})},drag:function(e,c){var u=a(this).data("draggable"),z=u.options;var g=z.snapTolerance;var h=c.offset.left,n=h+u.helperProportions.width,j=c.offset.top,p=j+u.helperProportions.height;for(var y=u.snapElements.length-1;y>=0;y--){var A=u.snapElements[y].left,q=A+u.snapElements[y].width,v=u.snapElements[y].top,B=v+u.snapElements[y].height;if(!((A-g<h&&h<q+g&&v-g<j&&j<B+g)||(A-g<h&&h<q+g&&v-g<p&&p<B+g)||(A-g<n&&n<q+g&&v-g<j&&j<B+g)||(A-g<n&&n<q+g&&v-g<p&&p<B+g))){if(u.snapElements[y].snapping){(u.options.snap.release&&u.options.snap.release.call(u.element,e,a.extend(u._uiHash(),{snapItem:u.snapElements[y].item})))}u.snapElements[y].snapping=false;continue}if(z.snapMode!="inner"){var s=Math.abs(v-p)<=g;var m=Math.abs(B-j)<=g;var k=Math.abs(A-n)<=g;var f=Math.abs(q-h)<=g;if(s){c.position.top=u._convertPositionTo("relative",{top:v-u.helperProportions.height,left:0}).top-u.margins.top}if(m){c.position.top=u._convertPositionTo("relative",{top:B,left:0}).top-u.margins.top}if(k){c.position.left=u._convertPositionTo("relative",{top:0,left:A-u.helperProportions.width}).left-u.margins.left}if(f){c.position.left=u._convertPositionTo("relative",{top:0,left:q}).left-u.margins.left}}var w=(s||m||k||f);if(z.snapMode!="outer"){var s=Math.abs(v-j)<=g;var m=Math.abs(B-p)<=g;var k=Math.abs(A-h)<=g;var f=Math.abs(q-n)<=g;if(s){c.position.top=u._convertPositionTo("relative",{top:v,left:0}).top-u.margins.top}if(m){c.position.top=u._convertPositionTo("relative",{top:B-u.helperProportions.height,left:0}).top-u.margins.top}if(k){c.position.left=u._convertPositionTo("relative",{top:0,left:A}).left-u.margins.left}if(f){c.position.left=u._convertPositionTo("relative",{top:0,left:q-u.helperProportions.width}).left-u.margins.left}}if(!u.snapElements[y].snapping&&(s||m||k||f||w)){(u.options.snap.snap&&u.options.snap.snap.call(u.element,e,a.extend(u._uiHash(),{snapItem:u.snapElements[y].item})))}u.snapElements[y].snapping=(s||m||k||f||w)}}});a.ui.plugin.add("draggable","stack",{start:function(d,e){var g=a(this).data("draggable").options;var f=a.makeArray(a(g.stack)).sort(function(j,h){return(parseInt(a(j).css("zIndex"),10)||0)-(parseInt(a(h).css("zIndex"),10)||0)});if(!f.length){return}var c=parseInt(f[0].style.zIndex)||0;a(f).each(function(h){this.style.zIndex=c+h});this[0].style.zIndex=c+f.length}});a.ui.plugin.add("draggable","zIndex",{start:function(d,e){var f=a(e.helper),c=a(this).data("draggable").options;if(f.css("zIndex")){c._zIndex=f.css("zIndex")}f.css("zIndex",c.zIndex)},stop:function(c,d){var e=a(this).data("draggable").options;if(e._zIndex){a(d.helper).css("zIndex",e._zIndex)}}})})(jQuery);(function(a){a.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"},_create:function(){var d=this.options,c=d.accept;this.isover=0;this.isout=1;this.accept=a.isFunction(c)?c:function(b){return b.is(c)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};a.ui.ddmanager.droppables[d.scope]=a.ui.ddmanager.droppables[d.scope]||[];a.ui.ddmanager.droppables[d.scope].push(this);d.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var d=a.ui.ddmanager.droppables[this.options.scope],c=0;c<d.length;c++){d[c]==this&&d.splice(c,1)}this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this},_setOption:function(d,c){if(d=="accept"){this.accept=a.isFunction(c)?c:function(b){return b.is(c)}}a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(d){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);c&&this._trigger("activate",d,this.ui(c))},_deactivate:function(d){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);c&&this._trigger("deactivate",d,this.ui(c))},_over:function(d){var c=a.ui.ddmanager.current;if(!(!c||(c.currentItem||c.element)[0]==this.element[0])){if(this.accept.call(this.element[0],c.currentItem||c.element)){this.options.hoverClass&&this.element.addClass(this.options.hoverClass);this._trigger("over",d,this.ui(c))}}},_out:function(d){var c=a.ui.ddmanager.current;if(!(!c||(c.currentItem||c.element)[0]==this.element[0])){if(this.accept.call(this.element[0],c.currentItem||c.element)){this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("out",d,this.ui(c))}}},_drop:function(h,f){var g=f||a.ui.ddmanager.current;if(!g||(g.currentItem||g.element)[0]==this.element[0]){return false}var d=false;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var b=a.data(this,"droppable");if(b.options.greedy&&!b.options.disabled&&b.options.scope==g.options.scope&&b.accept.call(b.element[0],g.currentItem||g.element)&&a.ui.intersect(g,a.extend(b,{offset:b.element.offset()}),b.options.tolerance)){d=true;return false}});if(d){return false}if(this.accept.call(this.element[0],g.currentItem||g.element)){this.options.activeClass&&this.element.removeClass(this.options.activeClass);this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("drop",h,this.ui(g));return this.element}return false},ui:function(b){return{draggable:b.currentItem||b.element,helper:b.helper,position:b.position,offset:b.positionAbs}}});a.extend(a.ui.droppable,{version:"1.8.13"});a.ui.intersect=function(n,d,m){if(!d.offset){return false}var q=(n.positionAbs||n.position.absolute).left,p=q+n.helperProportions.width,o=(n.positionAbs||n.position.absolute).top,t=o+n.helperProportions.height,u=d.offset.left,s=u+d.proportions.width,r=d.offset.top,v=r+d.proportions.height;switch(m){case"fit":return u<=q&&p<=s&&r<=o&&t<=v;case"intersect":return u<q+n.helperProportions.width/2&&p-n.helperProportions.width/2<s&&r<o+n.helperProportions.height/2&&t-n.helperProportions.height/2<v;case"pointer":return a.ui.isOver((n.positionAbs||n.position.absolute).top+(n.clickOffset||n.offset.click).top,(n.positionAbs||n.position.absolute).left+(n.clickOffset||n.offset.click).left,r,u,d.proportions.height,d.proportions.width);case"touch":return(o>=r&&o<=v||t>=r&&t<=v||o<r&&t>v)&&(q>=u&&q<=s||p>=u&&p<=s||q<u&&p>s);default:return false}};a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(k,d){var j=a.ui.ddmanager.droppables[k.options.scope]||[],n=d?d.type:null,m=(k.currentItem||k.element).find(":data(droppable)").andSelf(),l=0;k:for(;l<j.length;l++){if(!(j[l].options.disabled||k&&!j[l].accept.call(j[l].element[0],k.currentItem||k.element))){for(var o=0;o<m.length;o++){if(m[o]==j[l].element[0]){j[l].proportions.height=0;continue k}}j[l].visible=j[l].element.css("display")!="none";if(j[l].visible){n=="mousedown"&&j[l]._activate.call(j[l],d);j[l].offset=j[l].element.offset();j[l].proportions={width:j[l].element[0].offsetWidth,height:j[l].element[0].offsetHeight}}}}},drop:function(f,d){var e=false;a.each(a.ui.ddmanager.droppables[f.options.scope]||[],function(){if(this.options){if(!this.options.disabled&&this.visible&&a.ui.intersect(f,this,this.options.tolerance)){e=e||this._drop.call(this,d)}if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],f.currentItem||f.element)){this.isout=1;this.isover=0;this._deactivate.call(this,d)}}});return e},drag:function(d,c){d.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(d,c);a.each(a.ui.ddmanager.droppables[d.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var f=a.ui.intersect(d,this,this.options.tolerance);if(f=!f&&this.isover==1?"isout":f&&this.isover==0?"isover":null){var b;if(this.options.greedy){var h=this.element.parents(":data(droppable):eq(0)");if(h.length){b=a.data(h[0],"droppable");b.greedyChild=f=="isover"?1:0}}if(b&&f=="isover"){b.isover=0;b.isout=1;b._out.call(b,c)}this[f]=1;this[f=="isout"?"isover":"isout"]=0;this[f=="isover"?"_over":"_out"].call(this,c);if(b&&f=="isout"){b.isout=0;b.isover=1;b._over.call(b,c)}}}})}}})(jQuery);(function(b){b.widget("ui.resizable",b.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1000},_create:function(){var e=this,j=this.options;this.element.addClass("ui-resizable");b.extend(this,{_aspectRatio:!!j.aspectRatio,aspectRatio:j.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:j.helper||j.ghost||j.animate?j.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){/relative/.test(this.element.css("position"))&&b.browser.opera&&this.element.css({position:"relative",top:"auto",left:"auto"});this.element.wrap(b('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("resizable",this.element.data("resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=j.handles||(!b(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor==String){if(this.handles=="all"){this.handles="n,e,s,w,se,sw,ne,nw"}var h=this.handles.split(",");this.handles={};for(var m=0;m<h.length;m++){var k=b.trim(h[m]),l=b('<div class="ui-resizable-handle '+("ui-resizable-"+k)+'"></div>');/sw|se|ne|nw/.test(k)&&l.css({zIndex:++j.zIndex});"se"==k&&l.addClass("ui-icon ui-icon-gripsmall-diagonal-se");this.handles[k]=".ui-resizable-"+k;this.element.append(l)}}this._renderAxis=function(g){g=g||this.element;for(var n in this.handles){if(this.handles[n].constructor==String){this.handles[n]=b(this.handles[n],this.element).show()}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var d=b(this.handles[n],this.element),f=0;f=/sw|ne|nw|se|n|s/.test(n)?d.outerHeight():d.outerWidth();d=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join("");g.css(d,f);this._proportionallyResize()}b(this.handles[n])}};this._renderAxis(this.element);this._handles=b(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!e.resizing){if(this.className){var d=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}e.axis=d&&d[1]?d[1]:"se"}});if(j.autoHide){this._handles.hide();b(this.element).addClass("ui-resizable-autohide").hover(function(){if(!j.disabled){b(this).removeClass("ui-resizable-autohide");e._handles.show()}},function(){if(!j.disabled){if(!e.resizing){b(this).addClass("ui-resizable-autohide");e._handles.hide()}}})}this._mouseInit()},destroy:function(){this._mouseDestroy();var e=function(f){b(f).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){e(this.element);var d=this.element;d.after(this.originalElement.css({position:d.css("position"),width:d.outerWidth(),height:d.outerHeight(),top:d.css("top"),left:d.css("left")})).remove()}this.originalElement.css("resize",this.originalResizeStyle);e(this.originalElement);return this},_mouseCapture:function(d){var f=false;for(var e in this.handles){if(b(this.handles[e])[0]==d.target){f=true}}return !this.options.disabled&&f},_mouseStart:function(g){var j=this.options,h=this.element.position(),e=this.element;this.resizing=true;this.documentScroll={top:b(document).scrollTop(),left:b(document).scrollLeft()};if(e.is(".ui-draggable")||/absolute/.test(e.css("position"))){e.css({position:"absolute",top:h.top,left:h.left})}b.browser.opera&&/relative/.test(e.css("position"))&&e.css({position:"relative",top:"auto",left:"auto"});this._renderProxy();h=a(this.helper.css("left"));var k=a(this.helper.css("top"));if(j.containment){h+=b(j.containment).scrollLeft()||0;k+=b(j.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:h,top:k};this.size=this._helper?{width:e.outerWidth(),height:e.outerHeight()}:{width:e.width(),height:e.height()};this.originalSize=this._helper?{width:e.outerWidth(),height:e.outerHeight()}:{width:e.width(),height:e.height()};this.originalPosition={left:h,top:k};this.sizeDiff={width:e.outerWidth()-e.width(),height:e.outerHeight()-e.height()};this.originalMousePosition={left:g.pageX,top:g.pageY};this.aspectRatio=typeof j.aspectRatio=="number"?j.aspectRatio:this.originalSize.width/this.originalSize.height||1;j=b(".ui-resizable-"+this.axis).css("cursor");b("body").css("cursor",j=="auto"?this.axis+"-resize":j);e.addClass("ui-resizable-resizing");this._propagate("start",g);return true},_mouseDrag:function(f){var h=this.helper,g=this.originalMousePosition,e=this._change[this.axis];if(!e){return false}g=e.apply(this,[f,f.pageX-g.left||0,f.pageY-g.top||0]);if(this._aspectRatio||f.shiftKey){g=this._updateRatio(g,f)}g=this._respectSize(g,f);this._propagate("resize",f);h.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"});!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize();this._updateCache(g);this._trigger("resize",f,this.ui());return false},_mouseStop:function(e){this.resizing=false;var j=this.options,h=this;if(this._helper){var m=this._proportionallyResizeElements,k=m.length&&/textarea/i.test(m[0].nodeName);m=k&&b.ui.hasScroll(m[0],"left")?0:h.sizeDiff.height;k=k?0:h.sizeDiff.width;k={width:h.helper.width()-k,height:h.helper.height()-m};m=parseInt(h.element.css("left"),10)+(h.position.left-h.originalPosition.left)||null;var l=parseInt(h.element.css("top"),10)+(h.position.top-h.originalPosition.top)||null;j.animate||this.element.css(b.extend(k,{top:l,left:m}));h.helper.height(h.size.height);h.helper.width(h.size.width);this._helper&&!j.animate&&this._proportionallyResize()}b("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",e);this._helper&&this.helper.remove();return false},_updateCache:function(d){this.offset=this.helper.offset();if(c(d.left)){this.position.left=d.left}if(c(d.top)){this.position.top=d.top}if(c(d.height)){this.size.height=d.height}if(c(d.width)){this.size.width=d.width}},_updateRatio:function(f){var h=this.position,g=this.size,e=this.axis;if(f.height){f.width=g.height*this.aspectRatio}else{if(f.width){f.height=g.width/this.aspectRatio}}if(e=="sw"){f.left=h.left+(g.width-f.width);f.top=null}if(e=="nw"){f.top=h.top+(g.height-f.height);f.left=h.left+(g.width-f.width)}return f},_respectSize:function(e){var m=this.options,l=this.axis,p=c(e.width)&&m.maxWidth&&m.maxWidth<e.width,n=c(e.height)&&m.maxHeight&&m.maxHeight<e.height,o=c(e.width)&&m.minWidth&&m.minWidth>e.width,s=c(e.height)&&m.minHeight&&m.minHeight>e.height;if(o){e.width=m.minWidth}if(s){e.height=m.minHeight}if(p){e.width=m.maxWidth}if(n){e.height=m.maxHeight}var t=this.originalPosition.left+this.originalSize.width,q=this.position.top+this.size.height,r=/sw|nw|w/.test(l);l=/nw|ne|n/.test(l);if(o&&r){e.left=t-m.minWidth}if(p&&r){e.left=t-m.maxWidth}if(s&&l){e.top=q-m.minHeight}if(n&&l){e.top=q-m.maxHeight}if((m=!e.width&&!e.height)&&!e.left&&e.top){e.top=null}else{if(m&&!e.top&&e.left){e.left=null}}return e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){for(var g=this.helper||this.element,j=0;j<this._proportionallyResizeElements.length;j++){var h=this._proportionallyResizeElements[j];if(!this.borderDif){var e=[h.css("borderTopWidth"),h.css("borderRightWidth"),h.css("borderBottomWidth"),h.css("borderLeftWidth")],k=[h.css("paddingTop"),h.css("paddingRight"),h.css("paddingBottom"),h.css("paddingLeft")];this.borderDif=b.map(e,function(d,f){d=parseInt(d,10)||0;f=parseInt(k[f],10)||0;return d+f})}b.browser.msie&&(b(g).is(":hidden")||b(g).parents(":hidden").length)||h.css({height:g.height()-this.borderDif[0]-this.borderDif[2]||0,width:g.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var d=this.options;this.elementOffset=this.element.offset();if(this._helper){this.helper=this.helper||b('<div style="overflow:hidden;"></div>');var f=b.browser.msie&&b.browser.version<7,e=f?1:0;f=f?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+f,height:this.element.outerHeight()+f,position:"absolute",left:this.elementOffset.left-e+"px",top:this.elementOffset.top-e+"px",zIndex:++d.zIndex});this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(e,d){return{width:this.originalSize.width+d}},w:function(e,d){return{left:this.originalPosition.left+d,width:this.originalSize.width-d}},n:function(d,f,e){return{top:this.originalPosition.top+e,height:this.originalSize.height-e}},s:function(d,f,e){return{height:this.originalSize.height+e}},se:function(d,f,e){return b.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[d,f,e]))},sw:function(d,f,e){return b.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[d,f,e]))},ne:function(d,f,e){return b.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[d,f,e]))},nw:function(d,f,e){return b.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[d,f,e]))}},_propagate:function(e,d){b.ui.plugin.call(this,e,[d,this.ui()]);e!="resize"&&this._trigger(e,d,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});b.extend(b.ui.resizable,{version:"1.8.13"});b.ui.plugin.add("resizable","alsoResize",{start:function(){var e=b(this).data("resizable").options,d=function(f){b(f).each(function(){var g=b(this);g.data("resizable-alsoresize",{width:parseInt(g.width(),10),height:parseInt(g.height(),10),left:parseInt(g.css("left"),10),top:parseInt(g.css("top"),10),position:g.css("position")})})};if(typeof e.alsoResize=="object"&&!e.alsoResize.parentNode){if(e.alsoResize.length){e.alsoResize=e.alsoResize[0];d(e.alsoResize)}else{b.each(e.alsoResize,function(f){d(f)})}}else{d(e.alsoResize)}},resize:function(e,k){var j=b(this).data("resizable");e=j.options;var n=j.originalSize,l=j.originalPosition,m={height:j.size.height-n.height||0,width:j.size.width-n.width||0,top:j.position.top-l.top||0,left:j.position.left-l.left||0},o=function(d,f){b(d).each(function(){var g=b(this),h=b(this).data("resizable-alsoresize"),t={},s=f&&f.length?f:g.parents(k.originalElement[0]).length?["width","height"]:["width","height","top","left"];b.each(s,function(p,q){if((p=(h[q]||0)+(m[q]||0))&&p>=0){t[q]=p||null}});if(b.browser.opera&&/relative/.test(g.css("position"))){j._revertToRelativePosition=true;g.css({position:"absolute",top:"auto",left:"auto"})}g.css(t)})};typeof e.alsoResize=="object"&&!e.alsoResize.nodeType?b.each(e.alsoResize,function(d,f){o(d,f)}):o(e.alsoResize)},stop:function(){var d=b(this).data("resizable"),f=d.options,e=function(g){b(g).each(function(){var h=b(this);h.css({position:h.data("resizable-alsoresize").position})})};if(d._revertToRelativePosition){d._revertToRelativePosition=false;typeof f.alsoResize=="object"&&!f.alsoResize.nodeType?b.each(f.alsoResize,function(g){e(g)}):e(f.alsoResize)}b(this).removeData("resizable-alsoresize")}});b.ui.plugin.add("resizable","animate",{stop:function(e){var k=b(this).data("resizable"),j=k.options,n=k._proportionallyResizeElements,l=n.length&&/textarea/i.test(n[0].nodeName),m=l&&b.ui.hasScroll(n[0],"left")?0:k.sizeDiff.height;l={width:k.size.width-(l?0:k.sizeDiff.width),height:k.size.height-m};m=parseInt(k.element.css("left"),10)+(k.position.left-k.originalPosition.left)||null;var o=parseInt(k.element.css("top"),10)+(k.position.top-k.originalPosition.top)||null;k.element.animate(b.extend(l,o&&m?{top:o,left:m}:{}),{duration:j.animateDuration,easing:j.animateEasing,step:function(){var d={width:parseInt(k.element.css("width"),10),height:parseInt(k.element.css("height"),10),top:parseInt(k.element.css("top"),10),left:parseInt(k.element.css("left"),10)};n&&n.length&&b(n[0]).css({width:d.width,height:d.height});k._updateCache(d);k._propagate("resize",e)}})}});b.ui.plugin.add("resizable","containment",{start:function(){var e=b(this).data("resizable"),k=e.element,j=e.options.containment;if(k=j instanceof b?j.get(0):/parent/.test(j)?k.parent().get(0):j){e.containerElement=b(k);if(/document/.test(j)||j==document){e.containerOffset={left:0,top:0};e.containerPosition={left:0,top:0};e.parentData={element:b(document),left:0,top:0,width:b(document).width(),height:b(document).height()||document.body.parentNode.scrollHeight}}else{var n=b(k),l=[];b(["Top","Right","Left","Bottom"]).each(function(d,f){l[d]=a(n.css("padding"+f))});e.containerOffset=n.offset();e.containerPosition=n.position();e.containerSize={height:n.innerHeight()-l[3],width:n.innerWidth()-l[1]};j=e.containerOffset;var m=e.containerSize.height,o=e.containerSize.width;o=b.ui.hasScroll(k,"left")?k.scrollWidth:o;m=b.ui.hasScroll(k)?k.scrollHeight:m;e.parentData={element:k,left:j.left,top:j.top,width:o,height:m}}}},resize:function(e){var k=b(this).data("resizable"),j=k.options,n=k.containerOffset,l=k.position;e=k._aspectRatio||e.shiftKey;var m={top:0,left:0},o=k.containerElement;if(o[0]!=document&&/static/.test(o.css("position"))){m=n}if(l.left<(k._helper?n.left:0)){k.size.width+=k._helper?k.position.left-n.left:k.position.left-m.left;if(e){k.size.height=k.size.width/j.aspectRatio}k.position.left=j.helper?n.left:0}if(l.top<(k._helper?n.top:0)){k.size.height+=k._helper?k.position.top-n.top:k.position.top;if(e){k.size.width=k.size.height*j.aspectRatio}k.position.top=k._helper?n.top:0}k.offset.left=k.parentData.left+k.position.left;k.offset.top=k.parentData.top+k.position.top;j=Math.abs((k._helper?k.offset.left-m.left:k.offset.left-m.left)+k.sizeDiff.width);n=Math.abs((k._helper?k.offset.top-m.top:k.offset.top-n.top)+k.sizeDiff.height);l=k.containerElement.get(0)==k.element.parent().get(0);m=/relative|absolute/.test(k.containerElement.css("position"));if(l&&m){j-=k.parentData.left}if(j+k.size.width>=k.parentData.width){k.size.width=k.parentData.width-j;if(e){k.size.height=k.size.width/k.aspectRatio}}if(n+k.size.height>=k.parentData.height){k.size.height=k.parentData.height-n;if(e){k.size.width=k.size.height*k.aspectRatio}}},stop:function(){var e=b(this).data("resizable"),k=e.options,j=e.containerOffset,n=e.containerPosition,l=e.containerElement,m=b(e.helper),o=m.offset(),p=m.outerWidth()-e.sizeDiff.width;m=m.outerHeight()-e.sizeDiff.height;e._helper&&!k.animate&&/relative/.test(l.css("position"))&&b(this).css({left:o.left-n.left-j.left,width:p,height:m});e._helper&&!k.animate&&/static/.test(l.css("position"))&&b(this).css({left:o.left-n.left-j.left,width:p,height:m})}});b.ui.plugin.add("resizable","ghost",{start:function(){var d=b(this).data("resizable"),f=d.options,e=d.size;d.ghost=d.originalElement.clone();d.ghost.css({opacity:0.25,display:"block",position:"relative",height:e.height,width:e.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof f.ghost=="string"?f.ghost:"");d.ghost.appendTo(d.helper)},resize:function(){var d=b(this).data("resizable");d.ghost&&d.ghost.css({position:"relative",height:d.size.height,width:d.size.width})},stop:function(){var d=b(this).data("resizable");d.ghost&&d.helper&&d.helper.get(0).removeChild(d.ghost.get(0))}});b.ui.plugin.add("resizable","grid",{resize:function(){var e=b(this).data("resizable"),k=e.options,j=e.size,n=e.originalSize,l=e.originalPosition,m=e.axis;k.grid=typeof k.grid=="number"?[k.grid,k.grid]:k.grid;var o=Math.round((j.width-n.width)/(k.grid[0]||1))*(k.grid[0]||1);k=Math.round((j.height-n.height)/(k.grid[1]||1))*(k.grid[1]||1);if(/^(se|s|e)$/.test(m)){e.size.width=n.width+o;e.size.height=n.height+k}else{if(/^(ne)$/.test(m)){e.size.width=n.width+o;e.size.height=n.height+k;e.position.top=l.top-k}else{if(/^(sw)$/.test(m)){e.size.width=n.width+o;e.size.height=n.height+k}else{e.size.width=n.width+o;e.size.height=n.height+k;e.position.top=l.top-k}e.position.left=l.left-o}}}});var a=function(d){return parseInt(d,10)||0},c=function(d){return !isNaN(parseInt(d,10))}})(jQuery);(function(a){a.widget("ui.selectable",a.ui.mouse,{options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch"},_create:function(){var b=this;this.element.addClass("ui-selectable");this.dragged=false;var d;this.refresh=function(){d=a(b.options.filter,b.element[0]);d.each(function(){var e=a(this),c=e.offset();a.data(this,"selectable-item",{element:this,$element:e,left:c.left,top:c.top,right:c.left+e.outerWidth(),bottom:c.top+e.outerHeight(),startselected:false,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})};this.refresh();this.selectees=d.addClass("ui-selectee");this._mouseInit();this.helper=a("<div class='ui-selectable-helper'></div>")},destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable");this._mouseDestroy();return this},_mouseStart:function(e){var g=this;this.opos=[e.pageX,e.pageY];if(!this.options.disabled){var b=this.options;this.selectees=a(b.filter,this.element[0]);this._trigger("start",e);a(b.appendTo).append(this.helper);this.helper.css({left:e.clientX,top:e.clientY,width:0,height:0});b.autoRefresh&&this.refresh();this.selectees.filter(".ui-selected").each(function(){var c=a.data(this,"selectable-item");c.startselected=true;if(!e.metaKey){c.$element.removeClass("ui-selected");c.selected=false;c.$element.addClass("ui-unselecting");c.unselecting=true;g._trigger("unselecting",e,{unselecting:c.element})}});a(e.target).parents().andSelf().each(function(){var d=a.data(this,"selectable-item");if(d){var c=!e.metaKey||!d.$element.hasClass("ui-selected");d.$element.removeClass(c?"ui-unselecting":"ui-selected").addClass(c?"ui-selecting":"ui-unselecting");d.unselecting=!c;d.selecting=c;(d.selected=c)?g._trigger("selecting",e,{selecting:d.element}):g._trigger("unselecting",e,{unselecting:d.element});return false}})}},_mouseDrag:function(k){var l=this;this.dragged=true;if(!this.options.disabled){var n=this.options,e=this.opos[0],m=this.opos[1],p=k.pageX,q=k.pageY;if(e>p){var o=p;p=e;e=o}if(m>q){o=q;q=m;m=o}this.helper.css({left:e,top:m,width:p-e,height:q-m});this.selectees.each(function(){var c=a.data(this,"selectable-item");if(!(!c||c.element==l.element[0])){var b=false;if(n.tolerance=="touch"){b=!(c.left>p||c.right<e||c.top>q||c.bottom<m)}else{if(n.tolerance=="fit"){b=c.left>e&&c.right<p&&c.top>m&&c.bottom<q}}if(b){if(c.selected){c.$element.removeClass("ui-selected");c.selected=false}if(c.unselecting){c.$element.removeClass("ui-unselecting");c.unselecting=false}if(!c.selecting){c.$element.addClass("ui-selecting");c.selecting=true;l._trigger("selecting",k,{selecting:c.element})}}else{if(c.selecting){if(k.metaKey&&c.startselected){c.$element.removeClass("ui-selecting");c.selecting=false;c.$element.addClass("ui-selected");c.selected=true}else{c.$element.removeClass("ui-selecting");c.selecting=false;if(c.startselected){c.$element.addClass("ui-unselecting");c.unselecting=true}l._trigger("unselecting",k,{unselecting:c.element})}}if(c.selected){if(!k.metaKey&&!c.startselected){c.$element.removeClass("ui-selected");c.selected=false;c.$element.addClass("ui-unselecting");c.unselecting=true;l._trigger("unselecting",k,{unselecting:c.element})}}}}});return false}},_mouseStop:function(b){var d=this;this.dragged=false;a(".ui-unselecting",this.element[0]).each(function(){var c=a.data(this,"selectable-item");c.$element.removeClass("ui-unselecting");c.unselecting=false;c.startselected=false;d._trigger("unselected",b,{unselected:c.element})});a(".ui-selecting",this.element[0]).each(function(){var c=a.data(this,"selectable-item");c.$element.removeClass("ui-selecting").addClass("ui-selected");c.selecting=false;c.selected=true;c.startselected=true;d._trigger("selected",b,{selected:c.element})});this._trigger("stop",b);this.helper.remove();return false}});a.extend(a.ui.selectable,{version:"1.8.13"})})(jQuery);(function(a,b){a.widget("ui.sortable",a.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,handleOpacity:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000},_create:function(){var c=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?c.axis==="x"||(/left|right/).test(this.items[0].item.css("float"))||(/inline|table-cell/).test(this.items[0].item.css("display")):false;this.offset=this.element.offset();this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable");this._mouseDestroy();for(var c=this.items.length-1;c>=0;c--){this.items[c].item.removeData("sortable-item")}return this},_setOption:function(d,c){if(d==="disabled"){this.options[d]=c;this.widget().toggleClass("ui-sortable-disabled",!!c)}else{a.Widget.prototype._setOption.apply(this,arguments)}},_mouseCapture:function(c,h){if(this.reverting){return false}if(this.options.disabled||this.options.type=="static"){return false}this._refreshItems(c);var g=null,d=this,e=a(c.target).parents().each(function(){if(a.data(this,"sortable-item")==d){g=a(this);return false}});if(a.data(c.target,"sortable-item")==d){g=a(c.target)}if(!g){return false}if(this.options.handle&&!h){var f=false;a(this.options.handle,g).find("*").andSelf().each(function(){if(this==c.target){f=true}});if(!f){return false}}this.currentItem=g;this._removeCurrentsFromItems();return true},_mouseStart:function(c,e,h){var g=this.options,d=this;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(c);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");a.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(c);this.originalPageX=c.pageX;this.originalPageY=c.pageY;(g.cursorAt&&this._adjustOffsetFromHelper(g.cursorAt));this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!=this.currentItem[0]){this.currentItem.hide()}this._createPlaceholder();if(g.containment){this._setContainment()}if(g.cursor){if(a("body").css("cursor")){this._storedCursor=a("body").css("cursor")}a("body").css("cursor",g.cursor)}if(g.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",g.opacity)}if(g.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",g.zIndex)}if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",c,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions()}if(!h){for(var f=this.containers.length-1;f>=0;f--){this.containers[f]._trigger("activate",c,d._uiHash(this))}}if(a.ui.ddmanager){a.ui.ddmanager.current=this}if(a.ui.ddmanager&&!g.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,c)}this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(c);return true},_mouseDrag:function(d){this.position=this._generatePosition(d);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){var j=this.options,c=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-d.pageY<j.scrollSensitivity){this.scrollParent[0].scrollTop=c=this.scrollParent[0].scrollTop+j.scrollSpeed}else{if(d.pageY-this.overflowOffset.top<j.scrollSensitivity){this.scrollParent[0].scrollTop=c=this.scrollParent[0].scrollTop-j.scrollSpeed}}if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-d.pageX<j.scrollSensitivity){this.scrollParent[0].scrollLeft=c=this.scrollParent[0].scrollLeft+j.scrollSpeed}else{if(d.pageX-this.overflowOffset.left<j.scrollSensitivity){this.scrollParent[0].scrollLeft=c=this.scrollParent[0].scrollLeft-j.scrollSpeed}}}else{if(d.pageY-a(document).scrollTop()<j.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()-j.scrollSpeed)}else{if(a(window).height()-(d.pageY-a(document).scrollTop())<j.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()+j.scrollSpeed)}}if(d.pageX-a(document).scrollLeft()<j.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()-j.scrollSpeed)}else{if(a(window).width()-(d.pageX-a(document).scrollLeft())<j.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()+j.scrollSpeed)}}}if(c!==false&&a.ui.ddmanager&&!j.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,d)}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}for(var h=this.items.length-1;h>=0;h--){var e=this.items[h],g=e.item[0],f=this._intersectsWithPointer(e);if(!f){continue}if(g!=this.currentItem[0]&&this.placeholder[f==1?"next":"prev"]()[0]!=g&&!a.contains(this.placeholder[0],g)&&(this.options.type=="semi-dynamic"?!a.contains(this.element[0],g):true)){this.direction=f==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(e)){this._rearrange(d,e)}else{break}this._trigger("change",d,this._uiHash());break}}this._contactContainers(d);if(a.ui.ddmanager){a.ui.ddmanager.drag(this,d)}this._trigger("sort",d,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(c,f){if(!c){return}if(a.ui.ddmanager&&!this.options.dropBehaviour){a.ui.ddmanager.drop(this,c)}if(this.options.revert){var d=this;var e=d.placeholder.offset();d.reverting=true;a(this.helper).animate({left:e.left-this.offset.parent.left-d.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:e.top-this.offset.parent.top-d.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){d._clear(c)})}else{this.currentItem.css("opacity",1);this._clear(c,f)}return false},cancel:function(){var c=this;if(this.dragging){this._mouseUp({target:null});if(this.options.helper=="original"){this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}for(var d=this.containers.length-1;d>=0;d--){this.containers[d]._trigger("deactivate",null,c._uiHash(this));if(this.containers[d].containerCache.over){this.containers[d]._trigger("out",null,c._uiHash(this));this.containers[d].containerCache.over=0}}}if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0])}if(this.options.helper!="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove()}a.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){a(this.domPosition.prev).after(this.currentItem)}else{a(this.domPosition.parent).prepend(this.currentItem)}}return this},serialize:function(e){var c=this._getItemsAsjQuery(e&&e.connected);var d=[];e=e||{};a(c).each(function(){var f=(a(e.item||this).attr(e.attribute||"id")||"").match(e.expression||(/(.+)[-=_](.+)/));if(f){d.push((e.key||f[1]+"[]")+"="+(e.key&&e.expression?f[1]:f[2]))}});if(!d.length&&e.key){d.push(e.key+"=")}return d.join("&")},toArray:function(e){var c=this._getItemsAsjQuery(e&&e.connected);var d=[];e=e||{};c.each(function(){d.push(a(e.item||this).attr(e.attribute||"id")||"")});return d},_intersectsWith:function(g){var p=this.positionAbs.left,k=p+this.helperProportions.width,c=this.positionAbs.top,m=c+this.helperProportions.height;var o=g.left,d=o+g.width,h=g.top,e=h+g.height;var n=this.offset.click.top,f=this.offset.click.left;var j=(c+n)>h&&(c+n)<e&&(p+f)>o&&(p+f)<d;if(this.options.tolerance=="pointer"||this.options.forcePointerForContainers||(this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>g[this.floating?"width":"height"])){return j}else{return(o<p+(this.helperProportions.width/2)&&k-(this.helperProportions.width/2)<d&&h<c+(this.helperProportions.height/2)&&m-(this.helperProportions.height/2)<e)}},_intersectsWithPointer:function(c){var g=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,c.top,c.height),e=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,c.left,c.width),h=g&&e,f=this._getDragVerticalDirection(),d=this._getDragHorizontalDirection();if(!h){return false}return this.floating?(((d&&d=="right")||f=="down")?2:1):(f&&(f=="down"?2:1))},_intersectsWithSides:function(c){var e=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,c.top+(c.height/2),c.height),f=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,c.left+(c.width/2),c.width),d=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();if(this.floating&&g){return((g=="right"&&f)||(g=="left"&&!f))}else{return d&&((d=="down"&&e)||(d=="up"&&!e))}},_getDragVerticalDirection:function(){var c=this.positionAbs.top-this.lastPositionAbs.top;return c!=0&&(c>0?"down":"up")},_getDragHorizontalDirection:function(){var c=this.positionAbs.left-this.lastPositionAbs.left;return c!=0&&(c>0?"right":"left")},refresh:function(c){this._refreshItems(c);this.refreshPositions();return this},_connectWith:function(){var c=this.options;return c.connectWith.constructor==String?[c.connectWith]:c.connectWith},_getItemsAsjQuery:function(g){var c=this;var f=[];var d=[];var e=this._connectWith();if(e&&g){for(var k=e.length-1;k>=0;k--){var m=a(e[k]);for(var h=m.length-1;h>=0;h--){var l=a.data(m[h],"sortable");if(l&&l!=this&&!l.options.disabled){d.push([a.isFunction(l.options.items)?l.options.items.call(l.element):a(l.options.items,l.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),l])}}}}d.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var k=d.length-1;k>=0;k--){d[k][0].each(function(){f.push(this)})}return a(f)},_removeCurrentsFromItems:function(){var d=this.currentItem.find(":data(sortable-item)");for(var e=0;e<this.items.length;e++){for(var c=0;c<d.length;c++){if(d[c]==this.items[e].item[0]){this.items.splice(e,1)}}}},_refreshItems:function(d){this.items=[];this.containers=[this];var c=this.items;var n=this;var h=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],d,{item:this.currentItem}):a(this.options.items,this.element),this]];var e=this._connectWith();if(e){for(var m=e.length-1;m>=0;m--){var q=a(e[m]);for(var o=q.length-1;o>=0;o--){var k=a.data(q[o],"sortable");if(k&&k!=this&&!k.options.disabled){h.push([a.isFunction(k.options.items)?k.options.items.call(k.element[0],d,{item:this.currentItem}):a(k.options.items,k.element),k]);this.containers.push(k)}}}}for(var m=h.length-1;m>=0;m--){var p=h[m][1];var f=h[m][0];for(var o=0,g=f.length;o<g;o++){var l=a(f[o]);l.data("sortable-item",p);c.push({item:l,instance:p,width:0,height:0,left:0,top:0})}}},refreshPositions:function(e){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}for(var f=this.items.length-1;f>=0;f--){var c=this.items[f];if(c.instance!=this.currentContainer&&this.currentContainer&&c.item[0]!=this.currentItem[0]){continue}var g=this.options.toleranceElement?a(this.options.toleranceElement,c.item):c.item;if(!e){c.width=g.outerWidth();c.height=g.outerHeight()}var d=g.offset();c.left=d.left;c.top=d.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(var f=this.containers.length-1;f>=0;f--){var d=this.containers[f].element.offset();this.containers[f].containerCache.left=d.left;this.containers[f].containerCache.top=d.top;this.containers[f].containerCache.width=this.containers[f].element.outerWidth();this.containers[f].containerCache.height=this.containers[f].element.outerHeight()}}return this},_createPlaceholder:function(c){var d=c||this,e=d.options;if(!e.placeholder||e.placeholder.constructor==String){var f=e.placeholder;e.placeholder={element:function(){var g=a(document.createElement(d.currentItem[0].nodeName)).addClass(f||d.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!f){g.style.visibility="hidden"}if(e.handleOpacity){a(g).css("opacity",e.handleOpacity)}if(e.opacity){d.currentItem.css("opacity",e.opacity)}return g},update:function(h,g){if(f&&!e.forcePlaceholderSize){return}if(!g.height()){g.height(d.currentItem.innerHeight()-parseInt(d.currentItem.css("paddingTop")||0,10)-parseInt(d.currentItem.css("paddingBottom")||0,10))}if(!g.width()){g.width(d.currentItem.innerWidth()-parseInt(d.currentItem.css("paddingLeft")||0,10)-parseInt(d.currentItem.css("paddingRight")||0,10))}}}}d.placeholder=a(e.placeholder.element.call(d.element,d.currentItem));d.currentItem.after(d.placeholder);e.placeholder.update(d,d.placeholder)},_contactContainers:function(c){var e=null,g=null;for(var l=this.containers.length-1;l>=0;l--){if(a.contains(this.currentItem[0],this.containers[l].element[0])){continue}if(this._intersectsWith(this.containers[l].containerCache)){if(e&&a.contains(this.containers[l].element[0],e.element[0])){continue}e=this.containers[l];g=l}else{if(this.containers[l].containerCache.over){this.containers[l]._trigger("out",c,this._uiHash(this));this.containers[l].containerCache.over=0}}}if(!e){return}if(this.containers.length===1){this.containers[g]._trigger("over",c,this._uiHash(this));this.containers[g].containerCache.over=1}else{if(this.currentContainer!=this.containers[g]){var d=10000;var f=null;var h=this.positionAbs[this.containers[g].floating?"left":"top"];for(var k=this.items.length-1;k>=0;k--){if(!a.contains(this.containers[g].element[0],this.items[k].item[0])){continue}var m=this.items[k][this.containers[g].floating?"left":"top"];if(Math.abs(m-h)<d){d=Math.abs(m-h);f=this.items[k]}}if(!f&&!this.options.dropOnEmpty){return}this.currentContainer=this.containers[g];f?this._rearrange(c,f,null,true):this._rearrange(c,null,this.containers[g].element,true);this._trigger("change",c,this._uiHash());this.containers[g]._trigger("change",c,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[g]._trigger("over",c,this._uiHash(this));this.containers[g].containerCache.over=1}}},_createHelper:function(d){var e=this.options;var c=a.isFunction(e.helper)?a(e.helper.apply(this.element[0],[d,this.currentItem])):(e.helper=="clone"?this.currentItem.clone():this.currentItem);if(!c.parents("body").length){a(e.appendTo!="parent"?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(c[0])}if(c[0]==this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(c[0].style.width==""||e.forceHelperSize){c.width(this.currentItem.width())}if(c[0].style.height==""||e.forceHelperSize){c.height(this.currentItem.height())}return c},_adjustOffsetFromHelper:function(c){if(typeof c=="string"){c=c.split(" ")}if(a.isArray(c)){c={left:+c[0],top:+c[1]||0}}if("left" in c){this.offset.click.left=c.left+this.margins.left}if("right" in c){this.offset.click.left=this.helperProportions.width-c.right+this.margins.left}if("top" in c){this.offset.click.top=c.top+this.margins.top}if("bottom" in c){this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])){c.left+=this.scrollParent.scrollLeft();c.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)){c={top:0,left:0}}return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var c=this.currentItem.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.currentItem.css("marginLeft"),10)||0),top:(parseInt(this.currentItem.css("marginTop"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var f=this.options;if(f.containment=="parent"){f.containment=this.helper[0].parentNode}if(f.containment=="document"||f.containment=="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(f.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(f.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(f.containment)){var e=a(f.containment)[0];var c=a(f.containment).offset();var d=(a(e).css("overflow")!="hidden");this.containment=[c.left+(parseInt(a(e).css("borderLeftWidth"),10)||0)+(parseInt(a(e).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(a(e).css("borderTopWidth"),10)||0)+(parseInt(a(e).css("paddingTop"),10)||0)-this.margins.top,c.left+(d?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(a(e).css("borderLeftWidth"),10)||0)-(parseInt(a(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(d?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(a(e).css("borderTopWidth"),10)||0)-(parseInt(a(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(f,j){if(!j){j=this.position}var e=f=="absolute"?1:-1;var h=this.options,c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=(/(html|body)/i).test(c[0].tagName);return{top:(j.top+this.offset.relative.top*e+this.offset.parent.top*e-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(g?0:c.scrollTop()))*e)),left:(j.left+this.offset.relative.left*e+this.offset.parent.left*e-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:c.scrollLeft())*e))}},_generatePosition:function(c){var k=this.options,d=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,h=(/(html|body)/i).test(d[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}var f=c.pageX;var e=c.pageY;if(this.originalPosition){if(this.containment){if(c.pageX-this.offset.click.left<this.containment[0]){f=this.containment[0]+this.offset.click.left}if(c.pageY-this.offset.click.top<this.containment[1]){e=this.containment[1]+this.offset.click.top}if(c.pageX-this.offset.click.left>this.containment[2]){f=this.containment[2]+this.offset.click.left}if(c.pageY-this.offset.click.top>this.containment[3]){e=this.containment[3]+this.offset.click.top}}if(k.grid){var j=this.originalPageY+Math.round((e-this.originalPageY)/k.grid[1])*k.grid[1];e=this.containment?(!(j-this.offset.click.top<this.containment[1]||j-this.offset.click.top>this.containment[3])?j:(!(j-this.offset.click.top<this.containment[1])?j-k.grid[1]:j+k.grid[1])):j;var g=this.originalPageX+Math.round((f-this.originalPageX)/k.grid[0])*k.grid[0];f=this.containment?(!(g-this.offset.click.left<this.containment[0]||g-this.offset.click.left>this.containment[2])?g:(!(g-this.offset.click.left<this.containment[0])?g-k.grid[0]:g+k.grid[0])):g}}return{top:(e-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(h?0:d.scrollTop())))),left:(f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():h?0:d.scrollLeft())))}},_rearrange:function(d,g,e,h){e?e[0].appendChild(this.placeholder[0]):g.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction=="down"?g.item[0]:g.item[0].nextSibling));this.counter=this.counter?++this.counter:1;var f=this,c=this.counter;window.setTimeout(function(){if(c==f.counter){f.refreshPositions(!h)}},0)},_clear:function(d,f){this.reverting=false;var c=[],e=this;if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var g in this._storedCSS){if(this._storedCSS[g]=="auto"||this._storedCSS[g]=="static"){this._storedCSS[g]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}if(this.fromOutside&&!f){c.push(function(h){this._trigger("receive",h,this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!f){c.push(function(h){this._trigger("update",h,this._uiHash())})}if(!a.contains(this.element[0],this.currentItem[0])){if(!f){c.push(function(h){this._trigger("remove",h,this._uiHash())})}for(var g=this.containers.length-1;g>=0;g--){if(a.contains(this.containers[g].element[0],this.currentItem[0])&&!f){c.push((function(h){return function(j){h._trigger("receive",j,this._uiHash(this))}}).call(this,this.containers[g]));c.push((function(h){return function(j){h._trigger("update",j,this._uiHash(this))}}).call(this,this.containers[g]))}}}for(var g=this.containers.length-1;g>=0;g--){if(!f){c.push((function(h){return function(j){h._trigger("deactivate",j,this._uiHash(this))}}).call(this,this.containers[g]))}if(this.containers[g].containerCache.over){c.push((function(h){return function(j){h._trigger("out",j,this._uiHash(this))}}).call(this,this.containers[g]));this.containers[g].containerCache.over=0}}if(this._storedCursor){a("body").css("cursor",this._storedCursor)}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity)}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex)}this.dragging=false;if(this.cancelHelperRemoval){if(!f){this._trigger("beforeStop",d,this._uiHash());for(var g=0;g<c.length;g++){c[g].call(this,d)}this._trigger("stop",d,this._uiHash())}return false}if(!f){this._trigger("beforeStop",d,this._uiHash())}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(this.helper[0]!=this.currentItem[0]){this.helper.remove()}this.helper=null;if(!f){for(var g=0;g<c.length;g++){c[g].call(this,d)}this._trigger("stop",d,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){if(a.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel()}},_uiHash:function(d){var c=d||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:d?d.element:null}}});a.extend(a.ui.sortable,{version:"@VERSION"})})(jQuery);(function(a){a.fn.splitter=function(b){b=b||{};return this.each(function(){var v;var l;var s;var e;var o=false;var p=(b.splitHorizontal?"h":"v");var r=a.extend({minAsize:0,maxAsize:0,minBsize:0,maxBsize:0,ghostClass:"working",invertClass:"invert",animSpeed:250},{v:{moving:"left",sizing:"width",eventPos:"pageX",splitbarClass:"splitbarV",buttonClass:"splitbuttonV",cursor:"e-resize"},h:{moving:"top",sizing:"height",eventPos:"pageY",splitbarClass:"splitbarH",buttonClass:"splitbuttonH",cursor:"n-resize"}}[p],b);var k=a(this);var f=k.children();var g=b.A;var d=b.B;var n=b.slave;var u=a("<div><span></span></div>");g.after(u);u.attr({"class":r.splitbarClass,unselectable:"on"}).css({cursor:r.cursor,"user-select":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none"}).bind("mousedown",t);if(r.closeableto!=undefined){var h=a("<div></div>").css("cursor","pointer");u.append(h);h.attr({"class":r.buttonClass,unselectable:"on"});h.hover(function(){a(this).addClass(r.ghostClass)},function(){a(this).removeClass(r.ghostClass)});h.mousedown(function(w){if(w.target!=this){return}h.toggleClass(r.invertClass).hide();j((l==r.closeableto)?s:r.closeableto,true);return false})}var c=(((u.position()[r.moving]-k.offset()[r.moving])/k[r.sizing]())*100).toFixed(1);j(c,false,true);k.bind("resize",function(w,y){if(w.target!=this){return}j(l,false,true)});a(window).bind("resize",function(){j(l,false,true)});function t(w){if(w.target!=this){return}v=v||u.clone(false).insertAfter(g);k._initPos=u.position();k._initPos[r.moving]-=u[r.sizing]();v.addClass(r.ghostClass).css("position","absolute").css("z-index","250").css("-webkit-user-select","none").width(u.width()).height(u.height()).css(r.moving,k._initPos[r.moving]);f.css("-webkit-user-select","none");g._posSplit=w[r.eventPos];a(document).bind("mousemove",q).bind("mouseup",m)}function q(w){if(!v||!g){return}var y=w[r.eventPos]-g._posSplit;v.css(r.moving,k._initPos[r.moving]+y)}function m(w){var y=v.position();v.remove();v=null;f.css("-webkit-user-select","text");a(document).unbind("mousemove",q).unbind("mouseup",m);var z=(((y[r.moving]-k.offset()[r.moving])/k[r.sizing]())*100).toFixed(1);j(z,(k._initPos[r.moving]>y[r.moving]),false);k._initPos=0}function j(D,G,y){if(o||D==undefined){return}o=true;if(l&&l>10&&l<90){s=l}l=D;var F=u[r.sizing]()+(2*parseInt(u.css("border-"+r.moving+"-width")));var z=k[r.sizing]();if(r.closeableto!=D){var w=Math.max(parseInt((z/100)*D),r.minAsize);if(r.maxAsize){w=Math.min(w,r.maxAsize)}}else{var w=parseInt((z/100)*D,0)}if(r.maxBsize){if((z-w)>r.maxBsize){w=z-r.maxBsize}}if(r.minBsize){if((z-w)<r.minBsize){w=z-r.minBsize}}var B=Math.max(0,(w-F));var A=Math.max(0,(z-w));z=(z-F);if(y){g.show().css(r.sizing,B+"px");d.show().css(r.sizing,A+"px");h.show();if(!a.browser.msie){f.trigger("resize");if(n){n.trigger("resize")}}o=false;return true}if(G){var C={};C[r.sizing]=B+"px";g.show().animate(C,r.animSpeed,function(){h.fadeIn("fast");if(a(this)[r.sizing]()<2){this.style.display="none";d.stop(true,true);d[r.sizing](z+"px")}});var E={};E[r.sizing]=A+"px";d.show().animate(E,r.animSpeed,function(){h.fadeIn("fast");if(a(this)[r.sizing]()<2){this.style.display="none";g.stop(true,true);g[r.sizing](z+"px")}})}else{var C={};C[r.sizing]=A+"px";d.show().animate(C,r.animSpeed,function(){h.fadeIn("fast");if(a(this)[r.sizing]()<2){this.style.display="none";g.stop(true,true);g[r.sizing](z+"px")}});var C={};C[r.sizing]=B+"px";g.show().animate(C,r.animSpeed,function(){h.fadeIn("fast");if(a(this)[r.sizing]()<2){this.style.display="none";d.stop(true,true);d[r.sizing](z+"px")}})}k.queue(function(){setTimeout(function(){k.dequeue();o=false;f.trigger("resize");if(n){n.trigger("resize")}},r.animSpeed+5)})}})}})(jQuery);(function(b,f){var a={buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},d={maxHeight:true,maxWidth:true,minHeight:true,minWidth:true},e=b.attrFn||{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true,click:true};b.widget("ui.dialog",{options:{autoOpen:true,buttons:{},closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:false,maxWidth:false,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",collision:"fit",using:function(g){var c=b(this).css(g).offset().top;c<0&&b(this).css("top",g.top-c)}},resizable:true,show:null,stack:true,title:"",width:300,zIndex:1000},_create:function(){this.originalTitle=this.element.attr("title");if(typeof this.originalTitle!=="string"){this.originalTitle=""}this.options.title=this.options.title||this.originalTitle;var j=this,c=j.options,m=c.title||"&#160;",n=b.ui.dialog.getTitleId(j.element),l=(j.uiDialog=b("<div></div>")).appendTo(document.body).hide().addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+c.dialogClass).css({zIndex:c.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(g){if(c.closeOnEscape&&g.keyCode&&g.keyCode===b.ui.keyCode.ESCAPE){j.close(g);g.preventDefault()}}).attr({role:"dialog","aria-labelledby":n}).mousedown(function(g){j.moveToTop(false,g)});j.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(l);var k=(j.uiDialogTitlebar=b("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(l),o=b('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){o.addClass("ui-state-hover")},function(){o.removeClass("ui-state-hover")}).focus(function(){o.addClass("ui-state-focus")}).blur(function(){o.removeClass("ui-state-focus")}).click(function(g){j.close(g);return false}).appendTo(k);(j.uiDialogTitlebarCloseText=b("<span></span>")).addClass("ui-icon ui-icon-closethick").text(c.closeText).appendTo(o);b("<span></span>").addClass("ui-dialog-title").attr("id",n).html(m).prependTo(k);if(b.isFunction(c.beforeclose)&&!b.isFunction(c.beforeClose)){c.beforeClose=c.beforeclose}k.find("*").add(k).disableSelection();c.draggable&&b.fn.draggable&&j._makeDraggable();c.resizable&&b.fn.resizable&&j._makeResizable();j._createButtons(c.buttons);j._isOpen=false;b.fn.bgiframe&&l.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var c=this;c.overlay&&c.overlay.destroy();c.uiDialog.hide();c.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body");c.uiDialog.remove();c.originalTitle&&c.element.attr("title",c.originalTitle);return c},widget:function(){return this.uiDialog},close:function(h){var g=this,c,j;if(false!==g._trigger("beforeClose",h)){g.overlay&&g.overlay.destroy();g.uiDialog.unbind("keypress.ui-dialog");g._isOpen=false;if(g.options.hide){g.uiDialog.hide(g.options.hide,function(){g._trigger("close",h)})}else{g.uiDialog.hide();g._trigger("close",h)}b.ui.dialog.overlay.resize();if(g.options.modal){c=0;b(".ui-dialog").each(function(){if(this!==g.uiDialog[0]){j=b(this).css("z-index");isNaN(j)||(c=Math.max(c,j))}});b.ui.dialog.maxZ=c}return g}},isOpen:function(){return this._isOpen},moveToTop:function(h,g){var c=this,j=c.options;if(j.modal&&!h||!j.stack&&!j.modal){return c._trigger("focus",g)}if(j.zIndex>b.ui.dialog.maxZ){b.ui.dialog.maxZ=j.zIndex}if(c.overlay){b.ui.dialog.maxZ+=1;c.overlay.$el.css("z-index",b.ui.dialog.overlay.maxZ=b.ui.dialog.maxZ)}h={scrollTop:c.element.attr("scrollTop"),scrollLeft:c.element.attr("scrollLeft")};b.ui.dialog.maxZ+=1;c.uiDialog.css("z-index",b.ui.dialog.maxZ);c.element.attr(h);c._trigger("focus",g);return c},open:function(){if(!this._isOpen){var h=this,g=h.options,c=h.uiDialog;h.overlay=g.modal?new b.ui.dialog.overlay(h):null;h._size();h._position(g.position);c.show(g.show);h.moveToTop(true);g.modal&&c.bind("keypress.ui-dialog",function(j){if(j.keyCode===b.ui.keyCode.TAB){var l=b(":tabbable",this),k=l.filter(":first");l=l.filter(":last");if(j.target===l[0]&&!j.shiftKey){k.focus(1);return false}else{if(j.target===k[0]&&j.shiftKey){l.focus(1);return false}}}});b(h.element.find(":tabbable").get().concat(c.find(".ui-dialog-buttonpane :tabbable").get().concat(c.get()))).eq(0).focus();h._isOpen=true;h._trigger("open");return h}},_createButtons:function(j){var h=this,c=false,l=b("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),k=b("<div></div>").addClass("ui-dialog-buttonset").appendTo(l);h.uiDialog.find(".ui-dialog-buttonpane").remove();typeof j==="object"&&j!==null&&b.each(j,function(){return !(c=true)});if(c){b.each(j,function(n,g){g=b.isFunction(g)?{click:g,text:n}:g;var m=b('<button type="button"></button>').click(function(){g.click.apply(h.element[0],arguments)}).appendTo(k);b.each(g,function(o,p){if(o!=="click"){o in e?m[o](p):m.attr(o,p)}});b.fn.button&&m.button()});l.appendTo(h.uiDialog)}},_makeDraggable:function(){function j(g){return{position:g.position,offset:g.offset}}var h=this,c=h.options,l=b(document),k;h.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(g,m){k=c.height==="auto"?"auto":b(this).height();b(this).height(b(this).height()).addClass("ui-dialog-dragging");h._trigger("dragStart",g,j(m))},drag:function(g,m){h._trigger("drag",g,j(m))},stop:function(g,m){c.position=[m.position.left-l.scrollLeft(),m.position.top-l.scrollTop()];b(this).removeClass("ui-dialog-dragging").height(k);h._trigger("dragStop",g,j(m));b.ui.dialog.overlay.resize()}})},_makeResizable:function(j){function h(g){return{originalPosition:g.originalPosition,originalSize:g.originalSize,position:g.position,size:g.size}}j=j===f?this.options.resizable:j;var c=this,l=c.options,k=c.uiDialog.css("position");j=typeof j==="string"?j:"n,e,s,w,se,sw,ne,nw";c.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:c.element,maxWidth:l.maxWidth,maxHeight:l.maxHeight,minWidth:l.minWidth,minHeight:c._minHeight(),handles:j,start:function(g,m){b(this).addClass("ui-dialog-resizing");c._trigger("resizeStart",g,h(m))},resize:function(g,m){c._trigger("resize",g,h(m))},stop:function(g,m){b(this).removeClass("ui-dialog-resizing");l.height=b(this).height();l.width=b(this).width();c._trigger("resizeStop",g,h(m));b.ui.dialog.overlay.resize()}}).css("position",k).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var c=this.options;return c.height==="auto"?c.minHeight:Math.min(c.minHeight,c.height)},_position:function(h){var g=[],c=[0,0],j;if(h){if(typeof h==="string"||typeof h==="object"&&"0" in h){g=h.split?h.split(" "):[h[0],h[1]];if(g.length===1){g[1]=g[0]}b.each(["left","top"],function(l,k){if(+g[l]===g[l]){c[l]=g[l];g[l]=k}});h={my:g.join(" "),at:g.join(" "),offset:c.join(" ")}}h=b.extend({},b.ui.dialog.prototype.options.position,h)}else{h=b.ui.dialog.prototype.options.position}(j=this.uiDialog.is(":visible"))||this.uiDialog.show();this.uiDialog.css({top:0,left:0}).position(b.extend({of:window},h));j||this.uiDialog.hide()},_setOptions:function(h){var g=this,c={},j=false;b.each(h,function(l,k){g._setOption(l,k);if(l in a){j=true}if(l in d){c[l]=k}});j&&this._size();this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",c)},_setOption:function(j,h){var c=this,l=c.uiDialog;switch(j){case"beforeclose":j="beforeClose";break;case"buttons":c._createButtons(h);break;case"closeText":c.uiDialogTitlebarCloseText.text(""+h);break;case"dialogClass":l.removeClass(c.options.dialogClass).addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+h);break;case"disabled":h?l.addClass("ui-dialog-disabled"):l.removeClass("ui-dialog-disabled");break;case"draggable":var k=l.is(":data(draggable)");k&&!h&&l.draggable("destroy");!k&&h&&c._makeDraggable();break;case"position":c._position(h);break;case"resizable":(k=l.is(":data(resizable)"))&&!h&&l.resizable("destroy");k&&typeof h==="string"&&l.resizable("option","handles",h);!k&&h!==false&&c._makeResizable(h);break;case"title":b(".ui-dialog-title",c.uiDialogTitlebar).html(""+(h||"&#160;"));break}b.Widget.prototype._setOption.apply(c,arguments)},_size:function(){var h=this.options,g,c,j=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0});if(h.minWidth>h.width){h.width=h.minWidth}g=this.uiDialog.css({height:"auto",width:h.width}).height();c=Math.max(0,h.minHeight-g);if(h.height==="auto"){if(b.support.minHeight){this.element.css({minHeight:c,height:"auto"})}else{this.uiDialog.show();h=this.element.css("height","auto").height();j||this.uiDialog.hide();this.element.height(Math.max(h,c))}}else{this.element.height(Math.max(h.height-g,0))}this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}});b.extend(b.ui.dialog,{version:"1.8.13",uuid:0,maxZ:0,getTitleId:function(c){c=c.attr("id");if(!c){this.uuid+=1;c=this.uuid}return"ui-dialog-title-"+c},overlay:function(c){this.$el=b.ui.dialog.overlay.create(c)}});b.extend(b.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:b.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(c){return c+".dialog-overlay"}).join(" "),create:function(g){if(this.instances.length===0){setTimeout(function(){b.ui.dialog.overlay.instances.length&&b(document).bind(b.ui.dialog.overlay.events,function(h){if(b(h.target).zIndex()<b.ui.dialog.overlay.maxZ){return false}})},1);b(document).bind("keydown.dialog-overlay",function(h){if(g.options.closeOnEscape&&h.keyCode&&h.keyCode===b.ui.keyCode.ESCAPE){g.close(h);h.preventDefault()}});b(window).bind("resize.dialog-overlay",b.ui.dialog.overlay.resize)}var c=(this.oldInstances.pop()||b("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});b.fn.bgiframe&&c.bgiframe();this.instances.push(c);return c},destroy:function(h){var g=b.inArray(h,this.instances);g!=-1&&this.oldInstances.push(this.instances.splice(g,1)[0]);this.instances.length===0&&b([document,window]).unbind(".dialog-overlay");h.remove();var c=0;b.each(this.instances,function(){c=Math.max(c,this.css("z-index"))});this.maxZ=c},height:function(){var g,c;if(b.browser.msie&&b.browser.version<7){g=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);c=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);return g<c?b(window).height()+"px":g+"px"}else{return b(document).height()+"px"}},width:function(){var g,c;if(b.browser.msie&&b.browser.version<7){g=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);c=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);return g<c?b(window).width()+"px":g+"px"}else{return b(document).width()+"px"}},resize:function(){var c=b([]);b.each(b.ui.dialog.overlay.instances,function(){c=c.add(this)});c.css({width:0,height:0}).css({width:b.ui.dialog.overlay.width(),height:b.ui.dialog.overlay.height()})}});b.extend(b.ui.dialog.overlay.prototype,{destroy:function(){b.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);if(jQuery){(function(){$.extend($.fn,{contextMenu:function(b,a){if(b.menu==undefined){return false}if(b.inSpeed==undefined){b.inSpeed=150}if(b.outSpeed==undefined){b.outSpeed=75}if(b.inSpeed==0){b.inSpeed=-1}if(b.outSpeed==0){b.outSpeed=-1}$(this).each(function(){var d=$(this);var c=$(d).offset();$("#"+b.menu).addClass("contextMenu");$(this).mousedown(function(f){var g=f;g.stopPropagation();$(this).mouseup(function(k){k.stopPropagation();var h=$(this);$(this).unbind("mouseup");if(g.button==2){$(".contextMenu").hide();var l=$("#"+b.menu);if($(d).hasClass("disabled")){return false}var j={},m,n;if(self.innerHeight){j.pageYOffset=self.pageYOffset;j.pageXOffset=self.pageXOffset;j.innerHeight=self.innerHeight;j.innerWidth=self.innerWidth}else{if(document.documentElement&&document.documentElement.clientHeight){j.pageYOffset=document.documentElement.scrollTop;j.pageXOffset=document.documentElement.scrollLeft;j.innerHeight=document.documentElement.clientHeight;j.innerWidth=document.documentElement.clientWidth}else{if(document.body){j.pageYOffset=document.body.scrollTop;j.pageXOffset=document.body.scrollLeft;j.innerHeight=document.body.clientHeight;j.innerWidth=document.body.clientWidth}}}(k.pageX)?m=k.pageX:m=k.clientX+j.scrollLeft;(k.pageY)?n=k.pageY:n=k.clientY+j.scrollTop;$(document).unbind("click");$(l).css({top:n,left:m}).fadeIn(b.inSpeed);$(l).find("A").mouseover(function(){$(l).find("LI.hover").removeClass("hover");$(this).parent().addClass("hover")}).mouseout(function(){$(l).find("LI.hover").removeClass("hover")});$(document).keypress(function(o){switch(o.keyCode){case 38:if($(l).find("LI.hover").size()==0){$(l).find("LI:last").addClass("hover")}else{$(l).find("LI.hover").removeClass("hover").prevAll("LI:not(.disabled)").eq(0).addClass("hover");if($(l).find("LI.hover").size()==0){$(l).find("LI:last").addClass("hover")}}break;case 40:if($(l).find("LI.hover").size()==0){$(l).find("LI:first").addClass("hover")}else{$(l).find("LI.hover").removeClass("hover").nextAll("LI:not(.disabled)").eq(0).addClass("hover");if($(l).find("LI.hover").size()==0){$(l).find("LI:first").addClass("hover")}}break;case 13:$(l).find("LI.hover A").trigger("click");break;case 27:$(document).trigger("click");break}});$("#"+b.menu).find("A").unbind("click");$("#"+b.menu).find("LI:not(.disabled) A").click(function(){$(document).unbind("click").unbind("keypress");$(".contextMenu").hide();if(a){a($(this).attr("href").substr(1),$(h),{x:m-c.left,y:n-c.top,docX:m,docY:n})}return false});setTimeout(function(){$(document).click(function(){$(document).unbind("click").unbind("keypress");$(l).fadeOut(b.outSpeed);return false})},0)}})});if($.browser.mozilla){$("#"+b.menu).each(function(){$(this).css({MozUserSelect:"none"})})}else{if($.browser.msie){$("#"+b.menu).each(function(){$(this).bind("selectstart.disableTextSelect",function(){return false})})}else{$("#"+b.menu).each(function(){$(this).bind("mousedown.disableTextSelect",function(){return false})})}}$(d).add($("UL.contextMenu")).bind("contextmenu",function(){return false})});return $(this)},disableContextMenuItems:function(a){if(a==undefined){$(this).find("LI").addClass("disabled");return($(this))}$(this).each(function(){if(a!=undefined){var c=a.split(",");for(var b=0;b<c.length;b++){$(this).find('A[href="'+c[b]+'"]').parent().addClass("disabled")}}});return($(this))},enableContextMenuItems:function(a){if(a==undefined){$(this).find("LI.disabled").removeClass("disabled");return($(this))}$(this).each(function(){if(a!=undefined){var c=a.split(",");for(var b=0;b<c.length;b++){$(this).find('A[href="'+c[b]+'"]').parent().removeClass("disabled")}}});return($(this))},disableContextMenu:function(){$(this).each(function(){$(this).addClass("disabled")});return($(this))},enableContextMenu:function(){$(this).each(function(){$(this).removeClass("disabled")});return($(this))},destroyContextMenu:function(){$(this).each(function(){$(this).unbind("mousedown").unbind("mouseup")});return($(this))}})})(jQuery)}var jqWindowsEngineZIndex=100;jQuery.extend({newWindow:function(f){var e=0;var h=0;var b={id:"",title:"",width:300,height:200,posx:50,posy:50,content:"",onDragBegin:null,onDragEnd:null,onResizeBegin:null,onResizeEnd:null,onAjaxContentLoaded:null,onWindowClose:null,statusBar:true,minimizeButton:true,maximizeButton:true,closeButton:true,draggable:true,resizeable:true,type:"normal",modal:false};var f=$.extend(b,f);var c="";if(f.id!=""){c='id="'+f.id+'"'}$modalBackground=$('<div class="modal-background"></div>');$modalBackground.css("z-index","10000");$windowContainer=$("<div "+c+' class="window-container"></div>');$titleBar=$('<div class="window-titleBar"></div>');$titleBar.append('<div class="window-titleBar-leftCorner"></div>');$titleBarContent=$('<div class="window-titleBar-content">'+f.title+"</div>");$titleBar.append($titleBarContent);$titleBar.append('<div class="window-titleBar-rightCorner"></div>');$windowMinimizeButton=$('<div class="window-minimizeButton"></div>');$windowMaximizeButton=$('<div class="window-maximizeButton"></div>');$windowCloseButton=$('<div class="window-closeButton"></div>');$windowContent=$('<div class="window-content"></div>');$windowStatusBar=$('<div class="window-statusBar"></div>');$windowResizeIcon=$('<div class="window-resizeIcon"></div>');if(f.minimizeButton){$titleBar.append($windowMinimizeButton)}if(f.maximizeButton){$titleBar.append($windowMaximizeButton)}if(f.closeButton){$titleBar.append($windowCloseButton)}if(f.resizeable){$windowStatusBar.append($windowResizeIcon)}$windowContainer.append($titleBar);$windowContent.append(f.content);$windowContainer.append($windowContent);if(f.statusBar){$windowContainer.append($windowStatusBar)}if(f.type==="iframe"){$windowContent.css("overflow","hidden")}var j=function(){document.onselectstart=function(){return false}};var g=function(){document.onselectstart=null};var m=function(n){if(f.modal){n.css("z-index",10001)}else{n.css("z-index",jqWindowsEngineZIndex++)}};var l=function(p,q,n){q=parseInt(q);n=parseInt(n);p.data("lastWidth",q).data("lastHeight",n);p.css("width",q+"px").css("height",n+"px");if(f.type==="iframe"){var r=3,o=2;if($.browser.msie&&$.browser.version<9){r=o=0}p.find("iframe").css("width",(q-r)+"px").css("height",(n-o)+"px");p.find("iframe").each(function(){$("#jquery-window-engine-iframe-cover").css({top:$(this).offset().top,left:$(this).offset().left,width:this.offsetWidth,height:this.offsetHeight,position:"absolute",opacity:"0.0001",zIndex:10000,background:"#444"})})}};var k=function(p,n,o){n=parseInt(n);o=parseInt(o);p.data("lastX",n).data("lastY",o);n=n+"px";o=o+"px";p.css("left",n).css("top",o);if(f.type==="iframe"){p.find("iframe").each(function(){$("#jquery-window-engine-iframe-cover").css({top:$(this).offset().top,left:$(this).offset().left,width:this.offsetWidth,height:this.offsetHeight,position:"absolute",opacity:"0.0001",zIndex:10000,background:"#444"})})}};var d=function(o,p){if(f.draggable){o=o?o:window.event;var n=parseInt(p.css("left"))+(o.clientX-e);var q=parseInt(p.css("top"))+(o.clientY-h);e=o.clientX;h=o.clientY;k(p,n,q)}};var a=function(q,p){q=q?q:window.event;var o=parseInt(p.css("width"));var r=parseInt(p.css("height"));o=o<100?100:o;r=r<50?50:r;var s=o+(q.clientX-e);var n=r+(q.clientY-h);e=q.clientX;h=q.clientY;l(p,s,n)};$titleBarContent.bind("mousedown",function(n){$obj=$(n.target).parent().parent();m($obj);j();if($obj.data("state")!="maximized"){if(f.type==="iframe"){var o=$('<div id="jquery-window-engine-iframe-cover" ></div>');$obj.find("iframe").each(function(){o.css({top:$(this).offset().top,left:$(this).offset().left,width:this.offsetWidth,height:this.offsetHeight,position:"absolute",opacity:"0.0001",zIndex:10000,background:"#444"});$("body").append(o)})}n=n?n:window.event;e=n.clientX;h=n.clientY;$(document).bind("mousemove",function(p){d(p,$obj)});$(document).bind("mouseup",function(p){if(f.type==="iframe"){$("#jquery-window-engine-iframe-cover").remove()}if(f.onDragEnd!=null){f.onDragEnd()}$(document).unbind("mousemove");$(document).unbind("mouseup");g()});if(f.onDragBegin!=null){f.onDragBegin()}}else{if(f.type==="iframe"){$("#jquery-window-engine-iframe-cover").remove()}}return false});$titleBarContent.dblclick(function(n){$obj=$(n.target).parent().parent();$obj.find(".window-maximizeButton").click()});$windowResizeIcon.bind("mousedown",function(n){$obj=$(n.target).parent().parent();m($obj);j();if($obj.data("state")==="normal"){if(f.type==="iframe"){var o=$('<div id="jquery-window-engine-iframe-cover" ></div>');$obj.find("iframe").each(function(){o.css({top:$(this).offset().top,left:$(this).offset().left,width:this.offsetWidth,height:this.offsetHeight,position:"absolute",opacity:"0.0001",zIndex:10000,background:"#444"});$("body").append(o)})}n=n?n:window.event;e=n.clientX;h=n.clientY;$(document).bind("mousemove",function(p){a(p,$obj)});$(document).bind("mouseup",function(p){if(f.type==="iframe"){$("#jquery-window-engine-iframe-cover").remove()}if(f.onResizeEnd!=null){f.onResizeEnd()}$(document).unbind("mousemove");$(document).unbind("mouseup");g()});if(f.onResizeBegin!=null){f.onResizeBegin()}}return false});$windowMinimizeButton.bind("click",function(n){$obj=$(n.target).parent().parent();m($obj);if($obj.data("state")==="minimized"){$obj.data("state","normal");$obj.css("height",$obj.data("lastHeight"));$obj.find(".window-content").slideToggle("slow")}else{if($obj.data("state")==="normal"){$obj.data("state","minimized");$obj.find(".window-content").slideToggle("slow",function(){$obj.css("height",0)})}else{$obj.find(".window-maximizeButton").click()}}});$windowMaximizeButton.bind("click",function(o){$obj=$(o.target).parent().parent();m($obj);var p=3,n=2;if($.browser.msie&&$.browser.version<9){p=n=0}if($obj.data("state")==="minimized"){$obj.find(".window-minimizeButton").click()}else{if($obj.data("state")==="normal"){$obj.animate({top:"5px",left:"5px",width:$(window).width()-15,height:$(window).height()-45},"slow");if(f.type==="iframe"){$obj.find("iframe").animate({top:"5px",left:"5px",width:$(window).width()-15-p,height:$(window).height()-45-n},"slow")}$obj.data("state","maximized")}else{if($obj.data("state")==="maximized"){$obj.animate({top:$obj.data("lastY"),left:$obj.data("lastX"),width:$obj.data("lastWidth"),height:$obj.data("lastHeight")},"slow");if(f.type==="iframe"){$obj.find("iframe").animate({top:$obj.data("lastY"),left:$obj.data("lastX"),width:parseInt($obj.data("lastWidth")-p),height:parseInt($obj.data("lastHeight")-n)},"slow")}$obj.data("state","normal")}}}});$windowCloseButton.bind("click",function(n){var o=$(n.target).parent().parent();o.fadeOut(function(){o.remove()});if(f.onWindowClose!=null){f.onWindowClose()}if(f.modal){$modalBackground.remove()}});$modalBackground.bind("click",function(n){$windowCloseButton.click()});$windowContent.click(function(n){m($(n.target).parent())});$windowStatusBar.click(function(n){m($(n.target).parent())});$windowContainer.data("state","normal");$windowContainer.css("display","none");$("body").append($windowContainer);if(f.modal){$("body").append($modalBackground)}$window=$windowContainer;if(!f.draggable){$window.children(".window-titleBar").css("cursor","default")}m($window);k($windowContainer,f.posx,f.posy);l($windowContainer,f.width,f.height);$window.fadeIn()},updateWindowContent:function(b,a){$("#"+b+" .window-content").html(a)},updateWindowContentWithAjax:function(c,b,a){a=a===undefined?true:false;$.ajax({url:b,cache:a,dataType:"html",success:function(d){$("#"+c+" .window-content").html(d)}})},moveWindow:function(c,a,b){$obj=$("#"+c);a=parseInt(a);b=parseInt(b);$obj.data("lastX",a).data("lastY",b);a=a+"px";b=b+"px";$obj.css("left",a).css("top",b)},resizeWindow:function(c,b,a){$obj=$("#"+c);b=parseInt(b);a=parseInt(a);$obj.data("lastWidth",b).data("lastHeight",a);b=b+"px";a=a+"px";$obj.css("width",b).css("height",a)},minimizeWindow:function(a){$("#"+a+" .window-minimizeButton").click()},maximizeWindow:function(a){$("#"+a+" .window-maximizeButton").click()},showWindow:function(a){$("#"+a+" .window-closeButton").fadeIn()},hideWindow:function(a){$("#"+a+" .window-closeButton").fadeOut()},closeWindow:function(a){$("#"+a+" .window-closeButton").click()},closeAllWindows:function(){$(".window-container .window-closeButton").click()}});jQuery.effects||(function(f,g){f.effects={};f.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(n,o){f.fx.step[o]=function(p){if(!p.colorInit){p.start=c(p.elem,o);p.end=m(p.end);p.colorInit=true}p.elem.style[o]="rgb("+Math.max(Math.min(parseInt((p.pos*(p.end[0]-p.start[0]))+p.start[0],10),255),0)+","+Math.max(Math.min(parseInt((p.pos*(p.end[1]-p.start[1]))+p.start[1],10),255),0)+","+Math.max(Math.min(parseInt((p.pos*(p.end[2]-p.start[2]))+p.start[2],10),255),0)+")"}});function m(n){var o;if(n&&n.constructor==Array&&n.length==3){return n}if(o=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(n)){return[parseInt(o[1],10),parseInt(o[2],10),parseInt(o[3],10)]}if(o=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(n)){return[parseFloat(o[1])*2.55,parseFloat(o[2])*2.55,parseFloat(o[3])*2.55]}if(o=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(n)){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}if(o=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(n)){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}if(o=/rgba\(0, 0, 0, 0\)/.exec(n)){return h.transparent}return h[f.trim(n).toLowerCase()]}function c(n,o){var p;do{p=f.curCSS(n,o);if(p!=""&&p!="transparent"||f.nodeName(n,"body")){break}o="backgroundColor"}while(n=n.parentNode);return m(p)}var h={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]};var j=["add","remove","toggle"],e={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function a(){var n=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,p={},q,r;if(n&&n.length&&n[0]&&n[n[0]]){var o=n.length;while(o--){q=n[o];if(typeof n[q]=="string"){r=q.replace(/\-(\w)/g,function(t,s){return s.toUpperCase()});p[r]=n[q]}}}else{for(q in n){if(typeof n[q]==="string"){p[q]=n[q]}}}return p}function k(n){var o,p;for(o in n){p=n[o];if(p==null||f.isFunction(p)||o in e||(/scrollbar/).test(o)||(!(/color/i).test(o)&&isNaN(parseFloat(p)))){delete n[o]}}return n}function d(q,n){var p={_:0},o;for(o in n){if(q[o]!=n[o]){p[o]=n[o]}}return p}f.effects.animateClass=function(q,o,p,n){if(f.isFunction(p)){n=p;p=null}return this.queue(function(){var s=f(this),t=s.attr("style")||" ",v=k(a.call(this)),r,u=s.attr("class");f.each(j,function(w,y){if(q[y]){s[y+"Class"](q[y])}});r=k(a.call(this));s.attr("class",u);s.animate(d(v,r),{queue:false,duration:o,easing:p,complete:function(){f.each(j,function(w,y){if(q[y]){s[y+"Class"](q[y])}});if(typeof s.attr("style")=="object"){s.attr("style").cssText="";s.attr("style").cssText=t}else{s.attr("style",t)}if(n){n.apply(this,arguments)}f.dequeue(this)}})})};f.fn.extend({_addClass:f.fn.addClass,addClass:function(o,n,p,q){return n?f.effects.animateClass.apply(this,[{add:o},n,p,q]):this._addClass(o)},_removeClass:f.fn.removeClass,removeClass:function(o,n,p,q){return n?f.effects.animateClass.apply(this,[{remove:o},n,p,q]):this._removeClass(o)},_toggleClass:f.fn.toggleClass,toggleClass:function(o,q,n,p,r){if(typeof q=="boolean"||q===g){if(!n){return this._toggleClass(o,q)}else{return f.effects.animateClass.apply(this,[(q?{add:o}:{remove:o}),n,p,r])}}else{return f.effects.animateClass.apply(this,[{toggle:o},q,n,p])}},switchClass:function(p,n,o,q,r){return f.effects.animateClass.apply(this,[{add:n,remove:p},o,q,r])}});f.extend(f.effects,{version:"1.8.16",save:function(n,o){for(var p=0;p<o.length;p++){if(o[p]!==null){n.data("ec.storage."+o[p],n[0].style[o[p]])}}},restore:function(n,o){for(var p=0;p<o.length;p++){if(o[p]!==null){n.css(o[p],n.data("ec.storage."+o[p]))}}},setMode:function(o,n){if(n=="toggle"){n=o.is(":hidden")?"show":"hide"}return n},getBaseline:function(o,p){var q,n;switch(o[0]){case"top":q=0;break;case"middle":q=0.5;break;case"bottom":q=1;break;default:q=o[0]/p.height}switch(o[1]){case"left":n=0;break;case"center":n=0.5;break;case"right":n=1;break;default:n=o[1]/p.width}return{x:n,y:q}},createWrapper:function(n){if(n.parent().is(".ui-effects-wrapper")){return n.parent()}var q={width:n.outerWidth(true),height:n.outerHeight(true),"float":n.css("float")},p=f("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),o=document.activeElement;n.wrap(p);if(n[0]===o||f.contains(n[0],o)){f(o).focus()}p=n.parent();if(n.css("position")=="static"){p.css({position:"relative"});n.css({position:"relative"})}else{f.extend(q,{position:n.css("position"),zIndex:n.css("z-index")});f.each(["top","left","bottom","right"],function(r,s){q[s]=n.css(s);if(isNaN(parseInt(q[s],10))){q[s]="auto"}});n.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})}return p.css(q).show()},removeWrapper:function(n){var p,o=document.activeElement;if(n.parent().is(".ui-effects-wrapper")){p=n.parent().replaceWith(n);if(n[0]===o||f.contains(n[0],o)){f(o).focus()}return p}return n},setTransition:function(n,o,p,q){q=q||{};f.each(o,function(r,s){unit=n.cssUnit(s);if(unit[0]>0){q[s]=unit[0]*p+unit[1]}});return q}});function l(p,n,o,q){if(typeof p=="object"){q=n;o=null;n=p;p=n.effect}if(f.isFunction(n)){q=n;o=null;n={}}if(typeof n=="number"||f.fx.speeds[n]){q=o;o=n;n={}}if(f.isFunction(o)){q=o;o=null}n=n||{};o=o||n.duration;o=f.fx.off?0:typeof o=="number"?o:o in f.fx.speeds?f.fx.speeds[o]:f.fx.speeds._default;q=q||n.complete;return[p,n,o,q]}function b(n){if(!n||typeof n==="number"||f.fx.speeds[n]){return true}if(typeof n==="string"&&!f.effects[n]){return true}return false}f.fn.extend({effect:function(s,q,r,t){var u=l.apply(this,arguments),p={options:u[1],duration:u[2],callback:u[3]},o=p.options.mode,n=f.effects[s];if(f.fx.off||!n){if(o){return this[o](p.duration,p.callback)}else{return this.each(function(){if(p.callback){p.callback.call(this)}})}}return n.call(this,p)},_show:f.fn.show,show:function(o){if(b(o)){return this._show.apply(this,arguments)}else{var n=l.apply(this,arguments);n[1].mode="show";return this.effect.apply(this,n)}},_hide:f.fn.hide,hide:function(o){if(b(o)){return this._hide.apply(this,arguments)}else{var n=l.apply(this,arguments);n[1].mode="hide";return this.effect.apply(this,n)}},__toggle:f.fn.toggle,toggle:function(o){if(b(o)||typeof o==="boolean"||f.isFunction(o)){return this.__toggle.apply(this,arguments)}else{var n=l.apply(this,arguments);n[1].mode="toggle";return this.effect.apply(this,n)}},cssUnit:function(p){var n=this.css(p),o=[];f.each(["em","px","%","pt"],function(q,r){if(n.indexOf(r)>0){o=[parseFloat(n),r]}});return o}});f.easing.jswing=f.easing.swing;f.extend(f.easing,{def:"easeOutQuad",swing:function(n,q,o,p,r){return f.easing[f.easing.def](n,q,o,p,r)},easeInQuad:function(n,q,o,p,r){return p*(q/=r)*q+o},easeOutQuad:function(n,q,o,p,r){return -p*(q/=r)*(q-2)+o},easeInOutQuad:function(n,q,o,p,r){if((q/=r/2)<1){return p/2*q*q+o}return -p/2*((--q)*(q-2)-1)+o},easeInCubic:function(n,q,o,p,r){return p*(q/=r)*q*q+o},easeOutCubic:function(n,q,o,p,r){return p*((q=q/r-1)*q*q+1)+o},easeInOutCubic:function(n,q,o,p,r){if((q/=r/2)<1){return p/2*q*q*q+o}return p/2*((q-=2)*q*q+2)+o},easeInQuart:function(n,q,o,p,r){return p*(q/=r)*q*q*q+o},easeOutQuart:function(n,q,o,p,r){return -p*((q=q/r-1)*q*q*q-1)+o},easeInOutQuart:function(n,q,o,p,r){if((q/=r/2)<1){return p/2*q*q*q*q+o}return -p/2*((q-=2)*q*q*q-2)+o},easeInQuint:function(n,q,o,p,r){return p*(q/=r)*q*q*q*q+o},easeOutQuint:function(n,q,o,p,r){return p*((q=q/r-1)*q*q*q*q+1)+o},easeInOutQuint:function(n,q,o,p,r){if((q/=r/2)<1){return p/2*q*q*q*q*q+o}return p/2*((q-=2)*q*q*q*q+2)+o},easeInSine:function(n,q,o,p,r){return -p*Math.cos(q/r*(Math.PI/2))+p+o},easeOutSine:function(n,q,o,p,r){return p*Math.sin(q/r*(Math.PI/2))+o},easeInOutSine:function(n,q,o,p,r){return -p/2*(Math.cos(Math.PI*q/r)-1)+o},easeInExpo:function(n,q,o,p,r){return(q==0)?o:p*Math.pow(2,10*(q/r-1))+o},easeOutExpo:function(n,q,o,p,r){return(q==r)?o+p:p*(-Math.pow(2,-10*q/r)+1)+o},easeInOutExpo:function(n,q,o,p,r){if(q==0){return o}if(q==r){return o+p}if((q/=r/2)<1){return p/2*Math.pow(2,10*(q-1))+o}return p/2*(-Math.pow(2,-10*--q)+2)+o},easeInCirc:function(n,q,o,p,r){return -p*(Math.sqrt(1-(q/=r)*q)-1)+o},easeOutCirc:function(n,q,o,p,r){return p*Math.sqrt(1-(q=q/r-1)*q)+o},easeInOutCirc:function(n,q,o,p,r){if((q/=r/2)<1){return -p/2*(Math.sqrt(1-q*q)-1)+o}return p/2*(Math.sqrt(1-(q-=2)*q)+1)+o},easeInElastic:function(y,w,n,o,v){var q=1.70158;var r=0;var u=o;if(w==0){return n}if((w/=v)==1){return n+o}if(!r){r=v*0.3}if(u<Math.abs(o)){u=o;var q=r/4}else{var q=r/(2*Math.PI)*Math.asin(o/u)}return -(u*Math.pow(2,10*(w-=1))*Math.sin((w*v-q)*(2*Math.PI)/r))+n},easeOutElastic:function(y,w,n,o,v){var q=1.70158;var r=0;var u=o;if(w==0){return n}if((w/=v)==1){return n+o}if(!r){r=v*0.3}if(u<Math.abs(o)){u=o;var q=r/4}else{var q=r/(2*Math.PI)*Math.asin(o/u)}return u*Math.pow(2,-10*w)*Math.sin((w*v-q)*(2*Math.PI)/r)+o+n},easeInOutElastic:function(y,w,n,o,v){var q=1.70158;var r=0;var u=o;if(w==0){return n}if((w/=v/2)==2){return n+o}if(!r){r=v*(0.3*1.5)}if(u<Math.abs(o)){u=o;var q=r/4}else{var q=r/(2*Math.PI)*Math.asin(o/u)}if(w<1){return -0.5*(u*Math.pow(2,10*(w-=1))*Math.sin((w*v-q)*(2*Math.PI)/r))+n}return u*Math.pow(2,-10*(w-=1))*Math.sin((w*v-q)*(2*Math.PI)/r)*0.5+o+n},easeInBack:function(u,r,n,o,q,p){if(p==g){p=1.70158}return o*(r/=q)*r*((p+1)*r-p)+n},easeOutBack:function(u,r,n,o,q,p){if(p==g){p=1.70158}return o*((r=r/q-1)*r*((p+1)*r+p)+1)+n},easeInOutBack:function(u,r,n,o,q,p){if(p==g){p=1.70158}if((r/=q/2)<1){return o/2*(r*r*(((p*=(1.525))+1)*r-p))+n}return o/2*((r-=2)*r*(((p*=(1.525))+1)*r+p)+2)+n},easeInBounce:function(n,q,o,p,r){return p-f.easing.easeOutBounce(n,r-q,0,p,r)+o},easeOutBounce:function(n,q,o,p,r){if((q/=r)<(1/2.75)){return p*(7.5625*q*q)+o}else{if(q<(2/2.75)){return p*(7.5625*(q-=(1.5/2.75))*q+0.75)+o}else{if(q<(2.5/2.75)){return p*(7.5625*(q-=(2.25/2.75))*q+0.9375)+o}else{return p*(7.5625*(q-=(2.625/2.75))*q+0.984375)+o}}}},easeInOutBounce:function(n,q,o,p,r){if(q<r/2){return f.easing.easeInBounce(n,q*2,0,p,r)*0.5+o}return f.easing.easeOutBounce(n,q*2-r,0,p,r)*0.5+p*0.5+o}})})(jQuery);(function(a,b){a.effects.highlight=function(c){return this.queue(function(){var d=a(this),g=["backgroundImage","backgroundColor","opacity"],e=a.effects.setMode(d,c.options.mode||"show"),f={backgroundColor:d.css("backgroundColor")};if(e=="hide"){f.opacity=0}a.effects.save(d,g);d.show().css({backgroundImage:"none",backgroundColor:c.options.color||"#ffff99"}).animate(f,{queue:false,duration:c.duration,easing:c.options.easing,complete:function(){(e=="hide"&&d.hide());a.effects.restore(d,g);(e=="show"&&!a.support.opacity&&this.style.removeAttribute("filter"));(c.callback&&c.callback.apply(this,arguments));d.dequeue()}})})}})(jQuery);(function(a,b){a.effects.pulsate=function(c){return this.queue(function(){var d=a(this),e=a.effects.setMode(d,c.options.mode||"show");times=((c.options.times||5)*2)-1;duration=c.duration?c.duration/2:a.fx.speeds._default/2,isVisible=d.is(":visible"),animateTo=0;if(!isVisible){d.css("opacity",0).show();animateTo=1}if((e=="hide"&&isVisible)||(e=="show"&&!isVisible)){times--}for(var f=0;f<times;f++){d.animate({opacity:animateTo},duration,c.options.easing);animateTo=(animateTo+1)%2}d.animate({opacity:animateTo},duration,c.options.easing,function(){if(animateTo==0){d.hide()}(c.callback&&c.callback.apply(this,arguments))});d.queue("fx",function(){d.dequeue()}).dequeue()})}})(jQuery);(function(a,b){a.effects.transfer=function(c){return this.queue(function(){var d=a(this),j=a(c.options.to),g=j.offset(),f={top:g.top,left:g.left,height:j.innerHeight(),width:j.innerWidth()},h=d.offset(),e=a('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(c.options.className).css({top:h.top,left:h.left,height:d.innerHeight(),width:d.innerWidth(),position:"absolute"}).animate(f,c.duration,c.options.easing,function(){e.remove();(c.callback&&c.callback.apply(d[0],arguments));d.dequeue()})})}})(jQuery);(function(q){function C(){if(s.jStorage){try{a=z(""+s.jStorage)}catch(c){s.jStorage="{}"}}else{s.jStorage="{}"}u=s.jStorage?(""+s.jStorage).length:0}function w(){try{s.jStorage=A(a),r&&(r.setAttribute("jStorage",s.jStorage),r.save("jStorage")),u=s.jStorage?(""+s.jStorage).length:0}catch(c){}}function y(c){if(!c||"string"!=typeof c&&"number"!=typeof c){throw new TypeError("Key name must be string or numeric")}if("__jstorage_meta"==c){throw new TypeError("Reserved key name")}return !0}function v(){var h,g,c,k=Infinity,j=!1;clearTimeout(t);if(a.__jstorage_meta&&"object"==typeof a.__jstorage_meta.TTL){h=+new Date;c=a.__jstorage_meta.TTL;for(g in c){c.hasOwnProperty(g)&&(c[g]<=h?(delete c[g],delete a[g],j=!0):c[g]<k&&(k=c[g]))}Infinity!=k&&(t=setTimeout(v,k-h));j&&w()}}if(!q||!q.toJSON&&!Object.toJSON&&!window.JSON){throw Error("jQuery, MooTools or Prototype needs to be loaded before jStorage!")}var a={},s={jStorage:"{}"},r=null,u=0,A=q.toJSON||Object.toJSON||window.JSON&&(JSON.encode||JSON.stringify),z=q.evalJSON||window.JSON&&(JSON.decode||JSON.parse)||function(c){return(""+c).evalJSON()},b=!1,t,B={isXML:function(c){return(c=(c?c.ownerDocument||c:0).documentElement)?"HTML"!==c.nodeName:!1},encode:function(f){if(!this.isXML(f)){return !1}try{return(new XMLSerializer).serializeToString(f)}catch(d){try{return f.xml}catch(e){}}return !1},decode:function(d){var c="DOMParser" in window&&(new DOMParser).parseFromString||window.ActiveXObject&&function(f){var e=new ActiveXObject("Microsoft.XMLDOM");e.async="false";e.loadXML(f);return e};if(!c){return !1}d=c.call("DOMParser" in window&&new DOMParser||window,d,"text/xml");return this.isXML(d)?d:!1}};q.jStorage={version:"0.1.6.1",set:function(d,c){y(d);if(B.isXML(c)){c={_is_xml:!0,xml:B.encode(c)}}else{if("function"==typeof c){return}c&&"object"==typeof c&&(c=z(A(c)))}a[d]=c;w();return c},get:function(d,c){y(d);return d in a?a[d]&&"object"==typeof a[d]&&a[d]._is_xml&&a[d]._is_xml?B.decode(a[d].xml):a[d]:"undefined"==typeof c?null:c},deleteKey:function(c){y(c);return c in a?(delete a[c],a.__jstorage_meta&&"object"==typeof a.__jstorage_meta.TTL&&c in a.__jstorage_meta.TTL&&delete a.__jstorage_meta.TTL[c],w(),!0):!1},setTTL:function(f,e){var c=+new Date;y(f);e=Number(e)||0;if(f in a){if(!a.__jstorage_meta){a.__jstorage_meta={}}if(!a.__jstorage_meta.TTL){a.__jstorage_meta.TTL={}}0<e?a.__jstorage_meta.TTL[f]=c+e:delete a.__jstorage_meta.TTL[f];w();v();return !0}return !1},flush:function(){a={};w();return !0},storageObj:function(){function c(){}c.prototype=a;return new c},index:function(){var d=[],c;for(c in a){a.hasOwnProperty(c)&&"__jstorage_meta"!=c&&d.push(c)}return d},storageSize:function(){return u},currentBackend:function(){return b},storageAvailable:function(){return !!b},reInit:function(){var d;if(r&&r.addBehavior){d=document.createElement("link");r.parentNode.replaceChild(d,r);r=d;r.style.behavior="url(#default#userData)";document.getElementsByTagName("head")[0].appendChild(r);r.load("jStorage");d="{}";try{d=r.getAttribute("jStorage")}catch(c){}s.jStorage=d;b="userDataBehavior"}C()}};(function(){var j=!1;if("localStorage" in window){try{window.localStorage.setItem("_tmptest","tmpval"),j=!0,window.localStorage.removeItem("_tmptest")}catch(e){}}if(j){try{if(window.localStorage){s=window.localStorage,b="localStorage"}}catch(f){}}else{if("globalStorage" in window){try{window.globalStorage&&(s=window.globalStorage[window.location.hostname],b="globalStorage")}catch(k){}}else{if(r=document.createElement("link"),r.addBehavior){r.style.behavior="url(#default#userData)";document.getElementsByTagName("head")[0].appendChild(r);r.load("jStorage");j="{}";try{j=r.getAttribute("jStorage")}catch(d){}s.jStorage=j;b="userDataBehavior"}else{r=null;return}}}C();v()})()})(window.jQuery||window.$);function showdeadcenterdiv(l,h,j){var c,d;if(self.pageYOffset){c=self.pageXOffset;d=self.pageYOffset}else{if(document.documentElement&&document.documentElement.scrollTop){c=document.documentElement.scrollLeft;d=document.documentElement.scrollTop}else{if(document.body){c=document.body.scrollLeft;d=document.body.scrollTop}}}var g,a;if(self.innerHeight){g=self.innerWidth;a=self.innerHeight}else{if(document.documentElement&&document.documentElement.clientHeight){g=document.documentElement.clientWidth;a=document.documentElement.clientHeight}else{if(document.body){g=document.body.clientWidth;a=document.body.clientHeight}}}var f=c+(g-l)/2;var e=d+(a-h)/2;var k=document.getElementById(j);var b=k.style;b.position="absolute";b.top=e+"px";b.left=f+"px";b.display="block"}var win;var dWindowCount=0;function DWindowClass(){}DWindowClass.prototype.Open=function(d,c){var a=document.createElement("div");a.id="PushWindow"+dWindowCount;a.innerHTML='<div id="PushWindowMask'+dWindowCount+'" class="PushWindowMask"></div><div id="PushWindowBox'+dWindowCount+'" class="PushWindowBox"><iframe id="winiframe'+dWindowCount+'" src="'+c+'" width="800px" height="550px" scrolling="no" frameborder="0" /></iframe><div id="PushWindowDrag'+dWindowCount+'" class="PushWindowDrag"><a onclick="return top.window.DWindow.Close();" href="#" id="PushWindowClose'+dWindowCount+'" class="PushWindowClose"><img src="/r/admin/closeCKfinder.png" alt="close"/></a></div></div>';var b=document.getElementById("Body");b.appendChild(a);$("#PushWindowBox"+dWindowCount).draggable();dWindowCount=dWindowCount+1;return false};DWindowClass.prototype.Close=function(d,c){if(dWindowCount>0){var b=document.getElementById("Body");var a=document.getElementById("PushWindow"+(dWindowCount-1));b.removeChild(a);dWindowCount=dWindowCount-1}return false};DWindowClass.prototype.SaveClose=function(f,d){if(dWindowCount>0){var b=document.getElementById("Body");var a=document.getElementById("PushWindow"+(dWindowCount-1));b.removeChild(a);dWindowCount=dWindowCount-1;if(dWindowCount>0){var a=document.getElementById("winiframe"+(dWindowCount-1));var c=a.contentWindow.document.forms.Form;if(!c){c=a.contentWindow.document.Form}c.submit()}else{var c=top.window.document.forms.Form;c.submit()}}return false};DWindowClass.prototype.OpenPopup=function(b){var a=document.createElement("div");a.id="PushWindow"+dWindowCount;a.innerHTML='<div id="PushPopupWindowMask"></div><div id="PushPopupWindowBox"><iframe id="winiframe'+dWindowCount+'" src="'+b+'" width="700px" height="500px" scrolling="no" frameborder="0" /></iframe></div>';var c=document.getElementById("Body");dWindowCount=dWindowCount+1;c.appendChild(a);return false};DWindowClass.prototype.SetValue=function(b,a){if(dWindowCount-1>0){if($("#winiframe"+(dWindowCount-2)).contents().find("#"+b)[0].tagName=="INPUT"){$("#winiframe"+(dWindowCount-2)).contents().find("#"+b).val(a)}else{$("#winiframe"+(dWindowCount-2)).contents().find("#"+b).html(a)}}else{if($("#"+b)[0].tagName=="INPUT"){$("#"+b).val(a)}else{$("#"+b).html(a)}}return false};DWindowClass.prototype.SetImgSrc=function(b,a){if(dWindowCount-1>0){if($("#winiframe"+(dWindowCount-2)).contents().find("#"+b)[0].tagName=="IMG"){$("#winiframe"+(dWindowCount-2)).contents().find("#"+b).attr("src",a)}else{$("#winiframe"+(dWindowCount-2)).contents().find("#"+b).html(a)}}else{if($("#"+b)[0].tagName=="INPUT"){$("#"+b).val(a)}else{$("#"+b).html(a)}}return false};DWindowClass.prototype.doPostBack=function(b,a){if(dWindowCount-1>0){$("#winiframe"+(dWindowCount-2)).contents().window.__doPostBack(b,a)}else{__doPostBack(b,a)}return false};DWindowClass.prototype.GetValue=function(a){if(dWindowCount-1>0){return $("#winiframe"+(dWindowCount-2)).contents().find("#"+a).val()}else{return $("#"+a).val()}return false};DWindowClass.prototype.Title=function(c){if(dWindowCount>0){var b=document.getElementById("Body");var a=document.getElementById("PushWindowTitle"+(dWindowCount-1));a.innerHTML=c}return false};function GetAllElementsAt(c,a,b){var d=$(c).map(function(){var m=$(this);var e=m.offset();var o=e.left;var j=e.top;var n=m.outerHeight();var g=m.outerWidth();var k=o+g;var f=j+n;return(b<=f&&b>=j)&&(a<=k&&a>=o)&&(g>0&&n>0)?m:null});return d}function getPositions(e){var d=$(e);var a=d.position();var b=d.outerWidth();var c=d.outerHeight();return[[a.left,a.left+b],[a.top,a.top+c]]}function getAbsolutePositions(e){var d=$(e);var a=d.position();var b=d.outerWidth();var c=d.outerHeight();return[a.left,a.top,b,c]}function comparePositions(d,b){var c=d[0]<b[0]?d:b;var a=d[0]<b[0]?b:d;return c[1]>a[0]||c[0]===a[0]?true:false}function DPageClass(){}DPageClass.prototype.Reload=function(){var a=document.getElementById("contentsframe");if(a){a.contentWindow.document.write('<center><br /><br /><br /><br /><br /><br /><img src="/r/loading.gif" /></center>');a.contentWindow.document.close();a.src=a.src}else{document.location.href=document.location.href.replace(/#$/,"")}};DPageClass.prototype.EnableSortable=function(a){$(a).sortable({handle:$(".xc_header"),helper:"clone",opacity:0.3,handleOpacity:1,placeholder:"ui-state-highlight",forcePlaceholderSize:true,start:function(c,d){var b=$(this).find("li:hidden");$(this).find("li:hidden").show();if(b){}},activate:function(c,b){$(".PaneList").addClass("DNDTarget")},deactivate:function(c,b){$(".PaneList").removeClass("DNDTarget")},update:function(c,b){if(this===b.item.parent()[0]){serial=$(this).sortable("serialize");if($(b.item[0]).find(".subid").length>0){serial+="&subid="+$(b.item[0]).find(".subid").val()}$(b.item[0]).delay(500).remove();updateContainerWithParam($(this).attr("id"),serial)}},connectWith:".PaneList",dropOnEmpty:true,tolerance:"pointer"});$(".ui-draggable.module").hover(function(){$(".ui-sortable").addClass("DNDTargetHint")},function(){$(".ui-sortable").removeClass("DNDTargetHint")})};DPageClass.prototype.BindDragAndDropSystem=function(){$("#dpModules div").draggable({connectToSortable:"ul.PaneList",appendTo:"body",helper:"clone",revert:"invalid",placeholder:"ui-state-highlight",forcePlaceholderSize:true});DPage.EnableSortable(".PaneList");$(".DNModuleMenu").unbind("click");$(".DNModuleMenu").bind({mouseleave:function(a){$(this).hide()}});$(".xc_hover").unbind("click");$(".xc_hover").bind({mouseleave:function(a){var b=$(this).find(".DNModuleMenu");b.hide()}});$(".xc_hoveredit_menu").unbind("click");$(".xc_hoveredit_menu").bind({click:function(a){var b=$(this).find(".DNModuleMenu");b.toggle();a.stopPropagation()}})};DPageClass.prototype.UpdatePane=function(c,b){$("ul#"+b).prepend('<img src="/r/module-admin/loading_small.gif" align="right" />');var a=new Date();$.get(c+"?RenderPane="+b+"&"+a.getTime(),function(e){$("ul#"+b).replaceWith(e);DPage.BindDragAndDropSystem();var d=$(e);d.filter("script").each(function(){$.globalEval(this.text||this.textContent||this.innerHTML||"")})})};DPageClass.prototype.GetAndUpdatePane=function(b,c,e){$("ul#"+e).prepend('<img src="/r/module-admin/loading_small.gif" align="right" />');var a=new Date();$.get(b+"&"+a.getTime(),function(f){var d=$(f);DPage.UpdatePane(c,e)});return false};DPageClass.prototype.ConfirmAndUpdatePane=function(g,f,a,c){var b=confirm(c);if(b==true){var e=new Date();$.get(g+"&"+e.getTime(),function(h){var d=$(h);DPage.UpdatePane(f,a);return false})}return false};DPageClass.prototype.UpdateModule=function(b,c){$("#dnn_ctr"+c+"_ModuleContent").prepend('<img src="/r/module-admin/loading_small.gif" align="right" />');var a=new Date();$.get(b+"?RenderModule="+c+"&"+a.getTime(),function(e){$("#dnn_ctr"+c+"_ModuleContent").replaceWith(e);var d=$(e);$("head").filter("script").each(function(){$.globalEval(this.text||this.textContent||this.innerHTML||"")});d.filter("script").each(function(){$.globalEval(this.text||this.textContent||this.innerHTML||"")})})};DPageClass.prototype.GoTo=function(a){var b=document.getElementById("contentsframe");if(b){b.contentWindow.document.write('<center><br /><br /><br /><br /><br /><br /><img src="/r/module-admin/loading.gif" /></center>');b.contentWindow.document.close();b.src="/cmd.asmx?c=findpage&pageid="+a}else{document.location.href="/cmd.asmx?c=findpage&pageid="+a}};DPageClass.prototype.Move=function(c,b,a){top.window.location.href="/Cmd.asmx?c=PAGE.MOVE&pageid="+c+"&p2="+b+"&p3="+a};DPageClass.prototype.Copy=function(a){$.ajax({url:"/cmd.asmx?c=PAGE.COPY&pageid="+a,type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",success:function(b){window.location.reload(true)}})};DPageClass.prototype.CopyDialog=function(a,b){DWindow.Open("Copy","/ASPX/Copy.aspx?pageid="+a+"&langfrom="+b)};DPageClass.prototype.Delete=function(a,b){if(confirm("Er du sikker p"+String.fromCharCode(229)+" at du vil slette denne siden?")){top.window.location.href="/Cmd.asmx?c=PAGE.DELETE&pageid="+a+"&callingpageid="+b}};function DModuleClass(){}DModuleClass.prototype.TitleEdit=function(f,d,e,a){f.id="module"+d;f.style.display="none";var b=document.createElement("input");b.id="txtTitleEdit"+d;b.type="text";b.style.width=f.parentNode.offsetWidth-95+"px";b.value=e;f.parentNode.appendChild(b);var c=document.createElement("a");c.id="btnTitleSave"+d;c.style.marginLeft="2px";c.style.lineHeight="16px";c.style.cursor="pointer";if(a=="nbno"){c.innerHTML='<img src="/r/title_save_nbno.png" alt="Lagre" title="Lagre" />'}else{c.innerHTML='<img src="/r/title_save.png" alt="Lagre" title="Lagre" />'}f.parentNode.appendChild(c);$(c).click(function(){DModule.TitleEditSave(this,d)});var g=document.createElement("a");g.id="btnTitleCancel"+d;g.style.marginLeft="2px";g.style.lineHeight="16px";g.style.cursor="pointer";if(a=="nbno"){g.innerHTML='<img src="/r/title_cancel_nbno.png" alt="Avbryt" title="Avbryt" />'}else{g.innerHTML='<img src="/r/title_cancel.png" alt="Avbryt" title="Avbryt" />'}f.parentNode.appendChild(g);$(g).click(function(){DModule.TitleEditCancel(d)})};DModuleClass.prototype.TitleEditSave=function(b,a){top.window.location.href="/Cmd.asmx?c=MODULE.TITLE&moduleid="+a+"&pageid="+CurrentPageID+"&title="+encodeURI($("#txtTitleEdit"+a).val())};DModuleClass.prototype.TitleEditCancel=function(a){$("#module"+a).show();$("#txtTitleEdit"+a).remove();$("#btnTitleSave"+a).remove();$("#btnTitleCancel"+a).remove()};DModuleClass.prototype.IEModuleHover=function(b,a){var c=$("#xc_ieborder");if(c.length==0){c=$('<div id="xc_ieborder">'+a+"</div>");$("#Body").prepend(c)}c.width($(b).width());c.height($(b).height());c.css($(b).offset());c.text(a);c.show()};DModuleClass.prototype.IEModuleUnHover=function(a){$("#xc_ieborder").hide()};function DPClass(){}DPClass.prototype.Select=function(b){for(i=0;i<=4;i++){if(i!=b){var a=document.getElementById("xctt"+i);if(a){a.className="xctt img_cptop_tab"}var c=document.getElementById("xctdiv"+i);if(c){c.className="hidden"}}}var a=document.getElementById("xctt"+b);if(a){a.className="xctt img_cptop_tab_selected"}var c=document.getElementById("xctdiv"+b);if(c){c.className="shown"}};DPClass.prototype.GoTab=function(a){DPage.GoTo(a.parentNode.getAttribute("treeNodeValue"));return false};DPClass.prototype.DNDStart=function(a){};DPClass.prototype.DNDComplete=function(a,b){DPage.Move(a.getAttribute("treeNodeValue"),b.getAttribute("treeNodeValue"),asTreeViewObjdpTV.dragNodeDestination.getAttribute("treeNodeValue"));return false};DPClass.prototype.Edit=function(a){DWindow.Open(AA("Endre side","Edit page"),"/Destinet.Presentation.Admin.Page?pageid="+a);return false};DPClass.prototype.Add=function(a){DWindow.Open(AA("Ny side","New page"),"/Destinet.Presentation.Admin.Page?pageid=0&parentpageid="+a);return false};DPClass.prototype.AddTabUsingTemplate=function(b,a){DWindow.Open(AA("Ny side","New page"),"/Destinet.Presentation.Admin.Page?pageid=0&parentpageid="+b+"&templateid="+a);return false};DPClass.prototype.Delete=function(a){DPage.Delete(a,CurrentPageID);return false};DPClass.prototype.Copy=function(a){DPage.Copy(a);return false};DPClass.prototype.CopyDialog=function(b,a){DPage.CopyDialog(b,a);return false};DPClass.prototype.TroggleLeftPanel=function(){var a=document.getElementById("xcl");var b=new Date();if(a){if(a.className=="xh xclshow"){a.className="xh xclhide";$("#xmain").css("margin-left","24px");DAjax.Get("/Cmd.asmx?c=LeftPanel&v=0&"+b.getTime())}else{a.className="xh xclshow";$("#xmain").css("margin-left","245px");DAjax.Get("/Cmd.asmx?c=LeftPanel&v=1&"+b.getTime())}}};DPClass.prototype.ToggleModulePanel=function(){var a=document.getElementById("dpLeftBottom");var b=new Date();if(a){if(a.className=="dpLeftBottomShow"){a.className="dpLeftBottomHide";DAjax.Get("/Cmd.asmx?c=ModulePanel&v=0&"+b.getTime())}else{a.className="dpLeftBottomShow";DAjax.Get("/Cmd.asmx?c=ModulePanel&v=1&"+b.getTime())}}};DPClass.prototype.ChangeLanguage=function(a){top.window.location.href="/Cmd.asmx?c=LANGUAGE&pageid="+CurrentPageID+"&lid="+a+"&authid="+AuthID};function Get_Cookie(d){var a=document.cookie.split(";");var e="";var c="";var f="";var b=false;for(i=0;i<a.length;i++){e=a[i].split("=");c=e[0].replace(/^\s+|\s+$/g,"");if(c==d){b=true;if(e.length>1){f=unescape(e[1].replace(/^\s+|\s+$/g,""))}return f;break}e=null;c=""}if(!b){return null}}
/* Copyright (c) 2010 Burin Asavesna (http://helloburin.com)
* Licensed under the MIT License (LICENSE.txt).
*/
(function(b){var a=document.createElement("div"),e=a.style,d=b.support,c="TopLeft TopRight BottomRight BottomLeft".split(" ");d.borderRadius=e.MozBorderRadius===""?"MozBorderRadius":(e.MsBorderRadius===""?"MsBorderRadius":(e.WebkitBorderRadius===""?"WebkitBorderRadius":(e.OBorderRadius===""?"OBorderRadius":(e.borderRadius===""?"BorderRadius":false))));a=null;function g(h,j){j=j===undefined||j===""?"border":j+"Border";if(d.borderRadius&&d.borderRadius=="MozBorderRadius"){return j+"Radius"+h.charAt(0).toUpperCase()+h.substr(1).toLowerCase()}else{return j+h+"Radius"}}if(d.borderRadius&&d.borderRadius!=="BorderRadius"){var f=d.borderRadius.replace("BorderRadius","");b.cssHooks.borderRadius={get:function(j,h,k){return b.map(c,function(l){return b.css(j,g(l,f))}).join(" ")},set:function(j,h){j.style[g("",f)]=h}};b.each(c,function(h,j){b.cssHooks["borderRadius"+j]={get:function(l,k,m){return b.css(l,g(j,f))},set:function(l,k){l.style[g(j,f)]=k}}})}})(jQuery);(function(b){var c=Math.abs,d=Math.max,e=Math.min,f=Math.round;function a(){return b("<div/>")}b.imgAreaSelect=function(ay,ap){var v=b(ay),q,ak=a(),T=a(),E=a().add(a()).add(a()).add(a()),N=a().add(a()).add(a()).add(a()),U=b([]),z,W,L,u={left:0,top:0},r,aw,ac,V={left:0,top:0},Z=0,ag="absolute",m,al,B,ab,G,S,at,t,n,y,M,g,j,O,P,av={x1:0,y1:0,x2:0,y2:0,width:0,height:0},an=document.documentElement,p,l,aD,aE,ax,aC,ah;function aB(h){return h+u.left-V.left}function aA(h){return h+u.top-V.top}function ao(h){return h-u.left+V.left}function s(h){return h-u.top+V.top}function K(h){return h.pageX-V.left}function J(h){return h.pageY-V.top}function D(o){var h=o||B,w=o||ab;return{x1:f(av.x1*h),y1:f(av.y1*w),x2:f(av.x2*h),y2:f(av.y2*w),width:f(av.x2*h)-f(av.x1*h),height:f(av.y2*w)-f(av.y1*w)}}function C(aI,h,aF,aG,w){var o=w||B,aH=w||ab;av={x1:f(aI/o||0),y1:f(h/aH||0),x2:f(aF/o||0),y2:f(aG/aH||0)};av.width=av.x2-av.x1;av.height=av.y2-av.y1}function am(){if(!v.width()){return}u={left:f(v.offset().left),top:f(v.offset().top)};r=v.innerWidth();aw=v.innerHeight();u.top+=(v.outerHeight()-aw)>>1;u.left+=(v.outerWidth()-r)>>1;S=f(ap.minWidth/B)||0;at=f(ap.minHeight/ab)||0;t=f(e(ap.maxWidth/B||1<<24,r));n=f(e(ap.maxHeight/ab||1<<24,aw));if(b().jquery=="1.3.2"&&ag=="fixed"&&!an.getBoundingClientRect){u.top+=d(document.body.scrollTop,an.scrollTop);u.left+=d(document.body.scrollLeft,an.scrollLeft)}V=/absolute|relative/.test(ac.css("position"))?{left:f(ac.offset().left)-ac.scrollLeft(),top:f(ac.offset().top)-ac.scrollTop()}:ag=="fixed"?{left:b(document).scrollLeft(),top:b(document).scrollTop()}:{left:0,top:0};W=aB(0);L=aA(0);if(av.x2>r||av.y2>aw){F()}}function aj(h){if(!M){return}ak.css({left:aB(av.x1),top:aA(av.y1)}).add(T).width(ax=av.width).height(aC=av.height);T.add(E).add(U).css({left:0,top:0});E.width(d(ax-E.outerWidth()+E.innerWidth(),0)).height(d(aC-E.outerHeight()+E.innerHeight(),0));b(N[0]).css({left:W,top:L,width:av.x1,height:aw});b(N[1]).css({left:W+av.x1,top:L,width:ax,height:av.y1});b(N[2]).css({left:W+av.x2,top:L,width:r-av.x2,height:aw});b(N[3]).css({left:W+av.x1,top:L+av.y2,width:ax,height:aw-av.y2});ax-=U.outerWidth();aC-=U.outerHeight();switch(U.length){case 8:b(U[4]).css({left:ax>>1});b(U[5]).css({left:ax,top:aC>>1});b(U[6]).css({left:ax>>1,top:aC});b(U[7]).css({top:aC>>1});case 4:U.slice(1,3).css({left:ax});U.slice(2,4).css({top:aC})}if(h!==false){if(b.imgAreaSelect.keyPress!=Q){b(document).unbind(b.imgAreaSelect.keyPress,b.imgAreaSelect.onKeyPress)}if(ap.keys){b(document)[b.imgAreaSelect.keyPress](b.imgAreaSelect.onKeyPress=Q)}}if(b.browser.msie&&E.outerWidth()-E.innerWidth()==2){E.css("margin",0);setTimeout(function(){E.css("margin","auto")},0)}}function k(h){am();aj(h);g=aB(av.x1);j=aA(av.y1);O=aB(av.x2);P=aA(av.y2)}function ar(o,h){ap.fadeSpeed?o.fadeOut(ap.fadeSpeed,h):o.hide()}function az(w){var h=ao(K(w))-av.x1,o=s(J(w))-av.y1;if(!ah){am();ah=true;ak.one("mouseout",function(){ah=false})}G="";if(ap.resizable){if(o<=ap.resizeMargin){G="n"}else{if(o>=av.height-ap.resizeMargin){G="s"}}if(h<=ap.resizeMargin){G+="w"}else{if(h>=av.width-ap.resizeMargin){G+="e"}}}ak.css("cursor",G?G+"-resize":ap.movable?"move":"");if(z){z.toggle()}}function I(h){b("body").css("cursor","");if(ap.autoHide||av.width*av.height==0){ar(ak.add(N),function(){b(this).hide()})}b(document).unbind("mousemove",X);ak.mousemove(az);ap.onSelectEnd(ay,D())}function H(h){if(h.which!=1){return false}am();if(G){b("body").css("cursor",G+"-resize");g=aB(av[/w/.test(G)?"x2":"x1"]);j=aA(av[/n/.test(G)?"y2":"y1"]);b(document).mousemove(X).one("mouseup",I);ak.unbind("mousemove",az)}else{if(ap.movable){m=W+av.x1-K(h);al=L+av.y1-J(h);ak.unbind("mousemove",az);b(document).mousemove(aa).one("mouseup",function(){ap.onSelectEnd(ay,D());b(document).unbind("mousemove",aa);ak.mousemove(az)})}else{v.mousedown(h)}}return false}function ai(h){if(y){if(h){O=d(W,e(W+r,g+c(P-j)*y*(O>g||-1)));P=f(d(L,e(L+aw,j+c(O-g)/y*(P>j||-1))));O=f(O)}else{P=d(L,e(L+aw,j+c(O-g)/y*(P>j||-1)));O=f(d(W,e(W+r,g+c(P-j)*y*(O>g||-1))));P=f(P)}}}function F(){g=e(g,W+r);j=e(j,L+aw);if(c(O-g)<S){O=g-S*(O<g||-1);if(O<W){g=W+S}else{if(O>W+r){g=W+r-S}}}if(c(P-j)<at){P=j-at*(P<j||-1);if(P<L){j=L+at}else{if(P>L+aw){j=L+aw-at}}}O=d(W,e(O,W+r));P=d(L,e(P,L+aw));ai(c(O-g)<c(P-j)*y);if(c(O-g)>t){O=g-t*(O<g||-1);ai()}if(c(P-j)>n){P=j-n*(P<j||-1);ai(true)}av={x1:ao(e(g,O)),x2:ao(d(g,O)),y1:s(e(j,P)),y2:s(d(j,P)),width:c(O-g),height:c(P-j)};aj();ap.onSelectChange(ay,D())}function X(h){O=/w|e|^$/.test(G)||y?K(h):aB(av.x2);P=/n|s|^$/.test(G)||y?J(h):aA(av.y2);F();return false}function au(o,h){O=(g=o)+av.width;P=(j=h)+av.height;b.extend(av,{x1:ao(g),y1:s(j),x2:ao(O),y2:s(P)});aj();ap.onSelectChange(ay,D())}function aa(h){g=d(W,e(m+K(h),W+r-av.width));j=d(L,e(al+J(h),L+aw-av.height));au(g,j);h.preventDefault();return false}function A(){b(document).unbind("mousemove",A);am();O=g;P=j;F();G="";if(!N.is(":visible")){ak.add(N).hide().fadeIn(ap.fadeSpeed||0)}M=true;b(document).unbind("mouseup",aq).mousemove(X).one("mouseup",I);ak.unbind("mousemove",az);ap.onSelectStart(ay,D())}function aq(){b(document).unbind("mousemove",A).unbind("mouseup",aq);ar(ak.add(N));C(ao(g),s(j),ao(g),s(j));if(!this instanceof b.imgAreaSelect){ap.onSelectChange(ay,D());ap.onSelectEnd(ay,D())}}function R(h){if(h.which!=1||N.is(":animated")){return false}am();m=g=K(h);al=j=J(h);b(document).mousemove(A).mouseup(aq);return false}function ae(){k(false)}function ad(){q=true;Y(ap=b.extend({classPrefix:"imgareaselect",movable:true,parent:"body",resizable:true,resizeMargin:10,onInit:function(){},onSelectStart:function(){},onSelectChange:function(){},onSelectEnd:function(){}},ap));ak.add(N).css({visibility:""});if(ap.show){M=true;am();aj();ak.add(N).hide().fadeIn(ap.fadeSpeed||0)}setTimeout(function(){ap.onInit(ay,D())},0)}var Q=function(w){var o=ap.keys,h,aF,aG=w.keyCode;h=!isNaN(o.alt)&&(w.altKey||w.originalEvent.altKey)?o.alt:!isNaN(o.ctrl)&&w.ctrlKey?o.ctrl:!isNaN(o.shift)&&w.shiftKey?o.shift:!isNaN(o.arrows)?o.arrows:10;if(o.arrows=="resize"||(o.shift=="resize"&&w.shiftKey)||(o.ctrl=="resize"&&w.ctrlKey)||(o.alt=="resize"&&(w.altKey||w.originalEvent.altKey))){switch(aG){case 37:h=-h;case 39:aF=d(g,O);g=e(g,O);O=d(aF+h,g);ai();break;case 38:h=-h;case 40:aF=d(j,P);j=e(j,P);P=d(aF+h,j);ai(true);break;default:return}F()}else{g=e(g,O);j=e(j,P);switch(aG){case 37:au(d(g-h,W),j);break;case 38:au(g,d(j-h,L));break;case 39:au(g+e(h,r-ao(O)),j);break;case 40:au(g,j+e(h,aw-s(P)));break;default:return}}return false};function af(o,h){for(option in h){if(ap[option]!==undefined){o.css(h[option],ap[option])}}}function Y(h){if(h.parent){(ac=b(h.parent)).append(ak.add(N))}b.extend(ap,h);am();if(h.handles!=null){U.remove();U=b([]);aD=h.handles?h.handles=="corners"?4:8:0;while(aD--){U=U.add(a())}U.addClass(ap.classPrefix+"-handle").css({position:"absolute",fontSize:0,zIndex:Z+1||1});if(!parseInt(U.css("width"))>=0){U.width(5).height(5)}if(aE=ap.borderWidth){U.css({borderWidth:aE,borderStyle:"solid"})}af(U,{borderColor1:"border-color",borderColor2:"background-color",borderOpacity:"opacity"})}B=ap.imageWidth/r||1;ab=ap.imageHeight/aw||1;if(h.x1!=null){C(h.x1,h.y1,h.x2,h.y2);h.show=!h.hide}if(h.keys){ap.keys=b.extend({shift:1,ctrl:"resize"},h.keys)}N.addClass(ap.classPrefix+"-outer");T.addClass(ap.classPrefix+"-selection");for(aD=0;aD++<4;){b(E[aD-1]).addClass(ap.classPrefix+"-border"+aD)}af(T,{selectionColor:"background-color",selectionOpacity:"opacity"});af(E,{borderOpacity:"opacity",borderWidth:"border-width"});af(N,{outerColor:"background-color",outerOpacity:"opacity"});if(aE=ap.borderColor1){b(E[0]).css({borderStyle:"solid",borderColor:aE})}if(aE=ap.borderColor2){b(E[1]).css({borderStyle:"dashed",borderColor:aE})}ak.append(T.add(E).add(z).add(U));if(b.browser.msie){if(aE=N.css("filter").match(/opacity=(\d+)/)){N.css("opacity",aE[1]/100)}if(aE=E.css("filter").match(/opacity=(\d+)/)){E.css("opacity",aE[1]/100)}}if(h.hide){ar(ak.add(N))}else{if(h.show&&q){M=true;ak.add(N).fadeIn(ap.fadeSpeed||0);k()}}y=(l=(ap.aspectRatio||"").split(/:/))[0]/l[1];v.add(N).unbind("mousedown",R);if(ap.disable||ap.enable===false){ak.unbind("mousemove",az).unbind("mousedown",H);b(window).unbind("resize",ae)}else{if(ap.enable||ap.disable===false){if(ap.resizable||ap.movable){ak.mousemove(az).mousedown(H)}b(window).resize(ae)}if(!ap.persistent){v.add(N).mousedown(R)}}ap.enable=ap.disable=undefined}this.remove=function(){Y({disable:true});ak.add(N).remove()};this.getOptions=function(){return ap};this.setOptions=Y;this.getSelection=D;this.setSelection=C;this.cancelSelection=aq;this.update=k;p=v;while(p.length){Z=d(Z,!isNaN(p.css("z-index"))?p.css("z-index"):Z);if(p.css("position")=="fixed"){ag="fixed"}p=p.parent(":not(body)")}Z=ap.zIndex||Z;if(b.browser.msie){v.attr("unselectable","on")}b.imgAreaSelect.keyPress=b.browser.msie||b.browser.safari?"keydown":"keypress";if(b.browser.opera){z=a().css({width:"100%",height:"100%",position:"absolute",zIndex:Z+2||2})}ak.add(N).css({visibility:"hidden",position:ag,overflow:"hidden",zIndex:Z||"0"});ak.css({zIndex:Z+2||2});T.add(E).css({position:"absolute",fontSize:0});ay.complete||ay.readyState=="complete"||!v.is("img")?ad():v.one("load",ad);if(b.browser.msie&&b.browser.version>=7){ay.src=ay.src}};b.fn.imgAreaSelect=function(g){g=g||{};this.each(function(){if(b(this).data("imgAreaSelect")){if(g.remove){b(this).data("imgAreaSelect").remove();b(this).removeData("imgAreaSelect")}else{b(this).data("imgAreaSelect").setOptions(g)}}else{if(!g.remove){if(g.enable===undefined&&g.disable===undefined){g.enable=true}b(this).data("imgAreaSelect",new b.imgAreaSelect(this,g))}}});if(g.instance){return b(this).data("imgAreaSelect")}return this}})(jQuery);(function(a){var b={init:function(e){var d,c=a(this).data("init");if(!c){a.fn.layouteditor.options=a.extend({},a.fn.layouteditor.defaults,e);a(this).data("init",true);a.fn.layouteditor.options.el=this;if(a.fn.layouteditor.options.grid===null){a.fn.layouteditor.options.grid=[];b.addRow.apply(a(this))}else{b.addRow.apply(a(this))}if(a.fn.layouteditor.options.widths===null){a.fn.layouteditor.options.widths=[];for(d=0;d<a.fn.layouteditor.options.columns;d++){a.fn.layouteditor.options.widths.push("200")}}b.refreshGrid.apply(a(this));b.refreshPreview.apply(a(this))}return this},addRow:function(){var c,d=[];for(c=0;c<a.fn.layouteditor.options.columns;c++){d[c]=0}a.fn.layouteditor.options.grid.push(d);return this},isValid:function(){return a.fn.layouteditor.options.isValid},removeRow:function(){if(a.fn.layouteditor.options.grid.length>0){a.fn.layouteditor.options.grid.pop()}return this},refreshGrid:function(){var e=a(this),d=a(a.fn.layouteditor.options.palette),g,h,c,f,j,k;e.empty();for(h=0;h<a.fn.layouteditor.options.grid.length;h++){k=a("<div class='r"+h+"' style='clear:both;'></div>");for(g=0;g<a.fn.layouteditor.options.columns;g++){j=a("<div class='pixel r"+h+" c"+g+"' style='"+d.layoutpalette("getBlockStyle",a.fn.layouteditor.options.grid[h][g])+"'>"+(a.fn.layouteditor.options.grid[h][g]>0?a.fn.layouteditor.options.grid[h][g]:"")+"</div>");j.data("pos",{x:g,y:h});a(k).append(j)}e.append(k)}a(".pixel").bind({click:function(l){var m=a(l.target).data("pos"),n;if(m.y===a.fn.layouteditor.options.grid.length-1){b.addRow.apply(e)}f=d.layoutpalette("getActiveBlockType");a.fn.layouteditor.options.grid[m.y][m.x]=f;n=false;if(f==0&&m.y==a.fn.layouteditor.options.grid.length-2){n=true;console.log(a.fn.layouteditor.options.columns);for(c=0;c<a.fn.layouteditor.options.columns;c++){if(a.fn.layouteditor.options.grid[m.y][c]!=0){n=false}}console.log("removeLastRow",n);if(n){b.removeRow.apply(e)}}if(!n){a(l.target).css("background",d.layoutpalette("getBlockBackgroundStyle",d.layoutpalette("getActiveBlockType")))}b.refreshGrid.apply(e);b.refreshPreview.apply(e)}})},refreshPreview:function(){var r,p,g,h,c,f,j,k,m,d,e,o,l,n,s,q;l=new Array(a.fn.layouteditor.options.grid.length);for(h=0;h<a.fn.layouteditor.options.grid.length-1;h++){l[h]=[a.fn.layouteditor.options.columns];for(g=0;g<a.fn.layouteditor.options.columns;g++){l[h][g]=""}}n=new Array(16);for(p=0;p<16;p++){n[p]=false}s="<table class='preview'>";q="<Skin1LayoutInfo>";q+="<Widths>";for(g=0;g<a.fn.layouteditor.options.columns;g++){q+='    <anyType xmlns:q1="http://www.w3.org/2001/XMLSchema" p6:type="q1:int" xmlns:p6="http://www.w3.org/2001/XMLSchema-instance">'+a.fn.layouteditor.options.widths[g]+"</anyType>"}q+="</Widths>";for(g=0;g<a.fn.layouteditor.options.columns;g++){s+="<col style='width:"+(100/a.fn.layouteditor.options.columns)+"%'></col>"}o=[];s+="<tr>";for(g=0;g<a.fn.layouteditor.options.columns;g++){s+="<td><input class='width' id='width"+g+"' type='text' style='width:90%' value='"+a.fn.layouteditor.options.widths[g]+"' /></td>"}s+="</tr>";q+="<Rows>";for(h=0;h<a.fn.layouteditor.options.grid.length-1;h++){q+="<Skin1RowInfo><Cols>";s+="<tr>";for(g=0;g<a.fn.layouteditor.options.columns;g++){d=a.fn.layouteditor.options.grid[h][g];if(d==0){o.push("Position "+(g+1)+","+(h+1)+" contains empty blocks.")}if(l[h][g]==""){l[h][g]="scanned";j=1;for(c=g+1;c<a.fn.layouteditor.options.columns;c++){if(a.fn.layouteditor.options.grid[h][c]==d){j++;l[h][c]="scanned and set by colspan @("+g+","+h+")"}else{break}}k=1;for(c=g;c<g+j;c++){m=1;for(f=h+1;f<a.fn.layouteditor.options.grid.length-1;f++){if(a.fn.layouteditor.options.grid[f][c]==d){if(c==g){k++}else{m++}l[f][c]="scanned and set by rowspan @("+c+","+f+")"}else{break}}if(c!==g){if(m!==k){o.push("Invalid cluster structure for pane ID "+d+" at "+(c+1)+","+(f+1)+".")}}}if(n[d]==true){o.push("Duplicate pane ID "+d+" found outside first cluster at "+(g+1)+","+(h+1)+".")}n[d]=true;s+="<td colspan='"+j+"' rowspan='"+k+"'><div class='AB_Pane' style='width:100%;height:100%;'><div class='AB_PaneSub'><div class='AB_PaneContent' onclick='top.window.DWindow.OpenPopup(\"/jspost.axd?ID0=ColInfo"+d+"&URL=%2fDestinet.Presentation.Admin.AXColInfoEditor\");'>Pane "+d+"</div></div></div></td>";q+='<Skin1ColInfo ColID="'+d+'" Colspan="'+j+'" Rowspan="'+k+'" />'}}s+="</tr>";q+="</Cols></Skin1RowInfo>"}q+="</Rows></Skin1LayoutInfo>";s+="</table>";if(o.length>0){a.fn.layouteditor.options.isValid=false;e="<div class='warnings'>";for(r=0;r<o.length;r++){e+="<p>"+o[r]+"</p>"}e+="</div>";a("#preview").html(e)}else{a.fn.layouteditor.options.isValid=true;a("#preview").html(s);a(".width").change(function(){a.fn.layouteditor.options.widths[a(this).attr("id").replace("width","")]=a(this).val()});a("#layoutinfo").val(q)}}};a.fn.layouteditor=function(c){if(b[c]){return b[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return b.init.apply(this,arguments)}else{a.error("Method "+c+" does not exist")}}};a.fn.layouteditor.options={};a.fn.layouteditor.defaults={columns:4,grid:null,currentBlockType:0,el:null,palette:null,widths:null,isValid:false}}(jQuery));(function(a){var b={init:function(d){a.fn.layoutpalette.options=a.extend({},a.fn.layoutpalette.defaults,d);var c=a(this).data("blocks");if(!c){b.refresh.apply(this);b.refreshPaletteEvents.apply(this);a(this).data("blocks",a(this))}return this},getBlockBackgroundStyle:function(d){var c=a.fn.layoutpalette.options.colors[d];if(c==""){return"transparent url("+a.fn.layoutpalette.options.transparentImage+") "}else{return a.fn.layoutpalette.options.colors[d]+" none"}},getBlockStyle:function(c){return"width:30px;height:30px;padding:2px;float:left;background:"+b.getBlockBackgroundStyle.apply(this,[c])+";color:#fff;background-repeat:repeat;cursor:pointer;"},getActiveBlockType:function(){return a.fn.layoutpalette.options.currentBlockType},refresh:function(){var d=a(this),c;d.empty();for(c=0;c<20;c++){d.append("<div class='block' id='block"+c+"' style='"+b.getBlockStyle.apply(this,[c])+";border:1px solid transparent;width:20px;height:20px;'>"+c+"</div>")}},refreshPaletteEvents:function(){var c=a(this);c.find(".block").bind({click:function(d){var f;a(".block").css("border","1px solid transparent");a.fn.layoutpalette.options.currentBlockType=a(d.target).attr("id").replace("block","");f=a.fn.layoutpalette.options.colors[a.fn.layoutpalette.options.currentBlockType];a(d.target).css("border","1px solid #fff")}})}};a.fn.layoutpalette=function(c){if(b[c]){return b[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return b.init.apply(this,arguments)}else{a.error("Method "+c+" does not exist")}}};a.fn.layoutpalette.options={};a.fn.layoutpalette.defaults={colors:["","#cc0000","#ff3300","#ff6600","#ff9900","#00cc00","#006600","#009999","#003399","#6600cc","#663399","#9933cc","#cc0000","#ff3300","#ff6600","#ff9900","#00cc00","#006600","#009999","#003399","#6600cc","#663399","#9933cc"],transparentImage:"/r/admin/transparea.png",columns:4,currentBlockType:0,el:null,palette:null}}(jQuery));(function(){var a=parseInt($(window).height())-300;$("#dpModulesContainer").css("height",$.jStorage.get("dpModulesContainerHeight"));$("#dpPages").css("bottom",(parseInt($("#dpModulesContainer").css("height"))+31));$("#dpModulesContainer").resizable({handles:"n",maxHeight:a,start:function(b,c){},resize:function(b,c){$("#dpPages").css("bottom",(parseInt($("#dpModulesContainer").css("height"))+31));$("#dpModulesContainer").css("position","fixed");$("#dpModulesContainer").css("bottom","0px");$("#dpModulesContainer").css("top","")},stop:function(b,c){$.jStorage.set("dpModulesContainerHeight",parseInt($("#dpModulesContainer").css("height")))}});$(".ui-resizable-handle").dblclick(function(){if(parseInt($("#dpModulesContainer").css("height"))==0){$("#dpModulesContainer").css("height",$.jStorage.get("dpModulesContainerHeightSaved"));$.jStorage.set("dpModulesContainerHeight",parseInt($("#dpModulesContainer").css("height")));$("#dpPages").css("bottom",(parseInt($("#dpModulesContainer").css("height"))+31))}else{$.jStorage.set("dpModulesContainerHeightSaved",parseInt($("#dpModulesContainer").css("height")));$("#dpModulesContainer").css("height",0);$.jStorage.set("dpModulesContainerHeight",0);$("#dpPages").css("bottom",(parseInt($("#dpModulesContainer").css("height"))+31))}});$(window).resize(function(){if(parseInt($("#dpModulesContainer").css("height"))>(parseInt($(window).height())-300)){$("#dpModulesContainer").css("height",(parseInt($(window).height())-300));$("#dpModulesContainer").resizable("option","maxHeight",parseInt($(window).height())-300);$("#dpPages").css("bottom",(parseInt($("#dpModulesContainer").css("height"))+31))}})})();function DLoginClass(){}DLoginClass.prototype.Open=function(){var b=document.getElementById("DestiPanel");if(b){return false}var c=document.getElementById("LoginWindow");if(!c){var a=document.createElement("div");a.id="LoginWindow";a.innerHTML='<div id="LoginBox" style="display:none;"><iframe id="LoginBoxIFrame" src="/ASPX/Login.aspx" width="100%" scrolling="no" height="60" frameborder="0" allowtransparency="true"></iframe></div>';var d=document.getElementById("Body");d.appendChild(a);$("div#LoginBox").slideDown("slow")}return false};DLoginClass.prototype.Close=function(){$("div#LoginBox").slideUp("slow",function(){$("div#LoginWindow").remove()})};DLoginClass.prototype.Exists=function(){var b=document.getElementById("Body");var a=document.getElementById("LoginWindow");if(!a){return false}return true};function DAjaxClass(){}DAjaxClass.prototype.Get=function(a){$.get(a)};var DWindow=new DWindowClass();var DPage=new DPageClass();var DModule=new DModuleClass();var DP=new DPClass();var DLogin=new DLoginClass();var DAjax=new DAjaxClass();function Tabs_MenuItem(b,a){$(".ab_tab_selected").removeClass("ab_tab_selected");$(b).parent().parent().parent().addClass("ab_tab_selected");$("#TabsPanes").children().hide();$("#TabsID").val(a);$("#"+a).show()}function ALayoutSelect(c,b){var d=document.getElementById(c);var a=d.value;d.value=b;document.getElementById(c+"_"+b).className="DestinetLayout_imgSelected";document.getElementById(c+"_"+a).className="DestinetLayout_img"}function AXLayoutSelect(c,b){var d=document.getElementById(c);var a=d.value;d.value=b;if(document.getElementById(c+"_"+a)!=null){document.getElementById(c+"_"+a).className="ab_layout"}document.getElementById(c+"_"+b).className="ab_layout_selected"}function AA(a,b){if(AdminLanguage=="nb-NO"){return a}else{return b}}function LL(a,b){if(Language=="nb-NO"){return a}else{return b}}function ShowAdditionalModulesMenu(){var a=$('<div id="xctmodules" class="xctmenu"></div>');$("#dpModules .module").each(function(c){if($(this).position().top>0){var b=$(this).clone();a.append(b)}});$("body").append(a);$("#xctmodules div").draggable({connectToSortable:"ul.PaneList",appendTo:"body",helper:"clone",revert:"invalid",placeholder:"ui-state-highlight",forcePlaceholderSize:true});$("body").click(function(b){$("#xctmodules").remove()})}if(typeof(rdcjs)=="undefined"){_rdc=rdcjs={}}_rdc.AjaxHelper=function(){};_rdc.AjaxHelper.ajax=function(url){this.xmlhttp=null;this.resetData=function(){this.method="POST";this.queryStringSeparator="?";this.argumentSeparator="&";this.URLString="";this.encodeURIString=true;this.execute=false;this.element=null;this.elementObj=null;this.requestFile=url;this.vars=new Object();this.responseStatus=new Array(2)};this.resetFunctions=function(){this.onLoading=function(){};this.onLoaded=function(){};this.onInteractive=function(){};this.onCompletion=function(){};this.onError=function(){};this.onFail=function(){}};this.reset=function(){this.resetFunctions();this.resetData()};this.createAJAX=function(){try{this.xmlhttp=new ActiveXObject("Msxml2.XMLHTTP")}catch(e1){try{this.xmlhttp=new ActiveXObject("Microsoft.XMLHTTP")}catch(e2){this.xmlhttp=null}}if(!this.xmlhttp){if(typeof XMLHttpRequest!="undefined"){this.xmlhttp=new XMLHttpRequest()}else{this.failed=true}}};this.setVar=function(name,value){this.vars[name]=Array(value,false)};this.encVar=function(name,value,returnvars){if(true==returnvars){return Array(encodeURIComponent(name),encodeURIComponent(value))}else{this.vars[encodeURIComponent(name)]=Array(encodeURIComponent(value),true)}};this.processURLString=function(string,encode){encoded=encodeURIComponent(this.argumentSeparator);regexp=new RegExp(this.argumentSeparator+"|"+encoded);varArray=string.split(regexp);for(i=0;i<varArray.length;i++){urlVars=varArray[i].split("=");if(true==encode){this.encVar(urlVars[0],urlVars[1])}else{this.setVar(urlVars[0],urlVars[1])}}};this.createURLString=function(urlstring){if(this.encodeURIString&&this.URLString.length){this.processURLString(this.URLString,true)}if(urlstring){if(this.URLString.length){this.URLString+=this.argumentSeparator+urlstring}else{this.URLString=urlstring}}this.setVar("noCache",new Date().getTime());urlstringtemp=new Array();for(key in this.vars){if(false==this.vars[key][1]&&true==this.encodeURIString){encoded=this.encVar(key,this.vars[key][0],true);delete this.vars[key];this.vars[encoded[0]]=Array(encoded[1],true);key=encoded[0]}urlstringtemp[urlstringtemp.length]=key+"="+this.vars[key][0]}if(urlstring){this.URLString+=this.argumentSeparator+urlstringtemp.join(this.argumentSeparator)}else{this.URLString+=urlstringtemp.join(this.argumentSeparator)}};this.runResponse=function(){eval(this.response)};this.runAJAX=function(urlstring){if(this.failed){this.onFail()}else{this.createURLString(urlstring);if(this.element){this.elementObj=document.getElementById(this.element)}if(this.xmlhttp){var self=this;if(this.method=="GET"){totalurlstring=this.requestFile+this.queryStringSeparator+this.URLString;this.xmlhttp.open(this.method,totalurlstring,true)}else{this.xmlhttp.open(this.method,this.requestFile,true);try{this.xmlhttp.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}catch(e){}}this.xmlhttp.onreadystatechange=function(){switch(self.xmlhttp.readyState){case 1:self.onLoading();break;case 2:self.onLoaded();break;case 3:self.onInteractive();break;case 4:self.response=self.xmlhttp.responseText;self.responseXML=self.xmlhttp.responseXML;self.responseStatus[0]=self.xmlhttp.status;self.responseStatus[1]=self.xmlhttp.statusText;if(self.execute){self.runResponse()}if(self.elementObj){elemNodeName=self.elementObj.nodeName;elemNodeName.toLowerCase();if(elemNodeName=="input"||elemNodeName=="select"||elemNodeName=="option"||elemNodeName=="textarea"){self.elementObj.value=self.response}else{self.elementObj.innerHTML=self.response}}if(self.responseStatus[0]=="200"){self.onCompletion()}else{self.onError()}self.URLString="";break}};this.xmlhttp.send(this.URLString)}}};this.reset();this.createAJAX()};if(typeof(rdcjs)=="undefined"){_rdc=rdcjs={}}_rdc.JsonHelper=function(){};_rdc.JsonHelper.isFloat=function(a){return parseFloat(a*1)!=parseInt(a*1,10)};_rdc.JsonHelper.getType=function(c){var a=typeof c,b;var d=function(e){var f=(/\W*function\s+([\w\$]+)\s*\(/).exec(e);if(!f){return"(Anonymous)"}return f[1]};if(a==="object"){if(c!==null){if(typeof c.length==="number"&&!(c.propertyIsEnumerable("length"))&&typeof c.splice==="function"){a="array"}else{if(c.constructor&&d(c.constructor)){b=d(c.constructor);if(b==="Date"){a="date"}else{if(b==="RegExp"){a="regexp"}else{if(b==="PHPJS_Resource"){a="resource"}}}}}}else{a="null"}}else{if(a==="number"){a=_rdc.JsonHelper.isFloat(c)?"double":"integer"}}return a};_rdc.JsonHelper.toArrayJSONString=function(h){var d=["["],c,g,j=h.length,f;function e(a){if(c){d.push(",")}d.push(a);c=true}for(g=0;g<j;g+=1){f=h[g];switch(typeof f){case"undefined":case"function":case"unknown":break;case"object":e(_rdc.JsonHelper.__toJSONStringByType(f));break;default:e(_rdc.JsonHelper.__toJSONStringByType(f))}}d.push("]");return d.join("")};_rdc.JsonHelper.toBooleanJSONString=function(a){return String(a)};_rdc.JsonHelper.toDateJSONString=function(a){function b(c){return c<10?"0"+c:c}return'"'+a.getFullYear()+"-"+b(a.getMonth()+1)+"-"+b(a.getDate())+"T"+b(a.getHours())+":"+b(a.getMinutes())+":"+b(a.getSeconds())+'"'};_rdc.JsonHelper.toNumberJSONString=function(a){return isFinite(a)?String(a):"null"};_rdc.JsonHelper.toObjectJSONString=function(g){var d=["{"],c,h,f;function e(a){if(c){d.push(",")}d.push(_rdc.JsonHelper.__toJSONStringByType(h),":",a);c=true}for(h in g){if(g.hasOwnProperty(h)){f=g[h];switch(typeof f){case"undefined":case"function":case"unknown":break;case"object":e(_rdc.JsonHelper.__toJSONStringByType(f));break;default:e(_rdc.JsonHelper.__toJSONStringByType(f))}}}d.push("}");return d.join("")};_rdc.JsonHelper.__toJSONStringByType=function(a){switch(_rdc.JsonHelper.getType(a)){case"boolean":return _rdc.JsonHelper.toBooleanJSONString(a);case"date":return _rdc.JsonHelper.toDateJSONString(a);case"string":return _rdc.JsonHelper.toStringJSONString(a);case"integer":case"double":return _rdc.JsonHelper.toNumberJSONString(a);case"object":return _rdc.JsonHelper.toObjectJSONString(a);case"array":return _rdc.JsonHelper.toArrayJSONString(a);default:return"null"}};_rdc.JsonHelper.toStringJSONString=function(b){var a={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};if(/["\\\x00-\x1f]/.test(b)){return'"'+b.replace(/([\x00-\x1f\\"])/g,function(f,d){var e=a[d];if(e){return e}e=d.charCodeAt();return"\\u00"+Math.floor(e/16).toString(16)+(e%16).toString(16)})+'"'}return'"'+b+'"'};_rdc.JsonHelper.parseJSON=function(objStr,hook){try{if(/^("(\\.|[^"\\\n\r])*?"|[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t])+?$/.test(objStr)){var j=eval("("+objStr+")");if(typeof hook==="function"){function walk(v){if(v&&typeof v==="object"){for(var i in v){if(v.hasOwnProperty(i)){v[i]=walk(v[i])}}}return hook(v)}return walk(j)}return j}}catch(e){}throw new SyntaxError("parseJSON")};if(typeof(rdcjs)=="undefined"){_rdc=rdcjs={}}_rdc.$=function(a){return"string"==typeof a?document.getElementById(a):a};_rdc.a1=function(d,j,c){var g=new RegExp("(^|\\s)"+d+"(\\s|$)");var j=j||"*";var c=c||document;var a=(j=="*"&&c.all)?c.all:c.getElementsByTagName(j);var h=[];var e;var b=a.length;for(var f=0;f<b;f++){e=a[f];if(g.test(e.className)){h.push(e)}}return h};_rdc.a2=function(){this.obj=(arguments.length)?arguments[0]:window;return this};_rdc.a2.prototype.setInterval=function(c,a){var b=_rdc.a2.getNew();var d=_rdc.a2.buildCall(this.obj,b,arguments);_rdc.a2.set[b].timer=window.setInterval(d,a);return b};_rdc.a2.prototype.setTimeout=function(c,a){var b=_rdc.a2.getNew();_rdc.a2.buildCall(this.obj,b,arguments);_rdc.a2.set[b].timer=window.setTimeout("_rdc.a2.callOnce("+b+");",a);return b};_rdc.a2.prototype.clearInterval=function(a){if(!_rdc.a2.set[a]){return}window.clearInterval(_rdc.a2.set[a].timer);_rdc.a2.set[a]=null};_rdc.a2.prototype.clearTimeout=function(a){if(!_rdc.a2.set[a]){return}window.clearTimeout(_rdc.a2.set[a].timer);_rdc.a2.set[a]=null};_rdc.a2.set=new Array();_rdc.a2.buildCall=function(e,c,d){var b="";_rdc.a2.set[c]=new Array();if(e!=window){_rdc.a2.set[c].obj=e;b="_rdc.a2.set["+c+"].obj."}b+=d[0]+"(";if(d.length>2){_rdc.a2.set[c][0]=d[2];b+="_rdc.a2.set["+c+"][0]";for(var a=1;(a+2)<d.length;a++){_rdc.a2.set[c][a]=d[a+2];b+=", _rdc.a2.set["+c+"]["+a+"]"}}b+=");";_rdc.a2.set[c].call=b;return b};_rdc.a2.callOnce=function(i){if(!_rdc.a2.set[i]){return}eval(_rdc.a2.set[i].call);_rdc.a2.set[i]=null};_rdc.a2.getNew=function(){var a=0;while(_rdc.a2.set[a]){a++}return a};_rdc.a3=function(){};_rdc.a3.Bind=function(b,a){return function(){return a.apply(b,arguments)}};_rdc.a3.a25=function(b,a){return function(c){return a.call(b,(c||window.event))}};_rdc.a3.addEvent=function(c,b,a){if(c.addEventListener){c.addEventListener(b,a,false)}else{if(c.attachEvent){c.attachEvent("on"+b,a)}else{c["on"+b]=a}}};_rdc.a3.removeEvent=function(c,b,a){if(c.removeEventListener){c.removeEventListener(b,a,false)}else{if(c.detachEvent){c.detachEvent("on"+b,a)}else{c["on"+b]=null}}};_rdc.a3.cancelEvent=function(a){a=a||window.event;if(a.preventDefault){a.preventDefault();a.stopPropagation()}else{a.returnValue=false;a.cancelBubble=true}};_rdc.a3.getEventTarget=function(a){a=a||window.event;var b=a.srcElement?a.srcElement:a.target;return b};_rdc.a3.prev=function(a){do{a=a.previousSibling}while(a&&a.nodeType!=1);return a};_rdc.a3.next=function(a){do{a=a.nextSibling}while(a&&a.nodeType!=1);return a};_rdc.a3.first=function(a){a=a.firstChild;return a&&a.nodeType!=1?_rdc.a3.next(a):a};_rdc.a3.last=function(a){a=a.lastChild;return a&&a.nodeType!=1?_rdc.a3.prev(a):a};_rdc.a3.parent=function(a,c){c=c||1;for(var b=0;b<c;b++){if(a!=null){a=a.parentNode}}return a};_rdc.a3.trim=function(a){return a.replace(/^\s+|\s+$/g,"")};_rdc.a3.ltrim=function(a){return a.replace(/^\s+/,"")};_rdc.a3.rtrim=function(a){return a.replace(/\s+$/,"")};_rdc.a3.purge=function(b){var f=b.attributes,e,g,c;if(f){g=f.length;for(e=0;e<g;e+=1){c=f[e].name;if(typeof b[c]==="function"){b[c]=null}}}f=b.childNodes;if(f){g=f.length;for(e=0;e<g;e+=1){purge(b.childNodes[e])}}};_rdc.a3.f1=function(b){if(b.getAttribute&&b.getAttribute("is-astreeview-node")){return b}var a=b.parentNode;while(a){if(a.getAttribute&&a.getAttribute("is-astreeview-node")){return a}a=a.parentNode}return null};_rdc.a3.f3=function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};_rdc.a3.f2=function(a){return a.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};_rdc.a3.a4=(document.all)?true:false;_rdc.a3.a46=_rdc.a3.a4&&([/MSIE (\d)\.0/i.exec(navigator.userAgent)][0][1]==6);_rdc.a3.a48=_rdc.a3.a4&&([/MSIE (\d)\.0/i.exec(navigator.userAgent)][0][1]==8);_rdc.a3.contains=function(a,c){var b=a.length;while(b--){if(a[b]===c){return true}}return false};_rdc.a3.getElementWidth=function(a){if(typeof a.clip!=="undefined"){return a.clip.width}else{if(a.style.pixelWidth){return a.style.pixelWidth}else{return a.offsetWidth}}};_rdc.ASTreeViewNode=function(){this.n1="";this.n2="";this.n3=0;this.n4=0;this.n5=false;this.n6=true;this.n7=true;this.n8=true;this.n9=0;this.n10="";this.n11=true;this.n12=true;this.n13=true;this.n14=true;this.n23=true;this.n24=true;this.n15="";this.n16=false;this.n17=0;this.n18="";this.n19=-1};_rdc.ASTreeViewLinkNode=function(){this.n20="";this.n21="";this.n22=""};_rdc.ASTreeViewTextNode=function(){};_rdc.ASTreeViewLinkNode.prototype=new _rdc.ASTreeViewNode;_rdc.ASTreeView=function(a){this.f4=_rdc.a3.a25(this,this.f7);this.__d33=_rdc.a3.a25(this,this._d33);this._d35=_rdc.a3.a25(this,this.d35);this.f5=_rdc.a3.a25(this,this.f8);this._d42=_rdc.a3.a25(this,this.d42);this._d41=_rdc.a3.a25(this,this.d41);this._d46=_rdc.a3.a25(this,this.d46);this._d63=_rdc.a3.a25(this,this.d63);this._a20=_rdc.a3.a25(this,this.a20);this.__d52=_rdc.a3.a25(this,this._d52);this.__a22=_rdc.a3.a25(this,this._a22);this.__a23=_rdc.a3.a25(this,this._a23);this._a24=_rdc.a3.a25(this,this.a24);this.__c19=_rdc.a3.a25(this,this._c19);this.__d50=_rdc.a3.a25(this,this._d50);this.__d51=_rdc.a3.a25(this,this._d51);this.__c20=_rdc.a3.a25(this,this._c20);this.f6=_rdc.a3.a25(this,this.f9);this.timer=new _rdc.a2(this);this.b2="";this.b3="astreeview-folder.gif";this.b4="astreeview-folder-open.gif";this.b5="astreeview-node.gif";this.b6="astreeview-plus.gif";this.b7="astreeview-minus.gif";this.b8=6;this.b14="astreeview-checkbox-unchecked.gif";this.b15="astreeview-checkbox-checked.gif";this.b16="astreeview-checkbox-half-checked.gif";this.f25="astreeview-dragDrop-indicator1.gif";this.dragDripIndicatorSub="astreeview-dragDrop-indicator2.gif";if(!document.getElementById("b18")){this.b18=document.createElement("UL");this.b18.style.position="absolute";this.b18.style.display="none";this.b18.id="b18";this.b18.className="drag-container";document.body.appendChild(this.b18)}else{this.b18=document.getElementById("b18")}this.b21=false;this.az2=-1;this.dragNodeDisableSiblings=false;this.b29=false;this.dragDropFlag=false;if(document.all){this.indicatorOffsetX=2;this.indicatorOffsetXSub=4;this.indicatorOffsetY=16}else{this.indicatorOffsetX=1;this.indicatorOffsetXSub=3;this.indicatorOffsetY=16}if(navigator.userAgent.indexOf("Opera")>=0){this.indicatorOffsetX=2;this.indicatorOffsetXSub=3;this.indicatorOffsetY=16}this.b25=a;this.b81="";this.b26=true;this.b27=true;this.enableCheckbox=false;this.b28=false;this.c9="Please enter name for the new node.";this.addNodePromptDefaultValue="";this.addNodeDataValueProvider=null;this.c10="AddNode.aspx";this.c11="EditNode.aspx";this.c12="DeleteNode.aspx";this.c13="Are you sure to delete {0}?";this.c14="Are you sure to delete {0}? It has sub nodes.";this.c15={};this.b84={};this.b85={};this.c16={};this.b13=new Array();this.b30=false;this.b301=1;this.b302=2;this.b303=3;this.b304=null;this.b32=null;this.b33="astreeview-node-selected";this.b34=false;this.b35=true;this.b36="";this.b37="";this.b39=false;this.f27=false;this.enableDragDrop=true;this.b41=true;this.b42="";this.c17="";this.c18="";this.b43="";this.b44="";this.b45="";this.b466=false;this.b47=[];this.b48=false;this.c21=false;this.f32=false;this.f34=true;this.f36=false;this.f38="<!--ast_ajax_start-->(.|\\s)*?<!--ast_ajax_end-->";this.f40=false;this.enableFixedParentDragDrop=false;this.f42=false;this.f44=false;this.b49=0;this.b50=function(){};this.b51=function(){};this.onDragDropStart=function(){};this.onDragDropCompleting=function(){};this.onDragDropCompleted=function(){};this.onNodeAdded=function(){};this.onNodeEdited=function(){};this.onNodeDeleted=function(){};this.enableThreeStateCheckbox=true;this.enableRightToLeftRender=false;this.enablePersistentTreeState=true;this.enableDragDropOnIcon=false;this.c22=true;this.c23="LoadNodes.aspx";this.onNodeOpenedAndClosed=function(){}};_rdc.ASTreeView.Consts={};_rdc.ASTreeView.Consts.c1=0;_rdc.ASTreeView.Consts.c11=1;_rdc.ASTreeView.Consts.c111=2;_rdc.ASTreeView.Consts.c1111=0;_rdc.ASTreeView.Consts.c11111=1;_rdc.ASTreeView.Consts.cc11=0;_rdc.ASTreeView.Consts.cc12=1;_rdc.ASTreeView.Consts.NODE_TYPE_TEXT_LINK=2;_rdc.ASTreeView.Consts.cc13=0;_rdc.ASTreeView.Consts.cc14=1;_rdc.ASTreeView.Consts.cc15=2;_rdc.ASTreeView.Consts.cc16=0;_rdc.ASTreeView.Consts.cc17=1;_rdc.ASTreeView.prototype={addEvent:function(c,a,b){if(c.attachEvent){c["e"+a+b]=b;c[a+b]=function(){c["e"+a+b](window.event)};c.attachEvent("on"+a,c[a+b])}else{c.addEventListener(a,b,false)}},removeEvent:function(c,a,b){if(c.detachEvent){c.detachEvent("on"+a,c[a+b]);c[a+b]=null}else{c.removeEventListener(a,b,false)}},c2:function(a){var b=document.cookie.indexOf(a+"=");var c=b+a.length+1;if((!b)&&(a!=document.cookie.substring(0,a.length))){return null}if(b==-1){return null}var d=document.cookie.indexOf(";",c);if(d==-1){d=document.cookie.length}return unescape(document.cookie.substring(c,d))},c3:function(d,f,e,b,h,g){e=e*60*60*24*1000;var a=new Date();var j=new Date(a.getTime()+(e));var c=d+"="+escape(f)+((e)?";expires="+j.toGMTString():"")+((b)?";path="+b:"")+((h)?";domain="+h:"")+((g)?";secure":"");document.cookie=c},c4:function(b){var a=curtop=0;if(b.offsetParent){do{a+=b.offsetLeft;if(b.tagName=="HTML"||b.tagName=="BODY"){curtop+=(b.offsetTop)}else{curtop+=(b.offsetTop-b.scrollTop)}}while(b=b.offsetParent)}return[a,curtop]},c5:function(a){return this.c4(a)[1]},c6:function(a){return this.c4(a)[0]},c7:function(a){var b=0;if(!a){var a=window.event}if(a.pageX){b=a.pageX}else{if(a.clientX){b=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft}}return b},c8:function(a){var b=0;if(!a){var a=window.event}if(a.pageY){b=a.pageY}else{if(a.clientY){b=a.clientY+document.body.scrollTop+document.documentElement.scrollTop}}return b},f12:function(a){this.c10=a},f10:function(a){this.c9=a},f11:function(a){this.addNodePromptDefaultValue=a},f13:function(a){this.c11=a},f16:function(a){this.c12=a},f15:function(a){this.c13=a},f14:function(a){this.c14=a},f18:function(a){this.c15=a},d3:function(a){this.b84=a},d4:function(a){this.b85=a},f17:function(a){this.c16=a},d5:function(a){this.b26=a},d6:function(a){this.b27=a},d7:function(a){this.b8=a},d8:function(a){this.b81=a},d10:function(a){this.b3=a},d11:function(a){this.b4=a},d12:function(a){this.b5=a},d13:function(a){this.b6=a},d14:function(a){this.b7=a},f19:function(a){this.b14=a},f20:function(a){this.b15=a},f21:function(a){this.b16=a},f23:function(a){this.f25=a},f22:function(a){this.f24=a},d15:function(a){this.b1=a},d16:function(a){this.enableCheckbox=a},d17:function(a){this.b33=a},d18:function(a){this.b34=a},d19:function(a){this.b37=a},d20:function(a){this.b35=a},d21:function(a){this.b36=a},d22:function(a){this.b39=a},f26:function(a){this.f27=a},d23:function(a){this.enableDragDrop=a},d24:function(a){this.b41=a},d25:function(a){this.b42=a},f28:function(a){this.c17=a},f29:function(a){this.c18=a},d26:function(a){this.b43=a},d27:function(a){this.b44=a},d28:function(a){this.b45=a},d29:function(a){this.b47=a},c24:function(a){this.b466=a},c25:function(a){this.f30=a},d30:function(a){this.b48=a},c26:function(a){this.c21=a},c27:function(a){this.c22=a},c28:function(a){this.c23=a},f31:function(a){this.f32=a},f33:function(a){this.f34=a},f35:function(a){this.f36=a},f37:function(a){this.f38=a},f39:function(a){this.f40=a},setEnableFixedParentDragDrop:function(a){this.enableFixedParentDragDrop=a},f41:function(a){this.f42=a},f43:function(a){this.f44=a},setEnableThreeStateCheckbox:function(a){this.enableThreeStateCheckbox=a},setEnableRightToLeftRender:function(a){this.enableRightToLeftRender=a},setEnablePersistentTreeState:function(a){this.enablePersistentTreeState=a},d23OnIcon:function(a){this.enableDragDropOnIcon=a},d31:function(){var c=document.getElementById(this.b1).getElementsByTagName("LI");for(var b=0;b<c.length;b++){var a=c[b].getElementsByTagName("UL");if(a.length>0&&c[b].getAttribute("openState")==_rdc.ASTreeView.Consts.c11111){this._d33(false,c[b].id)}}},d32:function(){var c=document.getElementById(this.b1).getElementsByTagName("LI");for(var b=0;b<c.length;b++){var a=c[b].getElementsByTagName("UL");if(a.length>0&&c[b].getAttribute("openState")==_rdc.ASTreeView.Consts.c1111){this._d33(false,c[b].id)}}},f45:function(){var c=document.getElementById(this.b1).getElementsByTagName("LI");for(var b=0;b<c.length;b++){var a=c[b].getElementsByTagName("UL");if(a.length>0){this._d33(false,c[b].id)}}},_d33:function(b,n){if(n){if(!document.getElementById(n)){return}thisNode=this.getIcon(document.getElementById(n),_rdc.ASTreeView.Consts.cc13)}else{var m=b||window.event;thisNode=m.target||m.srcElement;if(!thisNode.getAttribute("is-astreeview-node")){targetA=_rdc.a3.f1(thisNode);if(targetA){thisNode=targetA}}if(thisNode.tagName=="A"){thisNode=this.getIcon(thisNode.parentNode,_rdc.ASTreeView.Consts.cc13)}}if(thisNode.style.visibility=="hidden"){return}var l=thisNode.parentNode;n=l.id;var g=false;if(thisNode.src.indexOf(this.b6)>=0){g=true;thisNode.src=this.b7;var c=l.getElementsByTagName("UL")[0];c.style.display="block";l.setAttribute("openState",_rdc.ASTreeView.Consts.c1111);if(this.c22){if(l.getAttribute("is-virtual-node")=="true"){var o=l;var k=l.getAttribute("virtual-parent-key");var d=this.b13.length;this.b13[d]=new _rdc.AjaxHelper.ajax();this.b13[d].method="GET";this.b13[d].setVar("virtualParentKey",k);this.__d62(this.b13[d],this.c16);this.b13[d].requestFile=this.c23;var a=this.b13[d];var f=this.f6;var h=this.__c20;a.ajaxTrigger=o;(function(){a.onCompletion=function(){h(a)}})();(function(){a.onError=function(){f(d,o)}})();this._showAjaxIndicatorContainer();this.b13[d].runAJAX()}}}else{thisNode.src=this.b6;l.getElementsByTagName("UL")[0].style.display="none";l.setAttribute("openState",_rdc.ASTreeView.Consts.c11111)}if(!this.c21){var j=this.getIcon(l,_rdc.ASTreeView.Consts.cc15);if(j){if(l.getAttribute("openState")==_rdc.ASTreeView.Consts.c11111){j.src=this.b3}else{if(l.getAttribute("openState")==_rdc.ASTreeView.Consts.c1111){j.src=this.b4}}}}if(b){if(this.b48){this.d72()}}this.onNodeOpenedAndClosed(g?_rdc.ASTreeView.Consts.c1111:_rdc.ASTreeView.Consts.c11111,l);return false},d34:function(a,b){if(!a||!_rdc.$(a)){return}var d=_rdc.$(a).getElementsByTagName("IMG")[0];if(d.style.visibility=="hidden"){return}var e=d.parentNode;if(b==_rdc.ASTreeView.Consts.c1111){d.src=this.b7;var c=e.getElementsByTagName("UL")[0];c.style.display="block"}else{if(b==_rdc.ASTreeView.Consts.c11111){d.src=this.b6;e.getElementsByTagName("UL")[0].style.display="none"}}},d35:function(b){var a=b||window.event;var c=a.target||a.srcElement;if(c.getAttribute("treeNodeValue")&&this.f44){c=c.childNodes[0]}else{if(!c.getAttribute("is-astreeview-node")){c=_rdc.a3.f1(c)}if(!c){return}}if(document.all){b=event}this.b18.style.left=this.c7(b)+"px";this.b18.style.top=this.c8(b)+"px";var d=this.b18.getElementsByTagName("LI");if(d.length>0){if(this.dragNodeSourceNextSib){this.dragNodeParent.insertBefore(this.dragNodeSource,this.dragNodeSourceNextSib)}else{this.dragNodeParent.appendChild(this.dragNodeSource)}}this.dragNodeSource=c.parentNode;this.dragNodeParent=c.parentNode.parentNode;this.dragNodeSourceNextSib=false;if(this.dragNodeSource.nextSibling){this.dragNodeSourceNextSib=this.dragNodeSource.nextSibling}this.dragNodeDestination=false;this.appendToParent=false;this.az2=0;this.d36();_rdc.a3.cancelEvent(a);return false},geta2Counter:function(){return _rdc.a3.a4?25:40},d36:function(){var b=this.geta2Counter();if(this.az2>=0&&this.az2<b){this.az2=this.az2+1;this.timer.setTimeout("d36",10);return}if(this.az2==b){var a=this.onDragDropStart(this.dragNodeSource);if(a!=null&&a===false){this.b20.style.display="none";this.az2=0;this.dragDropFlag=false;return}else{this.dragDropFlag=true}this.b18.style.display="block";this.b18.appendChild(this.dragNodeSource)}},_getNodeUL:function(a){if(!a){return null}for(var b=0;b<a.childNodes.length;b++){if(a.childNodes[b].tagName=="UL"){return a.childNodes[b]}}return null},f7:function(b){if(!this.dragDropFlag){return}var q=this.geta2Counter();if(this.az2<q){return}if(document.selection){try{document.selection.empty()}catch(k){}}else{if(window.getSelection){window.getSelection().removeAllRanges()}}var o=b||window.event;var g=o.target||o.srcElement;if(g.getAttribute("isTreeNodeChild")){g=_rdc.a3.f1(g)}if(!g){return}if(document.all){b=event}dragDrop_x=this.c7(b)+5;dragDrop_y=this.c8(b)+5;if(!this.f42){this.b18.style.left=dragDrop_x+"px"}this.b18.style.top=dragDrop_y+"px";if(g.tagName=="A"||g.tagName=="IMG"||(g.tagName=="DIV"&&g.getAttribute("is-astreeview-node")=="true")){g=g.parentNode}this.dragNodeDisableSiblings=false;var s=g.getAttribute("enable-siblings");if(s&&s=="false"){this.dragNodeDisableSiblings=true}if(g&&g.id&&g.tagName=="LI"){this.dragNodeDestination=g;this.appendToParent=false;var n=-1;var h=-1;if(this.f40){n=parseInt(this.dragNodeDestination.getAttribute("tree-node-depth"));h=parseInt(this.dragNodeSource.getAttribute("tree-node-depth"));if((h-1)==n){this.appendToParent=true}else{if(n!=h){if(_rdc.a3.a4){window.event.cancelBubble=true}else{if(b){b.stopPropagation()}}return}}}if(this.enableFixedParentDragDrop){if(n!=h&&!this.appendToParent){return}if(this.appendToParent){if(this.dragNodeParent!=this._getNodeUL(this.dragNodeDestination)){return}}else{if(this.dragNodeDestination.parentNode!=this.dragNodeParent){return}}}var d=this.b20;d.style.display="block";var p=o.target||o.srcElement;if(p.getAttribute("isTreeNodeChild")){p=_rdc.a3.f1(p)}if(this.dragNodeDisableSiblings&&p.tagName=="IMG"){p=p.nextSibling}var l=d.getElementsByTagName("IMG")[0];if((!this.f40&&(p.tagName=="A"||this.dragNodeDisableSiblings))||(this.appendToParent&&(p.tagName=="A"||this.dragNodeDisableSiblings))||(p.tagName=="DIV"&&p.getAttribute("is-astreeview-node")=="true")){var j=g.getAttribute("enable-children");if(j&&j.toLowerCase()=="false"){if(_rdc.a3.a4){window.event.cancelBubble=true}else{if(b){b.stopPropagation()}}return}if(l.src!=this.f24){l.src=this.f24}this.b21=true;var r=0;var f=0;if(this.enableRightToLeftRender){var a=parseInt(_rdc.a3.getElementWidth(p));var c=parseInt(_rdc.a3.getElementWidth(d));if(!isNaN(a)&&a>0){r=a;f=0-(this.indicatorOffsetXSub*2+c)}}d.style.left=(this.c6(p)+this.indicatorOffsetXSub+r+f)+"px";d.style.top=(this.c5(g)+this.indicatorOffsetY)+"px"}else{if(this.f40){if(n!=h){if(_rdc.a3.a4){window.event.cancelBubble=true}else{if(b){b.stopPropagation()}}this.appendToParent=false;return}this.appendToParent=false}if(l.src!=this.f25){l.src=this.f25}this.b21=false;var m=this.c4(g);var r=0;var f=0;if(this.enableRightToLeftRender){var a=parseInt(_rdc.a3.getElementWidth(g));var c=parseInt(_rdc.a3.getElementWidth(d));if(!isNaN(a)&&a>0){r=a;f=0-(this.indicatorOffsetX*2+c)}}d.style.left=(m[0]+this.indicatorOffsetX)+r+f+"px";d.style.top=(m[1]+this.indicatorOffsetY)+"px"}}return false},f8:function(e){var evt=e||window.event;var currentObj=evt.target||evt.srcElement;var timerCounter=this.geta2Counter();if(this.az2<timerCounter){this.az2=-1;return}this.az2=-1;var showMessage=false;if(this.dragNodeDestination){var countUp=this.d40(this.dragNodeDestination,"up");var countDown=this.d40(this.dragNodeSource,"down");var countLevels=countUp/1+countDown/1+(this.b21?1:0);if(countLevels>this.b8){this.dragNodeDestination=false;showMessage=true}}var destnationParent=this.dragNodeDestination.parentNode;var isInTree=false;while(destnationParent){if(destnationParent.id&&(destnationParent.id==this.b1)){isInTree=true;break}destnationParent=destnationParent.parentNode}var relatedTreeToMove=false;var desParent=this.dragNodeDestination.parentNode;if(!isInTree){while(desParent){relatedTreeToMove=this.d74(desParent.id);if(relatedTreeToMove){isInTree=true;break}desParent=desParent.parentNode}}if(!isInTree||this.dragNodeDestination.tagName!="LI"){this.dragNodeDestination=false}if(this.f40){if(this.dragNodeDestination){var targetDepth=this.dragNodeDestination.getAttribute("tree-node-depth");var sourceDepth=this.dragNodeSource.getAttribute("tree-node-depth");if(targetDepth!=sourceDepth&&!this.appendToParent){this.dragNodeDestination=false}}}if(this.enableFixedParentDragDrop){if(targetDepth!=sourceDepth&&!this.appendToParent){this.dragNodeDestination=false}if(this.appendToParent){if(this.dragNodeParent!=this._getNodeUL(this.dragNodeDestination)){this.dragNodeDestination=false}}else{if(this.dragNodeDestination.parentNode!=this.dragNodeParent){this.dragNodeDestination=false}}}if(this.dragNodeDestination){if(this.b21){var returnVal=this.onDragDropCompleting(this.dragNodeSource,this.dragNodeDestination);if(returnVal!=null&&returnVal===false){this.dragNodeDestination=false}}else{var returnVal=this.onDragDropCompleting(this.dragNodeSource,this.dragNodeDestination.parentNode.parentNode);if(returnVal!=null&&returnVal===false){this.dragNodeDestination=false}}}if(this.dragNodeDestination){if(this.b21){var uls=this.dragNodeDestination.getElementsByTagName("UL");if(uls.length>0){ul=uls[0];ul.style.display="block";var lis=ul.getElementsByTagName("LI");if(lis.length>0){ul.insertBefore(this.dragNodeSource,lis[0])}else{ul.appendChild(this.dragNodeSource)}}else{var ul=document.createElement("UL");ul.style.display="block";this.dragNodeDestination.appendChild(ul);ul.appendChild(this.dragNodeSource)}if(this.dragNodeDestination.getAttribute("enable-open-close")!="false"){var imgPlusMinus=this.getIcon(this.dragNodeDestination,_rdc.ASTreeView.Consts.cc13);imgPlusMinus.style.visibility="visible";imgPlusMinus.src=this.b7}this.dragNodeDestination.setAttribute("openState",_rdc.ASTreeView.Consts.c1111);if(!this.c21){var imgIcon=this.getIcon(this.dragNodeDestination,_rdc.ASTreeView.Consts.cc15);if(imgIcon){imgIcon.src=this.b4}}}else{if(this.dragNodeDestination.nextSibling){var nextSib=this.dragNodeDestination.nextSibling;nextSib.parentNode.insertBefore(this.dragNodeSource,nextSib)}else{this.dragNodeDestination.parentNode.appendChild(this.dragNodeSource)}}this.onDragDropCompleted(this.dragNodeSource,this.dragNodeSource.parentNode.parentNode);if(this.b41){this.d69(this.dragNodeParent);this.d69(this.dragNodeSource.parentNode);for(var i=0;i<this.dragNodeSource.childNodes.length;i++){if(this.dragNodeSource.childNodes[i].tagName=="UL"){this.d69(this.dragNodeSource.childNodes[i])}}for(var i=0;i<this.dragNodeDestination.childNodes.length;i++){if(this.dragNodeDestination.childNodes[i].tagName=="UL"){this.d69(this.dragNodeDestination.childNodes[i])}}this.d70(this.dragNodeSource);if(this.dragNodeSource.parentNode&&this.dragNodeSource.parentNode.parentNode){this.d70(this.dragNodeSource.parentNode.parentNode)}if(this.dragNodeSource.parentNode){var newParentChildren=this.dragNodeSource.parentNode.childNodes;for(var i=0;i<newParentChildren.length;i++){if(newParentChildren[i].tagName=="LI"){this.d70(newParentChildren[i])}}}var oldParentChildren=this.dragNodeParent.childNodes;for(var i=0;i<oldParentChildren.length;i++){if(oldParentChildren[i].tagName=="LI"){this.d70(oldParentChildren[i])}}if(this.dragNodeParent.parentNode){this.d70(this.dragNodeParent.parentNode)}}if(this.enableCheckbox&&this.enableThreeStateCheckbox){this.d66(this.dragNodeSource);this.d66(this.dragNodeParent)}var tmpObj=this.dragNodeParent;var lis=tmpObj.getElementsByTagName("LI");if(lis.length==0){var img=this.getIcon(tmpObj.parentNode,_rdc.ASTreeView.Consts.cc13);if(img){img.style.visibility="hidden"}if(!this.c21){var lastImgIcon=this.getIcon(tmpObj.parentNode,_rdc.ASTreeView.Consts.cc15);if(lastImgIcon){lastImgIcon.src=this.b5}}tmpObj.parentNode.removeChild(tmpObj)}}else{if(this.dragNodeSourceNextSib){this.dragNodeParent.insertBefore(this.dragNodeSource,this.dragNodeSourceNextSib)}else{this.dragNodeParent.appendChild(this.dragNodeSource)}}this.b20.style.display="none";this.az2=-1;if(showMessage&&this.b81){alert(this.b81)}if(document.all){currentObj.releaseCapture()}else{_rdc.a3.removeEvent(window,"blur",this.f5)}if(this.b48){this.d72();if(relatedTreeToMove){eval(relatedTreeToMove+".d72();")}}},d39:function(){this.b20=document.createElement("DIV");this.b20.style.position="absolute";this.b20.style.zIndex="1000";this.b20.style.display="none";var a=document.createElement("IMG");a.src=this.f25;a.id="f25Image";this.b20.appendChild(a);document.body.appendChild(this.b20)},d40:function(e,d,a){var b=0;if(d=="up"){while(e.parentNode&&e.parentNode!=a){e=e.parentNode;if(e.tagName=="UL"){b=b/1+1}}return b}if(d=="down"){var f=e.getElementsByTagName("LI");for(var c=0;c<f.length;c++){b=Math.max(b,this.d40(f[c],"up",e))}return b}},d41:function(){return false},d42:function(){if(this.az2<15){return true}return false},traverseTreeNode:function(b,c){if(!c){c=document.getElementById(this.b1)}var e=c.getElementsByTagName("LI");if(e&&e.length>0){var d=e[0];while(d){b(d);var a=d.getElementsByTagName("UL");if(a.length>0){this.traverseTreeNode(b,a[0])}d=d.nextSibling}}},d43:function(q){if(!this.enablePersistentTreeState){return new Array()}var f=new Array();var b=false;if(!q){b=true;q=document.getElementById(this.b1)}var a;a=q.getElementsByTagName("LI");if(a&&a.length>0){var t=a[0];while(t){if(t.getAttribute&&t.getAttribute("treeNodeValue")!=null){var j;var k=parseInt(t.getAttribute("treeNodeType"));if(k==_rdc.ASTreeView.Consts.cc11){j=new _rdc.ASTreeViewNode()}else{if(k==_rdc.ASTreeView.Consts.cc12){j=new _rdc.ASTreeViewLinkNode()}else{if(k==_rdc.ASTreeView.Consts.NODE_TYPE_TEXT_LINK){j=new _rdc.ASTreeViewTextNode()}else{continue}}}var n=k==_rdc.ASTreeView.Consts.NODE_TYPE_TEXT_LINK;var v=n?this.d75(t,"DIV"):this.d75(t,"A");var F=t.getAttribute("treeNodeValue");var E=t.getAttribute("checkedState");var z=t.getAttribute("openState");var y=false;if(t.getAttribute("selected")&&t.getAttribute("selected")=="true"){y=true}j.n1=encodeURIComponent(v.innerHTML);j.n2=encodeURIComponent(F);j.n3=parseInt(E);j.n4=parseInt(z);j.n5=y;var p=t.getAttribute("enable-edit-context-menu");var u=true;if(p&&p=="false"){u=false}var e=t.getAttribute("enable-delete-context-menu");var C=true;if(e&&e=="false"){C=false}var c=t.getAttribute("enable-add-context-menu");var D=true;if(c&&c=="false"){D=false}j.n6=u;j.n7=C;j.n8=D;var H=t.getAttribute("enable-drag-drop");var s=true;if(H&&H=="false"){s=false}var h=t.getAttribute("enable-siblings");var B=true;if(h&&h=="false"){B=false}var o=t.getAttribute("enable-children");var l=true;if(o&&o=="false"){l=false}var d=t.getAttribute("enable-checkbox");var m=true;if(d&&d=="false"){m=false}var A=t.getAttribute("enable-selection");var G=true;if(A&&A=="false"){G=false}var I=t.getAttribute("enable-open-close");var g=true;if(I&&I=="false"){g=false}j.n11=s;j.n12=B;j.n13=l;j.n14=m;j.n23=G;j.n24=g;j.n9=k;if(this.f40){if(t.getAttribute("tree-node-depth")){j.n19=parseInt(t.getAttribute("tree-node-depth"))}}if(t.getAttribute("is-virtual-node")){j.n16=(t.getAttribute("is-virtual-node")=="true")?true:false}if(t.getAttribute("virtual-nodes-count")){j.n17=parseInt(t.getAttribute("virtual-nodes-count"))}if(t.getAttribute("virtual-parent-key")){j.n18=t.getAttribute("virtual-parent-key")}if(t.getAttribute("additional-attributes")){j.n15=t.getAttribute("additional-attributes")}var r=t.getAttribute("treeNodeIcon");if(r){j.n10=r}if(k==_rdc.ASTreeView.Consts.cc12){j.n20=v.href;j.n21=v.target;j.n22=v.title}f.push(j);var w=t.getElementsByTagName("UL");if(w.length>0){f.push(this.d43(w[0]))}}t=t.nextSibling}}if(q.id==this.b1){return f}return f},a24:function(b,a){var c=a||window.event;var d=c.target||c.srcElement;if(this.b28){this.b28.className=""}d.className="highlighted-node-item";this.b28=d},d46:function(){if(this.b28){this.b28.className=""}this.b28=false},d47:function(b){var a=b.getElementsByTagName("LI");if(a.length>0){return true}return false},deleteItem:function(b,a){var c="";if(this.d47(a.parentNode)){c=this.c14.replace(/\{0\}/ig,a.innerHTML)}else{c=this.c13.replace(/\{0\}/ig,a.innerHTML)}if(confirm(c)){this._deleteItemStep2(a.parentNode)}},_d48:function(c){if(this.d47(c)){return}var a=this.getIcon(c,_rdc.ASTreeView.Consts.cc13);a.style.visibility="hidden";if(!this.c21){var b=this.getIcon(c,_rdc.ASTreeView.Consts.cc15);if(b){b.src=this.b5}}},_deleteItemStep2:function(j){if(this.b466){var c=j.getAttribute("treeNodeValue");var h=j.getElementsByTagName("LI");for(var f=0;f<h.length;f++){c=c+","+h[f].getAttribute("treeNodeValue")}var a=this.b13.length;this.b13[a]=new _rdc.AjaxHelper.ajax();this.b13[a].method="GET";this.b13[a].setVar("deleteNodeValues",encodeURIComponent(c));this.__d62(this.b13[a],this.b85);this.b13[a].requestFile=this.c12;var g=this.b13[a];var e=this.f6;var b=this.__d50;g.ajaxTrigger=j;(function(){g.onCompletion=function(){b(g)}})();(function(){g.onError=function(){e(a,j)}})();this._showAjaxIndicatorContainer();this.b13[a].runAJAX()}else{var d=j.getAttribute("treeNodeValue");var k=j.parentNode.parentNode;j.parentNode.removeChild(j);this._d48(k);if(this.enableCheckbox){this.manageNodeCheckboxState(k)}if(this.b48){this.d72()}this.onNodeDeleted(d)}},f9:function(a,b){alert("An error occured while requesting with ajax, please try again. ajaxIndex = "+a);this._hideAjaxIndicatorContainer()},_d50:function(a){this._hideAjaxIndicatorContainer();var c=a.response;if(a.response==_rdc.ASTreeView.Consts.cc16){this._finishDelete(a.ajaxTrigger);return}var b=c.split("|");if(b.length>1){if(b[0]!=_rdc.ASTreeView.Consts.cc16){this._displayDeleteError(a.response)}else{b.shift();this._finishDelete(a.ajaxTrigger,c.substring(2))}}else{this._displayDeleteError(a.response)}},_displayDeleteError:function(a){alert("An error occured while deleting node: "+a)},_finishDelete:function(d,e){if(d){var b=d.getAttribute("treeNodeValue");var a=this.onNodeDeleted(b,e);if(a!=null&&a===false){return}var c=d.parentNode.parentNode;d.parentNode.removeChild(d);this._d48(c);if(this.enableCheckbox){this.manageNodeCheckboxState(c)}d=null}},_showAjaxIndicatorContainer:function(){if(this.f30&&document.getElementById(this.f30)){document.getElementById(this.f30).style.display=""}},_hideAjaxIndicatorContainer:function(){if(this.f30&&document.getElementById(this.f30)){document.getElementById(this.f30).style.display="none"}},addItem:function(c,a){var b=a.parentNode;var e=b.getAttribute("treeNodeValue");var d="";if(this.addNodeDataValueProvider){d=this.addNodeDataValueProvider(b)}else{d=window.prompt(this.c9,this.addNodePromptDefaultValue)}if(!d||_rdc.a3.trim(d)==""||!e){return}if(this.f34){d=_rdc.a3.f3(d)}this._addItemStep2(d,e,b)},_addItemStep2:function(g,b,f){var a=this.b13.length;this.b13[a]=new _rdc.AjaxHelper.ajax();this.b13[a].method="GET";this.b13[a].setVar("addNodeText",encodeURIComponent(g));this.b13[a].setVar("parentNodeValue",encodeURIComponent(b));this.__d62(this.b13[a],this.c15);this.b13[a].requestFile=this.c10;var e=this.b13[a];var d=this.f6;var c=this.__c19;e.ajaxTrigger=f;(function(){e.onCompletion=function(){c(e)}})();(function(){e.onError=function(){d(a,f)}})();this._showAjaxIndicatorContainer();this.b13[a].runAJAX()},_c19:function(k){this._hideAjaxIndicatorContainer();var a=String(k.response);var c="";if(this.f36){var d=new RegExp(this.f38,"gi");if(d.test(a)){c=a.match(this.f38)[0]}else{c=a}}else{c=a}var f=c.match(/<li[.\s\S(?!<li)]*?<\/li>/i);if(!f){alert("An error occured while adding node: "+k.response)}else{if(k.ajaxTrigger){var g=k.ajaxTrigger;var l=document.createElement("div");l.innerHTML=String(f);if(l.childNodes.length>0){var n=this.onNodeAdded(l.childNodes[0]);if(n!=null&&n===false){return}}var e=this.getIcon(g,_rdc.ASTreeView.Consts.cc13);if(e){e.style.visibility="visible";e.src=this.b7}if(!this.c21){var b=this.getIcon(g,_rdc.ASTreeView.Consts.cc15);if(b){b.src=this.b4}}var h=this._getOrCreateUL(g);h.style.display="block";for(var m=0;m<l.childNodes.length;m++){liNode=l.childNodes[m];h.appendChild(liNode);this._d57Node(liNode)}if(this.b41){this.d69(h);for(var m=0;m<h.childNodes.length;m++){if(h.childNodes[m].tagName=="LI"){this.d70(h.childNodes[m])}}if(h.parentNode&&h.parentNode.tagName=="LI"){this.d70(h.parentNode)}}if(this.enableCheckbox){var j=g.getAttribute("checkedState");if(j==_rdc.ASTreeView.Consts.c1){for(var m=0;m<h.childNodes.length;m++){if(h.childNodes[m].tagName=="LI"){this.d64(h.childNodes[m],true)}}this.d66(g)}}k.ajaxTrigger=null}}},_getOrCreateUL:function(a){for(var b=0;b<a.childNodes.length;b++){if(a.childNodes[b].tagName=="UL"){return a.childNodes[b]}}var c=document.createElement("ul");a.appendChild(c);return c},_d52:function(d,g){var h=d||window.event;if(!g&&this){g=h.target||h.srcElement}if(document.all){d=event}if(d.keyCode&&d.keyCode==27){this.__a23(d,g);return}g.style.display="none";g.nextSibling.style.display="";if(this.f34){g.value=_rdc.a3.f3(g.value)}if(g.value.length>0){g.nextSibling.innerHTML=g.value;if(this.b466){if(this.b304!=this.b301){return}this.b304=this.b303;var a=this.b13.length;this.b13[a]=new _rdc.AjaxHelper.ajax();this.b13[a].method="GET";this.b13[a].setVar("nodeValue",encodeURIComponent(g.parentNode.getAttribute("treeNodeValue")));this.b13[a].setVar("newNodeText",encodeURIComponent(g.value));this.__d62(this.b13[a],this.b84);this.b13[a].requestFile=this.c11;this.b13[a].onError=function(){this.f6(a)};var j=this.b13[a];j.ajaxTrigger=g.parentNode;var k=this.__d51;(function(){j.onCompletion=function(){k(j)}})();var c=this.f6;(function(){j.onError=function(){c(a)}})();this._showAjaxIndicatorContainer();this.b13[a].runAJAX()}else{if(this.b48){this.d72()}var b=this.onNodeEdited(g.parentNode);if(b!=null&&b===false){var f=this.d75(g.parentNode,"A");f.innerHTML=this.b30.innerHTML}}}},_d51:function(a){this._hideAjaxIndicatorContainer();var c=a.response;if(a.response==_rdc.ASTreeView.Consts.cc16){this._finishEdit(a.ajaxTrigger);return}var b=c.split("|");if(b.length>1){if(b[0]!=_rdc.ASTreeView.Consts.cc16){this._displayEditError(a.response)}else{b.shift();this._finishEdit(a.ajaxTrigger,c.substring(2))}}else{this._displayEditError(a.response)}},_displayEditError:function(a){alert("An error occured while renaming node: "+a)},_finishEdit:function(c,d){if(c){var a=this.onNodeEdited(c,d);if(a!=null&&a===false){var b=this.d75(c,"A");b.innerHTML=this.b30.innerHTML}}},_a23:function(a,b){var c=a||window.event;this.b304=this.b302;if(!b&&this){b=c.target||c.srcElement}b.value=this.b30.innerHTML;b.nextSibling.innerHTML=this.b30.innerHTML;b.style.display="none";b.nextSibling.style.display=""},_a22:function(a){if(document.all){a=event}var b=a.srcElement||a.target;if(a.keyCode==13&&!this.f32){this._d52(false,b);_rdc.a3.cancelEvent(a)}if(a.keyCode==27){this._a23(false,b)}},_d55:function(b){var a=this.f32?document.createElement("TEXTAREA"):document.createElement("INPUT");a.className="astreeview-edit-box";a.value=this.f34?_rdc.a3.f2(b.innerHTML):b.innerHTML;b.parentNode.insertBefore(a,b);a.id="textBox"+b.parentNode.getAttribute("treeNodeValue");_rdc.a3.addEvent(a,"blur",this.__d52);_rdc.a3.addEvent(a,"keydown",this.__a22);this._d56(b)},_d56:function(a){this.b304=this.b301;a.style.display="none";a.previousSibling.value=this.f34?_rdc.a3.f2(a.innerHTML):a.innerHTML;a.previousSibling.style.display="inline";a.previousSibling.focus();a.previousSibling.select()},editItem:function(b,a){b29=a.parentNode;if(!a.previousSibling||a.previousSibling.tagName.toLowerCase()!="input"){this._d55(a)}else{this._d56(a)}this.b30.innerHTML=a.innerHTML},_c20:function(e){this._hideAjaxIndicatorContainer();var a=String(e.response);var d="";if(this.f36){var c=new RegExp(this.f38,"gi");if(c.test(a)){d=a.match(this.f38)[0]}else{d=a}}else{d=a}if(e.ajaxTrigger){var f=e.ajaxTrigger.getElementsByTagName("ul")[0];if(f.getAttribute("virtial-node-placeholder-ul")=="true"){f.innerHTML=d}this._initializeNodesUL(f);if(this.b41){this.d69(f)}if(this.enableCheckbox&&this.enableThreeStateCheckbox){var b=e.ajaxTrigger.getAttribute("checkedState");if(b==_rdc.ASTreeView.Consts.c1){this.d64(e.ajaxTrigger,true)}this.manageNodeCheckboxState(e.ajaxTrigger)}f.parentNode.setAttribute("is-virtual-node","false");e.ajaxTrigger=null}},d57:function(){this.d39();_rdc.a3.addEvent(document.documentElement,"selectstart",this._d42);_rdc.a3.addEvent(document.documentElement,"dragstart",this.d41);_rdc.a3.addEvent(document.documentElement,"mousedown",this._d46);this.b30=document.createElement("DIV");this.b30.style.display="none";document.body.appendChild(this.b30);if(this.b27||this.b26){try{}catch(a){}}var b=document.getElementById(this.b1);this._initializeNodesUL(b);_rdc.a3.addEvent(document.documentElement,"mousemove",this.f4);_rdc.a3.addEvent(document.documentElement,"mouseup",this.f5)},_initializeNodesUL:function(a){var c=a.getElementsByTagName("LI");for(var b=0;b<c.length;b++){this._d57Node(c[b])}},_d57Node:function(g){if(g.getAttribute("virtial-node-placeholder-li")=="true"){return}var b=true;var e=g.getAttribute("enable-drag-drop");if(e&&e=="false"){b=false}var d=g.getElementsByTagName("UL");var f=this.getIcon(g,_rdc.ASTreeView.Consts.cc13);_rdc.a3.addEvent(f,"click",this.__d33);if(d.length>0){d[0].id="t_u_"+g.getAttribute("treeNodeValue");this.b49++}var c=this.d75(g,"A");if(c&&b&&this.enableDragDrop){_rdc.a3.addEvent(c,"mousedown",this._d35);_rdc.a3.addEvent(c,"mousemove",this.f4);if(this.f44){_rdc.a3.addEvent(c.parentNode,"mousedown",this._d35);_rdc.a3.addEvent(c.parentNode,"mousemove",this.f4)}}if(this.enableCheckbox){var a=this.getIcon(g,_rdc.ASTreeView.Consts.cc14);_rdc.a3.addEvent(a,"click",this._d63)}var j=this.getIcon(g,_rdc.ASTreeView.Consts.cc15);if(j){if(b&&this.enableDragDropOnIcon&&this.enableDragDrop){_rdc.a3.addEvent(j,"mousedown",this._d35);_rdc.a3.addEvent(j,"mousemove",this.f4)}}var h=(g.getAttribute("enable-selection")=="false");if(c&&this.b34&&!h){_rdc.a3.addEvent(c,"click",this._a20)}},__d58:function(a){if(a){return a.getElementsByTagName("LI")}else{return new Array()}},__d59:function(c){var b=c.childNodes;var f=new Array();for(var a=0;a<b.length;a++){if(b[a].tagName&&b[a].tagName=="UL"){var e=b[a].childNodes;for(var d=0;d<e.length;d++){if(e[d].tagName&&e[d].tagName=="LI"){f.push(e[d])}}}}return f},__d61:function(a){return this.__d60(a)},__d60:function(b){var a=b.parentNode;if(!a){return null}if(a.id==this.b1){return null}if(a.tagName=="LI"){return a}else{return this.__d60(a)}},__d62:function(c,a){for(var b in a){c.setVar(b,a[b])}},getCheckedNodesValues:function(d,c){if(!c){c=","}var b="";var a=function(f){var e=f.getAttribute("checkedState");if(e){e=parseInt(e)}if((e==_rdc.ASTreeView.Consts.c1)||(e==_rdc.ASTreeView.Consts.c11&&d)){var g=f.getAttribute("treeNodeValue");b+=(g+c)}};this.traverseTreeNode(a);if(b.length>0){b=b.substr(0,b.length-c.length)}return b},d63:function(b){var a=b||window.event;var c=a.target||a.srcElement;if(c.tagName!="IMG"){return}this.d64(c);if(this.enableThreeStateCheckbox){this.d66(c.parentNode)}if(this.b48){this.d72()}this.b51(b)},d64:function(c,b){var d=(c.tagName=="LI")?c:c.parentNode;if(c.tagName=="LI"){c=this.getIcon(c,_rdc.ASTreeView.Consts.cc14)}var a=d.getAttribute("checkedState");if(a!=_rdc.ASTreeView.Consts.c1||b){d.setAttribute("checkedState",_rdc.ASTreeView.Consts.c1);c.src=this.b15;if(this.enableThreeStateCheckbox){this.d65(d,_rdc.ASTreeView.Consts.c1)}}else{d.setAttribute("checkedState",_rdc.ASTreeView.Consts.c111);c.src=this.b14;if(this.enableThreeStateCheckbox){this.d65(d,_rdc.ASTreeView.Consts.c111)}}},d65:function(f,c){var b=this.__d58(f);for(var d=0;d<b.length;d++){var e=b[d];if(e.getAttribute("virtial-node-placeholder-li")=="true"){continue}var a=this.getIcon(e,_rdc.ASTreeView.Consts.cc14);e.setAttribute("checkedState",c);if(c==_rdc.ASTreeView.Consts.c1){a.src=this.b15}else{if(c==_rdc.ASTreeView.Consts.c111){a.src=this.b14}else{if(c==_rdc.ASTreeView.Consts.c11){a.src=this.b16}}}}},manageNodeCheckboxState:function(a){while(a){if(a.id&&a.id==this.b1){break}var h=this.__d59(a);var f=h.length;var c=0;var e=0;for(var g=0;g<h.length;g++){var b=h[g];if(b.getAttribute("checkedState")==_rdc.ASTreeView.Consts.c1){c++}if(b.getAttribute("checkedState")==_rdc.ASTreeView.Consts.c11){e++}}var d=_rdc.a1("astreeview-checkbox","IMG",a)[0];if(e>0){a.setAttribute("checkedState",_rdc.ASTreeView.Consts.c11);d.src=this.b16}else{if(c==0){a.setAttribute("checkedState",_rdc.ASTreeView.Consts.c111);d.src=this.b14}else{if(c==f){a.setAttribute("checkedState",_rdc.ASTreeView.Consts.c1);d.src=this.b15}else{a.setAttribute("checkedState",_rdc.ASTreeView.Consts.c11);d.src=this.b16}}}var a=this.__d61(a)}},d66:function(a){var b=this.__d61(a);this.manageNodeCheckboxState(b)},d67:function(){var a=document.getElementById(this.b1);var c=a.getElementsByTagName("li");if(c.length==0){return}var b=c[0];this.d68(b)},d68:function(a){var j=this.__d59(a);if(j.length==0){return a.getAttribute("checkedState")}else{var f=j.length;var c=0;var e=0;for(var g=0;g<j.length;g++){var b=j[g];var h=this.d68(b);if(h==_rdc.ASTreeView.Consts.c1){c++}if(b.getAttribute("checkedState")==_rdc.ASTreeView.Consts.c1&&this.__d59(b).length>0){c++}if(b.getAttribute("checkedState")==_rdc.ASTreeView.Consts.c11&&this.__d59(b).length>0){e++}}var d=_rdc.a1("astreeview-checkbox","IMG",a)[0];if(e>0){a.setAttribute("checkedState",_rdc.ASTreeView.Consts.c11);d.src=this.b16}else{if(c==0){a.setAttribute("checkedState",_rdc.ASTreeView.Consts.c111);d.src=this.b14}else{if(c==f){a.setAttribute("checkedState",_rdc.ASTreeView.Consts.c1);d.src=this.b15}else{a.setAttribute("checkedState",_rdc.ASTreeView.Consts.c11);d.src=this.b16}}}}},clearTreeLines:function(b){var a=b.className;a=a.replace(this.b44,"");a=a.replace(this.c17,"");a=a.replace(this.c18,"");a=a.replace(this.b43,"");a=a.replace(this.b42,"");a=a.replace(this.b45,"");b.className=a},isSingleRootNode:function(a){return(a.parentNode.childNodes.length==1)&&a.parentNode==document.getElementById(this.b1)},isTopRootNode:function(a){return(a.parentNode.childNodes.length>1&&a.parentNode==document.getElementById(this.b1)&&a==a.parentNode.firstChild)},d70:function(c){var a=_rdc.a3.parent(c);if(!a){return}if(_rdc.a3.last(a)==c){this.clearTreeLines(c);var b=c.className;b+=(" "+this.b44);c.className=b}else{this.clearTreeLines(c);var b=c.className;b+=(" "+this.b43);c.className=b}var d=_rdc.a3.last(c);if(d&&d.tagName=="UL"){this.d69(d)}if(this.isSingleRootNode(c)){this.clearTreeLines(c);var b=c.className;b+=(" "+this.c17);c.className=b}if(this.isTopRootNode(c)){this.clearTreeLines(c);var b=c.className;b+=(" "+this.c18);c.className=b}},d69:function(a){if(a.parentNode&&a.parentNode.parentNode){var b=a.parentNode.parentNode;if(_rdc.a3.last(b)==a.parentNode){this.clearTreeLines(a);this.clearTreeLines(a.parentNode);var c=a.className;c+=(" "+this.b45);a.className=c;c=a.parentNode.className;c+=(" "+this.b44);a.parentNode.className=c;return}}this.clearTreeLines(a);var c=a.className;c+=(" "+this.b42);a.className=c},getSelectedNodesValue:function(){var b="";var a=function(d){var c=d.getAttribute("selected");if(c=="true"){var e=d.getAttribute("treeNodeValue");b=e}};this.traverseTreeNode(a);return b},a20:function(b){var a=b||window.event;var d=a.target||a.srcElement;if(!d.getAttribute("is-astreeview-node")){d=_rdc.a3.f1(d)}var f=d.parentNode;if(!f){return}if(this.f27&&this.__d59(f).length>0){var c=this.getIcon(f,_rdc.ASTreeView.Consts.cc13);this.__d33(b,f.id)}if(!this.b39){if(this.__d59(f).length>0){return}}this.d71();d.className=this.b33+" "+d.className;this.b32=f.id;f.setAttribute("selected","true");if(this.b48){this.d72()}this.b50(b)},d71:function(){var a=document.getElementById(this.b1);var d=a.getElementsByTagName("LI");for(var b=0;b<d.length;b++){d[b].removeAttribute("selected");var c=this.d75(d[b],"A");if(c){c.className=c.className.replace(this.b33,"")}}},d72:function(){if(this.b37!=""&&_rdc.$(this.b37)){_rdc.$(this.b37).value=_rdc.JsonHelper.toArrayJSONString(this.d43())}},d73:function(){return this.b1},d74:function(id){var result=false;for(var i=0;i<this.b47.length;i++){if(eval(this.b47[i]+".d73()")==id){return this.b47[i];break}}return result},d75:function(c,a){for(var b=0;b<c.childNodes.length;b++){if(c.childNodes[b].tagName==a){return c.childNodes[b]}}return null},getIcon:function(c,d){for(var a=0;a<c.childNodes.length;a++){var b=c.childNodes[a];if(b.tagName!="IMG"){continue}var e=b.getAttribute("icon-type");if(!e){continue}if(d==e){return b}}return null}};if(typeof(rdcjs)=="undefined"){_rdc=rdcjs={}}_rdc.IE6SelectHelper=function(){this.selectList=new Array()};_rdc.IE6SelectHelper.prototype={isInRange:function(b,h){var c=document.getElementById(h);if(!c){return false}var j=this.getX(b);var d=this.getY(b);var f=b.offsetWidth+j;var g=b.offsetHeight+d;var k=this.getX(c);var l=this.getY(c);var e=c.offsetWidth+k;var a=c.offsetHeight+l;if(j<k&&f<k){return false}if(j>e&&f>e){return false}if(d<l&&g<l){return false}if(d>a&&g>a){return false}return true},hideSelect:function(a){if(this.msieversion()<=6&&document.all){var d=document.getElementsByTagName("select");for(var c=0;c<d.length;c++){var b=d[c];if(!this.isInRange(b,a)){continue}if(b.style.visibility!="hidden"){b.style.visibility="hidden";this.selectList.push(b)}}}},showSelect:function(){for(var a=0;a<this.selectList.length;a++){this.selectList[a].style.visibility="visible"}while(this.selectList.length>0){this.selectList.pop()}},getX:function(b){var a=0;while(b!=null){a+=b.offsetLeft;b=b.offsetParent}return a},getY:function(b){var a=0;while(b!=null){a+=b.offsetTop;b=b.offsetParent}return a},msieversion:function(){var b=window.navigator.userAgent;var a=b.indexOf("MSIE ");if(a>0){return parseInt(b.substring(a+5,b.indexOf(".",a)))}else{return 0}}};_rdc.ASContextMenuHelper=function(){};_rdc.ASContextMenuHelper.Bind=function(b,a){return function(){return a.apply(b,arguments)}};_rdc.ASContextMenuHelper.BindAsEventListener=function(b,a){return function(c){return a.call(b,(c||window.event))}};_rdc.ASContextMenuHelper.addEvent=function(c,b,a){if(c.addEventListener){c.addEventListener(b,a,false)}else{if(c.attachEvent){c.attachEvent("on"+b,a)}else{c["on"+b]=a}}};_rdc.ASContextMenuHelper.removeEvent=function(c,b,a){if(c.removeEventListener){c.removeEventListener(b,a,false)}else{if(c.detachEvent){c.detachEvent("on"+b,a)}else{c["on"+b]=null}}};_rdc.ASContextMenuHelper.cancelEvent=function(a){a=a||window.event;if(a.preventDefault){a.preventDefault();a.stopPropagation()}else{a.returnValue=false;a.cancelBubble=true}};_rdc.ASContextMenuHelper.getEventTarget=function(a){a=a||window.event;var b=a.srcElement?a.srcElement:a.target;return b};_rdc.ASContextMenuHelper.isIE=(document.all)?true:false;_rdc.ASContextMenuHelper.prev=function(a){do{a=a.previousSibling}while(a&&a.nodeType!=1);return a};_rdc.ASContextMenuHelper.next=function(a){do{a=a.nextSibling}while(a&&a.nodeType!=1);return a};_rdc.ASContextMenuHelper.first=function(a){a=a.firstChild;return a&&a.nodeType!=1?_rdc.next(a):a};_rdc.ASContextMenuHelper.last=function(a){a=a.lastChild;return a&&a.nodeType!=1?_rdc.prev(a):a};_rdc.ASContextMenuHelper.parent=function(a,c){c=c||1;for(var b=0;b<c;b++){if(a!=null){a=a.parentNode}}return a};_rdc.ASContextMenuHelper.mouseX=function(a){var b=0;if(!a){var a=window.event}if(a.pageX){b=a.pageX}else{if(a.clientX){b=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft}}return b};_rdc.ASContextMenuHelper.mouseY=function(a){var b=0;if(!a){var a=window.event}if(a.pageY){b=a.pageY}else{if(a.clientY){b=a.clientY+document.body.scrollTop+document.documentElement.scrollTop}}return b};_rdc.ASContextMenu=function(){this.a11=new Array();this.a10=null;this.a9=null;this.a12=true;this.a13=true;this.a15=null;this.a16=new _rdc.IE6SelectHelper();this.a3=_rdc.ASContextMenuHelper.BindAsEventListener(this,this.a4);this.a5=_rdc.ASContextMenuHelper.BindAsEventListener(this,this.a6);this._cNames=null};_rdc.ASContextMenu.IsContextMenuShowed={};_rdc.ASContextMenu.prototype={setup:function(a){if(document.all&&document.getElementById&&!window.opera){this.IE=true}if(!document.all&&document.getElementById&&!window.opera){this.FF=true}if(navigator.appName.indexOf("Opera")!=-1){this.OP=true}if(this.IE||this.FF){_rdc.ASContextMenuHelper.addEvent(document,"contextmenu",this.a3);_rdc.ASContextMenuHelper.addEvent(document,"click",this.a5);if(a&&typeof(a.preventDefault)!="undefined"){this.a12=a.preventDefault}if(a&&typeof(a.preventForms)!="undefined"){this.a13=a.preventForms}}else{if(this.OP){_rdc.ASContextMenuHelper.addEvent(document,"mousedown",this.a3);_rdc.ASContextMenuHelper.addEvent(document,"mousedown",this.a5)}}},getSelectedItem:function(){return this.a15},attachContextMenu:function(b,a){if(typeof(b)=="string"){this.a11[b]=a}if(typeof(b)=="object"){for(x=0;x<b.length;x++){this.a11[b[x]]=a}}this._cNames=b},a1:function(b){if(this.IE){this.a10=event.srcElement}else{this.a10=b.target}while(this.a10!=null){var c=this.a10.className;if(typeof(c)!="undefined"){c=c.replace(/^\s+/g,"").replace(/\s+$/g,"");var a=c.split(/[ ]+/g);for(i=0;i<a.length;i++){if(this.a11[a[i]]){return this.a11[a[i]]}}}if(this.IE){this.a10=this.a10.parentElement}else{this.a10=this.a10.parentNode}}return null},a2:function(c){var h=false;for(var f in _rdc.ASContextMenu.IsContextMenuShowed){if(f.indexOf("contextmenumark")!=-1){if(_rdc.ASContextMenu.IsContextMenuShowed[f]){h=true}}}if(h){return false}var d=true;var g=this.IE?window.event:c;if(g.button!=1){if(g.target){var b=g.target}else{if(g.srcElement){var b=g.srcElement}}var a=b.tagName.toLowerCase();if((a=="input"||a=="textarea")){if(!this.a13){d=true}else{d=false}}else{if(!this.a12){d=true}else{d=false}}}return d},getMenuA:function(b){var a=b.getElementsByTagName("A");if(a.length==0){return null}return a[0]},_findRealTarget:function(b){var a=b.parentNode;while(a){if(a&&a.className&&a.className.indexOf(this._cNames)>=0){return a}a=a.parentNode}return null},a4:function(d){d=d||window.event;if(this.OP){if(!d.ctrlKey){return}}var c=d.srcElement||d.target;if(c&&c.className.indexOf(this._cNames)<0){c=this._findRealTarget(c)}if(!c){return}var a=this.a1(d);if(a){this.a9=document.getElementById(a);this.a9.style.display="block";this._setElementByMousePosition(d,this.a9);this.a15=c;this.a16.hideSelect(a);if(!_rdc.ASContextMenuHelper.isIE){d.preventDefault()}for(var g=0;g<this.a9.childNodes.length;g++){var b=this.a9.childNodes[g];if(b.tagName=="LI"){b.style.display="";var h=this.getMenuA(b);if(h){var f=h.getAttribute("cmdName");if(f){if(c.getAttribute("disable"+f)){b.style.display="none"}}}}}_rdc.ASContextMenu.IsContextMenuShowed["contextmenumark"+a]=true;return false}else{this.a6(d)}return this.a2(d)},a6:function(a){if(this.OP){if(a.ctrlKey){return}}if(this.a9){this.a9.style.display="none";this.a16.showSelect();_rdc.ASContextMenu.IsContextMenuShowed["contextmenumark"+this.a9.id]=false}},a7:function(a){var b={x:_rdc.ASContextMenuHelper.mouseX(a),y:_rdc.ASContextMenuHelper.mouseY(a)};return b},_setElementByMousePosition:function(b,a){var g=this.a7(b);var f=0;var c=0;var d=a.offsetParent;while(d){f+=d.offsetLeft;c+=d.offsetTop;d=d.offsetParent}a.style.left=(g.x-f)+"px";a.style.top=(g.y-c)+"px"},a8:function(){var a=0;var b=0;if(typeof(window.pageYOffset)=="number"){a=window.pageXOffset;b=window.pageYOffset}else{if(document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)){a=document.documentElement.scrollLeft;b=document.documentElement.scrollTop}else{if(document.body&&(document.body.scrollLeft||document.body.scrollTop)){a=document.body.scrollLeft;b=document.body.scrollTop}}}var c={x:a,y:b};return c}};