<!DOCTYPE HTML>
<html>
  <head>
    <style>
      body {
        margin: 0px;
        padding: 0px;
      }
      #myCanvas {
        border: 1px solid #9C9898;
      }
    </style>
    <script>
        function loadImages(sources, callback) {
            var images = {};
            var loadedImages = 0;
            var numImages = 0;
            // get num of sources
            for (var src in sources) {
                numImages++;
            }
            for (var src in sources) {
                images[src] = new Image();
                images[src].onload = function () {
                    if (++loadedImages >= numImages) {
                        callback(images);
                    }
                };
                images[src].src = sources[src];
            }
        }

        window.onload = function (images) {
            var canvas = document.getElementById("myCanvas");
            var context = canvas.getContext("2d");

            var sources = {
                darthVader: "http://www.html5canvastutorials.com/demos/assets/darth-vader.jpg",
                yoda: "http://www.html5canvastutorials.com/demos/assets/yoda.jpg"
            };

            loadImages(sources, function (images1) {
                context.fillStyle = "blue";
                context.fillText("Hello World!", 0, 0);
                context.stroke();
                context.drawImage(images1.darthVader, 100, 30, 200, 137);
                context.drawImage(images1.yoda, 350, 55, 93, 104);
            });
        };

    </script>
  </head>
  <body>
    <canvas id="myCanvas" width="578" height="200"></canvas>
  </body>
</html>
